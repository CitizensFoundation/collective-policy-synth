{"version":3,"file":"simple-chat-bot.js","sourceRoot":"","sources":["../../src/simple-chat-bot.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;AAC5D,OAAO,EAAE,GAAG,EAAE,MAAM,KAAK,CAAC;AAE1B,OAAO,EAAE,eAAe,EAAE,MAAM,sDAAsD,CAAC;AACvF,OAAO,EAAE,mBAAmB,EAAE,MAAM,mBAAmB,CAAC;AAGjD,IAAM,aAAa,GAAnB,MAAM,aAAc,SAAQ,eAAe;IAA3C;;QAEL,qBAAgB,GAAG,IAAI,CAAC;QAGxB,qBAAgB,GAAG,IAAI,CAAC;IAuC1B,CAAC;IAnCU,iBAAiB;QACxB,KAAK,CAAC,iBAAiB,EAAE,CAAC;QAC1B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,CAAC,CAAC,uBAAuB,CAAC,CAAC;QACtD,IAAI,CAAC,SAAS,GAAG,IAAI,mBAAmB,EAAE,CAAC;IAC7C,CAAC;IAED,MAAM,KAAc,MAAM;QACxB,OAAO;YACL,GAAG,KAAK,CAAC,MAAM;YACf,GAAG,CAAA;;;;OAIF;SACF,CAAC;IACJ,CAAC;IAEQ,KAAK,CAAC,eAAe;QAC5B,MAAM,WAAW,GAAG,IAAI,CAAC,cAAe,CAAC,KAAK,CAAC;QAC/C,KAAK,CAAC,eAAe,EAAE,CAAC;QAExB,IAAI,CAAC,iBAAiB,CAAC;YACrB,MAAM,EAAE,KAAK;YACb,IAAI,EAAE,OAAO;YACb,OAAO,EAAE,WAAW;SACrB,CAAC,CAAC;QAEH,IAAI,CAAC,iBAAiB,CAAC;YACrB,MAAM,EAAE,KAAK;YACb,IAAI,EAAE,UAAU;YAChB,OAAO,EAAE,EAAE;SACZ,CAAC,CAAC;QAEH,MAAM,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;IAC7E,CAAC;CACF,CAAA;AA3CC;IAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;uDACH;AAExB;IAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;;uDACJ;AALb,aAAa;IADzB,aAAa,CAAC,iBAAiB,CAAC;GACpB,aAAa,CA4CzB;SA5CY,aAAa","sourcesContent":["import { customElement, property } from 'lit/decorators.js';\nimport { css } from 'lit';\n\nimport { PsChatAssistant } from '@policysynth/webapp/cmp/chatBot/ps-chat-assistant.js';\nimport { SimpleChatServerApi } from './SimpleServerApi';\n\n@customElement('simple-chat-bot')\nexport class SimpleChatBot extends PsChatAssistant {\n  @property({ type: Number })\n  defaultDevWsPort = 5011;\n\n  @property({ type: Boolean })\n  onlyUseTextField = true;\n\n  serverApi: SimpleChatServerApi;\n\n  override connectedCallback(): void {\n    super.connectedCallback();\n    this.textInputLabel = this.t(\"What's your question?\");\n    this.serverApi = new SimpleChatServerApi();\n  }\n\n  static override get styles() {\n    return [\n      ...super.styles,\n      css`\n        .chat-window {\n          height: 85vh;\n        }\n      `,\n    ];\n  }\n\n  override async sendChatMessage() {\n    const userMessage = this.chatInputField!.value;\n    super.sendChatMessage();\n\n    this.addChatBotElement({\n      sender: 'you',\n      type: 'start',\n      message: userMessage,\n    });\n\n    this.addChatBotElement({\n      sender: 'bot',\n      type: 'thinking',\n      message: '',\n    });\n\n    await this.serverApi.conversation(this.simplifiedChatLog, this.wsClientId);\n  }\n}\n"]}
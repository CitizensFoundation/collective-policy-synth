var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};var e=function(){return e=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},e.apply(this,arguments)};function i(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a}function n(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function r(t,e,i,n){return new(i||(i=Promise))((function(r,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function s(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,s)}l((n=n.apply(t,e||[])).next())}))}function o(t,e){var i,n,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(i=1,n&&(r=2&s[0]?n.return:s[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,s[1])).done)return r;switch(n=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],n=0}finally{i=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function a(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))}
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const s=window,l=s.ShadowRoot&&(void 0===s.ShadyCSS||s.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,c=Symbol(),d=new WeakMap;class u{constructor(t,e,i){if(this._$cssResult$=!0,i!==c)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(l&&void 0===t){const i=void 0!==e&&1===e.length;i&&(t=d.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&d.set(e,t))}return t}toString(){return this.cssText}}const h=(t,...e)=>{const i=1===t.length?t[0]:e.reduce(((e,i,n)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[n+1]),t[0]);return new u(i,t,c)},p=l?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const i of t.cssRules)e+=i.cssText;return(t=>new u("string"==typeof t?t:t+"",void 0,c))(e)})(t):t
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;var g;const f=window,m=f.trustedTypes,v=m?m.emptyScript:"",b=f.reactiveElementPolyfillSupport,y={toAttribute(t,e){switch(e){case Boolean:t=t?v:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},x=(t,e)=>e!==t&&(e==e||t==t),w={attribute:!0,type:String,converter:y,reflect:!1,hasChanged:x};class I extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(t){var e;this.finalize(),(null!==(e=this.h)&&void 0!==e?e:this.h=[]).push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((e,i)=>{const n=this._$Ep(i,e);void 0!==n&&(this._$Ev.set(n,i),t.push(n))})),t}static createProperty(t,e=w){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const i="symbol"==typeof t?Symbol():"__"+t,n=this.getPropertyDescriptor(t,i,e);void 0!==n&&Object.defineProperty(this.prototype,t,n)}}static getPropertyDescriptor(t,e,i){return{get(){return this[e]},set(n){const r=this[t];this[e]=n,this.requestUpdate(t,r,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||w}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),void 0!==t.h&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const i of e)this.createProperty(i,t[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const t of i)e.unshift(p(t))}else void 0!==t&&e.push(p(t));return e}static _$Ep(t,e){const i=e.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}u(){var t;this._$E_=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach((t=>t(this)))}addController(t){var e,i;(null!==(e=this._$ES)&&void 0!==e?e:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(i=t.hostConnected)||void 0===i||i.call(t))}removeController(t){var e;null===(e=this._$ES)||void 0===e||e.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((t,e)=>{this.hasOwnProperty(e)&&(this._$Ei.set(e,this[e]),delete this[e])}))}createRenderRoot(){var t;const e=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return((t,e)=>{l?t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):e.forEach((e=>{const i=document.createElement("style"),n=s.litNonce;void 0!==n&&i.setAttribute("nonce",n),i.textContent=e.cssText,t.appendChild(i)}))})(e,this.constructor.elementStyles),e}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$EO(t,e,i=w){var n;const r=this.constructor._$Ep(t,i);if(void 0!==r&&!0===i.reflect){const o=(void 0!==(null===(n=i.converter)||void 0===n?void 0:n.toAttribute)?i.converter:y).toAttribute(e,i.type);this._$El=t,null==o?this.removeAttribute(r):this.setAttribute(r,o),this._$El=null}}_$AK(t,e){var i;const n=this.constructor,r=n._$Ev.get(t);if(void 0!==r&&this._$El!==r){const t=n.getPropertyOptions(r),o="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==(null===(i=t.converter)||void 0===i?void 0:i.fromAttribute)?t.converter:y;this._$El=r,this[r]=o.fromAttribute(e,t.type),this._$El=null}}requestUpdate(t,e,i){let n=!0;void 0!==t&&(((i=i||this.constructor.getPropertyOptions(t)).hasChanged||x)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===i.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,i))):n=!1),!this.isUpdatePending&&n&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((t,e)=>this[e]=t)),this._$Ei=void 0);let e=!1;const i=this._$AL;try{e=this.shouldUpdate(i),e?(this.willUpdate(i),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(i)):this._$Ek()}catch(t){throw e=!1,this._$Ek(),t}e&&this._$AE(i)}willUpdate(t){}_$AE(t){var e;null===(e=this._$ES)||void 0===e||e.forEach((t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,e)=>this._$EO(e,this[e],t))),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var C;I.finalized=!0,I.elementProperties=new Map,I.elementStyles=[],I.shadowRootOptions={mode:"open"},null==b||b({ReactiveElement:I}),(null!==(g=f.reactiveElementVersions)&&void 0!==g?g:f.reactiveElementVersions=[]).push("1.6.1");const A=window,S=A.trustedTypes,k=S?S.createPolicy("lit-html",{createHTML:t=>t}):void 0,_="$lit$",T=`lit$${(Math.random()+"").slice(9)}$`,P="?"+T,M=`<${P}>`,N=document,L=()=>N.createComment(""),O=t=>null===t||"object"!=typeof t&&"function"!=typeof t,E=Array.isArray,D=t=>E(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator]),z="[ \t\n\f\r]",j=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,R=/-->/g,G=/>/g,B=RegExp(`>|${z}(?:([^\\s"'>=/]+)(${z}*=${z}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),U=/'/g,Z=/"/g,$=/^(?:script|style|textarea|title)$/i,F=t=>(e,...i)=>({_$litType$:t,strings:e,values:i}),W=F(1),V=F(2),Y=Symbol.for("lit-noChange"),H=Symbol.for("lit-nothing"),X=new WeakMap,J=N.createTreeWalker(N,129,null,!1),Q=(t,e)=>{const i=t.length-1,n=[];let r,o=2===e?"<svg>":"",a=j;for(let e=0;e<i;e++){const i=t[e];let s,l,c=-1,d=0;for(;d<i.length&&(a.lastIndex=d,l=a.exec(i),null!==l);)d=a.lastIndex,a===j?"!--"===l[1]?a=R:void 0!==l[1]?a=G:void 0!==l[2]?($.test(l[2])&&(r=RegExp("</"+l[2],"g")),a=B):void 0!==l[3]&&(a=B):a===B?">"===l[0]?(a=null!=r?r:j,c=-1):void 0===l[1]?c=-2:(c=a.lastIndex-l[2].length,s=l[1],a=void 0===l[3]?B:'"'===l[3]?Z:U):a===Z||a===U?a=B:a===R||a===G?a=j:(a=B,r=void 0);const u=a===B&&t[e+1].startsWith("/>")?" ":"";o+=a===j?i+M:c>=0?(n.push(s),i.slice(0,c)+_+i.slice(c)+T+u):i+T+(-2===c?(n.push(void 0),e):u)}const s=o+(t[i]||"<?>")+(2===e?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==k?k.createHTML(s):s,n]};class K{constructor({strings:t,_$litType$:e},i){let n;this.parts=[];let r=0,o=0;const a=t.length-1,s=this.parts,[l,c]=Q(t,e);if(this.el=K.createElement(l,i),J.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(n=J.nextNode())&&s.length<a;){if(1===n.nodeType){if(n.hasAttributes()){const t=[];for(const e of n.getAttributeNames())if(e.endsWith(_)||e.startsWith(T)){const i=c[o++];if(t.push(e),void 0!==i){const t=n.getAttribute(i.toLowerCase()+_).split(T),e=/([.?@])?(.*)/.exec(i);s.push({type:1,index:r,name:e[2],strings:t,ctor:"."===e[1]?nt:"?"===e[1]?ot:"@"===e[1]?at:it})}else s.push({type:6,index:r})}for(const e of t)n.removeAttribute(e)}if($.test(n.tagName)){const t=n.textContent.split(T),e=t.length-1;if(e>0){n.textContent=S?S.emptyScript:"";for(let i=0;i<e;i++)n.append(t[i],L()),J.nextNode(),s.push({type:2,index:++r});n.append(t[e],L())}}}else if(8===n.nodeType)if(n.data===P)s.push({type:2,index:r});else{let t=-1;for(;-1!==(t=n.data.indexOf(T,t+1));)s.push({type:7,index:r}),t+=T.length-1}r++}}static createElement(t,e){const i=N.createElement("template");return i.innerHTML=t,i}}function q(t,e,i=t,n){var r,o,a,s;if(e===Y)return e;let l=void 0!==n?null===(r=i._$Co)||void 0===r?void 0:r[n]:i._$Cl;const c=O(e)?void 0:e._$litDirective$;return(null==l?void 0:l.constructor)!==c&&(null===(o=null==l?void 0:l._$AO)||void 0===o||o.call(l,!1),void 0===c?l=void 0:(l=new c(t),l._$AT(t,i,n)),void 0!==n?(null!==(a=(s=i)._$Co)&&void 0!==a?a:s._$Co=[])[n]=l:i._$Cl=l),void 0!==l&&(e=q(t,l._$AS(t,e.values),l,n)),e}class tt{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var e;const{el:{content:i},parts:n}=this._$AD,r=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:N).importNode(i,!0);J.currentNode=r;let o=J.nextNode(),a=0,s=0,l=n[0];for(;void 0!==l;){if(a===l.index){let e;2===l.type?e=new et(o,o.nextSibling,this,t):1===l.type?e=new l.ctor(o,l.name,l.strings,this,t):6===l.type&&(e=new st(o,this,t)),this._$AV.push(e),l=n[++s]}a!==(null==l?void 0:l.index)&&(o=J.nextNode(),a++)}return r}v(t){let e=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}}class et{constructor(t,e,i,n){var r;this.type=2,this._$AH=H,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=n,this._$Cp=null===(r=null==n?void 0:n.isConnected)||void 0===r||r}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cp}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===(null==t?void 0:t.nodeType)&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=q(this,t,e),O(t)?t===H||null==t||""===t?(this._$AH!==H&&this._$AR(),this._$AH=H):t!==this._$AH&&t!==Y&&this._(t):void 0!==t._$litType$?this.g(t):void 0!==t.nodeType?this.$(t):D(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==H&&O(this._$AH)?this._$AA.nextSibling.data=t:this.$(N.createTextNode(t)),this._$AH=t}g(t){var e;const{values:i,_$litType$:n}=t,r="number"==typeof n?this._$AC(t):(void 0===n.el&&(n.el=K.createElement(n.h,this.options)),n);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===r)this._$AH.v(i);else{const t=new tt(r,this),e=t.u(this.options);t.v(i),this.$(e),this._$AH=t}}_$AC(t){let e=X.get(t.strings);return void 0===e&&X.set(t.strings,e=new K(t)),e}T(t){E(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let i,n=0;for(const r of t)n===e.length?e.push(i=new et(this.k(L()),this.k(L()),this,this.options)):i=e[n],i._$AI(r),n++;n<e.length&&(this._$AR(i&&i._$AB.nextSibling,n),e.length=n)}_$AR(t=this._$AA.nextSibling,e){var i;for(null===(i=this._$AP)||void 0===i||i.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cp=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class it{constructor(t,e,i,n,r){this.type=1,this._$AH=H,this._$AN=void 0,this.element=t,this.name=e,this._$AM=n,this.options=r,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=H}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,i,n){const r=this.strings;let o=!1;if(void 0===r)t=q(this,t,e,0),o=!O(t)||t!==this._$AH&&t!==Y,o&&(this._$AH=t);else{const n=t;let a,s;for(t=r[0],a=0;a<r.length-1;a++)s=q(this,n[i+a],e,a),s===Y&&(s=this._$AH[a]),o||(o=!O(s)||s!==this._$AH[a]),s===H?t=H:t!==H&&(t+=(null!=s?s:"")+r[a+1]),this._$AH[a]=s}o&&!n&&this.j(t)}j(t){t===H?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class nt extends it{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===H?void 0:t}}const rt=S?S.emptyScript:"";class ot extends it{constructor(){super(...arguments),this.type=4}j(t){t&&t!==H?this.element.setAttribute(this.name,rt):this.element.removeAttribute(this.name)}}class at extends it{constructor(t,e,i,n,r){super(t,e,i,n,r),this.type=5}_$AI(t,e=this){var i;if((t=null!==(i=q(this,t,e,0))&&void 0!==i?i:H)===Y)return;const n=this._$AH,r=t===H&&n!==H||t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive,o=t!==H&&(n===H||r);r&&this.element.removeEventListener(this.name,this,n),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,i;"function"==typeof this._$AH?this._$AH.call(null!==(i=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==i?i:this.element,t):this._$AH.handleEvent(t)}}class st{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){q(this,t)}}const lt={O:_,P:T,A:P,C:1,M:Q,L:tt,D:D,R:q,I:et,V:it,H:ot,N:at,U:nt,F:st},ct=A.litHtmlPolyfillSupport;null==ct||ct(K,et),(null!==(C=A.litHtmlVersions)&&void 0!==C?C:A.litHtmlVersions=[]).push("2.7.3");const dt=(t,e,i)=>{var n,r;const o=null!==(n=null==i?void 0:i.renderBefore)&&void 0!==n?n:e;let a=o._$litPart$;if(void 0===a){const t=null!==(r=null==i?void 0:i.renderBefore)&&void 0!==r?r:null;o._$litPart$=a=new et(e.insertBefore(L(),t),t,void 0,null!=i?i:{})}return a._$AI(t),a};
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var ut,ht;class pt extends I{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,e;const i=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=dt(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!1)}render(){return Y}}pt.finalized=!0,pt._$litElement$=!0,null===(ut=globalThis.litElementHydrateSupport)||void 0===ut||ut.call(globalThis,{LitElement:pt});const gt=globalThis.litElementPolyfillSupport;null==gt||gt({LitElement:pt}),(null!==(ht=globalThis.litElementVersions)&&void 0!==ht?ht:globalThis.litElementVersions=[]).push("3.3.2");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const ft=t=>e=>"function"==typeof e?((t,e)=>(customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:i,elements:n}=e;return{kind:i,elements:n,finisher(e){customElements.define(t,e)}}})(t,e)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,mt=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(i){i.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(i){i.createProperty(e.key,t)}};function vt(t){return(e,i)=>void 0!==i?((t,e,i)=>{e.constructor.createProperty(i,t)})(t,e,i):mt(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function bt(t){return vt({...t,state:!0})}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const yt=({finisher:t,descriptor:e})=>(i,n)=>{var r;if(void 0===n){const n=null!==(r=i.originalKey)&&void 0!==r?r:i.key,o=null!=e?{kind:"method",placement:"prototype",key:n,descriptor:e(i.key)}:{...i,key:n};return null!=t&&(o.finisher=function(e){t(e,n)}),o}{const r=i.constructor;void 0!==e&&Object.defineProperty(i,n,e(n)),null==t||t(r,n)}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;function xt(t){return yt({finisher:(e,i)=>{Object.assign(e.prototype[i],t)}})}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function wt(t,e){return yt({descriptor:i=>{const n={get(){var e,i;return null!==(i=null===(e=this.renderRoot)||void 0===e?void 0:e.querySelector(t))&&void 0!==i?i:null},enumerable:!0,configurable:!0};if(e){const e="symbol"==typeof i?Symbol():"__"+i;n.get=function(){var i,n;return void 0===this[e]&&(this[e]=null!==(n=null===(i=this.renderRoot)||void 0===i?void 0:i.querySelector(t))&&void 0!==n?n:null),this[e]}}return n}})}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var It;const Ct=null!=(null===(It=window.HTMLSlotElement)||void 0===It?void 0:It.prototype.assignedElements)?(t,e)=>t.assignedElements(e):(t,e)=>t.assignedNodes(e).filter((t=>t.nodeType===Node.ELEMENT_NODE));function At(t){const{slot:e,selector:i}=null!=t?t:{};return yt({descriptor:n=>({get(){var n;const r="slot"+(e?`[name=${e}]`:":not([name])"),o=null===(n=this.renderRoot)||void 0===n?void 0:n.querySelector(r),a=null!=o?Ct(o,t):[];return i?a.filter((t=>t.matches(i))):a},enumerable:!0,configurable:!0})})}function St(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function kt(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,Tt(t,e,"get"))}function _t(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,Tt(t,e,"set"),i),i}function Tt(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function Pt(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function Mt(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Nt(t,e,i){Mt(t,e),e.set(t,i)}function Lt(t,e){Mt(t,e),e.add(t)}var Ot,Et,Dt,zt,jt,Rt,Gt,Bt,Ut,Zt,$t,Ft,Wt,Vt,Yt,Ht,Xt,Jt,Qt,Kt,qt,te,ee,ie,ne,re,oe,ae,se,le,ce,de,ue,he,pe,ge=class{constructor(t,e,i,n,r,o){St(this,"type",3),St(this,"name",""),St(this,"prefix",""),St(this,"value",""),St(this,"suffix",""),St(this,"modifier",3),this.type=t,this.name=e,this.prefix=i,this.value=n,this.suffix=r,this.modifier=o}hasCustomName(){return""!==this.name&&"number"!=typeof this.name}},fe=/[$_\p{ID_Start}]/u,me=/[$_\u200C\u200D\p{ID_Continue}]/u,ve=".*";function be(t,e){return(e?/^[\x00-\xFF]*$/:/^[\x00-\x7F]*$/).test(t)}function ye(t,e=!1){let i=[],n=0;for(;n<t.length;){let r=t[n],o=function(r){if(!e)throw new TypeError(r);i.push({type:"INVALID_CHAR",index:n,value:t[n++]})};if("*"!==r)if("+"!==r&&"?"!==r)if("\\"!==r)if("{"!==r)if("}"!==r)if(":"!==r)if("("!==r)i.push({type:"CHAR",index:n,value:t[n++]});else{let e=1,r="",a=n+1,s=!1;if("?"===t[a]){o(`Pattern cannot start with "?" at ${a}`);continue}for(;a<t.length;){if(!be(t[a],!1)){o(`Invalid character '${t[a]}' at ${a}.`),s=!0;break}if("\\"!==t[a]){if(")"===t[a]){if(e--,0===e){a++;break}}else if("("===t[a]&&(e++,"?"!==t[a+1])){o(`Capturing groups are not allowed at ${a}`),s=!0;break}r+=t[a++]}else r+=t[a++]+t[a++]}if(s)continue;if(e){o(`Unbalanced pattern at ${n}`);continue}if(!r){o(`Missing pattern at ${n}`);continue}i.push({type:"REGEX",index:n,value:r}),n=a}else{let e="",r=n+1;for(;r<t.length;){let i=t.substr(r,1);if(!(r===n+1&&fe.test(i)||r!==n+1&&me.test(i)))break;e+=t[r++]}if(!e){o(`Missing parameter name at ${n}`);continue}i.push({type:"NAME",index:n,value:e}),n=r}else i.push({type:"CLOSE",index:n,value:t[n++]});else i.push({type:"OPEN",index:n,value:t[n++]});else i.push({type:"ESCAPED_CHAR",index:n++,value:t[n++]});else i.push({type:"OTHER_MODIFIER",index:n,value:t[n++]});else i.push({type:"ASTERISK",index:n,value:t[n++]})}return i.push({type:"END",index:n,value:""}),i}function xe(t,e={}){let i=ye(t);e.delimiter??="/#?",e.prefixes??="./";let n=`[^${we(e.delimiter)}]+?`,r=[],o=0,a=0,s=new Set,l=t=>{if(a<i.length&&i[a].type===t)return i[a++].value},c=()=>l("OTHER_MODIFIER")??l("ASTERISK"),d=t=>{let e=l(t);if(void 0!==e)return e;let{type:n,index:r}=i[a];throw new TypeError(`Unexpected ${n} at ${r}, expected ${t}`)},u=()=>{let t,e="";for(;t=l("CHAR")??l("ESCAPED_CHAR");)e+=t;return e},h=e.encodePart||(t=>t),p="",g=t=>{p+=t},f=()=>{p.length&&(r.push(new ge(3,"","",h(p),"",3)),p="")},m=(t,e,i,a,l)=>{let c,d=3;switch(l){case"?":d=1;break;case"*":d=0;break;case"+":d=2}if(!e&&!i&&3===d)return void g(t);if(f(),!e&&!i){if(!t)return;return void r.push(new ge(3,"","",h(t),"",d))}c=i?"*"===i?ve:i:n;let u,p=2;if(c===n?(p=1,c=""):c===ve&&(p=0,c=""),e?u=e:i&&(u=o++),s.has(u))throw new TypeError(`Duplicate name '${u}'.`);s.add(u),r.push(new ge(p,u,h(t),c,h(a),d))};for(;a<i.length;){let t=l("CHAR"),i=l("NAME"),n=l("REGEX");if(!i&&!n&&(n=l("ASTERISK")),i||n){let r=t??"";-1===e.prefixes.indexOf(r)&&(g(r),r=""),f(),m(r,i,n,"",c());continue}let r=t??l("ESCAPED_CHAR");if(r)g(r);else if(l("OPEN")){let t=u(),e=l("NAME"),i=l("REGEX");!e&&!i&&(i=l("ASTERISK"));let n=u();d("CLOSE"),m(t,e,i,n,c())}else f(),d("END")}return r}function we(t){return t.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function Ie(t){return t&&t.ignoreCase?"ui":"u"}function Ce(t){switch(t){case 0:return"*";case 1:return"?";case 2:return"+";case 3:return""}}function Ae(t,e,i={}){i.delimiter??="/#?",i.prefixes??="./",i.sensitive??=!1,i.strict??=!1,i.end??=!0,i.start??=!0,i.endsWith="";let n=i.start?"^":"";for(let r of t){if(3===r.type){3===r.modifier?n+=we(r.value):n+=`(?:${we(r.value)})${Ce(r.modifier)}`;continue}e&&e.push(r.name);let t=`[^${we(i.delimiter)}]+?`,o=r.value;(1===r.type?o=t:0===r.type&&(o=ve),r.prefix.length||r.suffix.length)?3!==r.modifier&&1!==r.modifier?(n+=`(?:${we(r.prefix)}`,n+=`((?:${o})(?:`,n+=we(r.suffix),n+=we(r.prefix),n+=`(?:${o}))*)${we(r.suffix)})`,0===r.modifier&&(n+="?")):(n+=`(?:${we(r.prefix)}(${o})${we(r.suffix)})`,n+=Ce(r.modifier)):3===r.modifier||1===r.modifier?n+=`(${o})${Ce(r.modifier)}`:n+=`((?:${o})${Ce(r.modifier)})`}let r=`[${we(i.endsWith)}]|$`,o=`[${we(i.delimiter)}]`;if(i.end)return i.strict||(n+=`${o}?`),i.endsWith.length?n+=`(?=${r})`:n+="$",new RegExp(n,Ie(i));i.strict||(n+=`(?:${o}(?=${r}))?`);let a=!1;if(t.length){let e=t[t.length-1];3===e.type&&3===e.modifier&&(a=i.delimiter.indexOf(e)>-1)}return a||(n+=`(?=${o}|${r})`),new RegExp(n,Ie(i))}var Se={delimiter:"",prefixes:"",sensitive:!0,strict:!0},ke={delimiter:".",prefixes:"",sensitive:!0,strict:!0},_e={delimiter:"/",prefixes:"/",sensitive:!0,strict:!0};function Te(t,e){return t.startsWith(e)?t.substring(e.length,t.length):t}function Pe(t){return!(!t||t.length<2)&&("["===t[0]||("\\"===t[0]||"{"===t[0])&&"["===t[1])}var Me=["ftp","file","http","https","ws","wss"];function Ne(t){if(!t)return!0;for(let e of Me)if(t.test(e))return!0;return!1}function Le(t){switch(t){case"ws":case"http":return"80";case"wws":case"https":return"443";case"ftp":return"21";default:return""}}function Oe(t){if(""===t)return t;if(/^[-+.A-Za-z0-9]*$/.test(t))return t.toLowerCase();throw new TypeError(`Invalid protocol '${t}'.`)}function Ee(t){if(""===t)return t;let e=new URL("https://example.com");return e.username=t,e.username}function De(t){if(""===t)return t;let e=new URL("https://example.com");return e.password=t,e.password}function ze(t){if(""===t)return t;if(/[\t\n\r #%/:<>?@[\]^\\|]/g.test(t))throw new TypeError(`Invalid hostname '${t}'`);let e=new URL("https://example.com");return e.hostname=t,e.hostname}function je(t){if(""===t)return t;if(/[^0-9a-fA-F[\]:]/g.test(t))throw new TypeError(`Invalid IPv6 hostname '${t}'`);return t.toLowerCase()}function Re(t){if(""===t||/^[0-9]*$/.test(t)&&parseInt(t)<=65535)return t;throw new TypeError(`Invalid port '${t}'.`)}function Ge(t){if(""===t)return t;let e=new URL("https://example.com");return e.pathname="/"!==t[0]?"/-"+t:t,"/"!==t[0]?e.pathname.substring(2,e.pathname.length):e.pathname}function Be(t){return""===t?t:new URL(`data:${t}`).pathname}function Ue(t){if(""===t)return t;let e=new URL("https://example.com");return e.search=t,e.search.substring(1,e.search.length)}function Ze(t){if(""===t)return t;let e=new URL("https://example.com");return e.hash=t,e.hash.substring(1,e.hash.length)}var $e=(Ot=new WeakMap,Et=new WeakMap,Dt=new WeakMap,zt=new WeakMap,jt=new WeakMap,Rt=new WeakMap,Gt=new WeakMap,Bt=new WeakMap,Ut=new WeakMap,Zt=new WeakMap,$t=new WeakSet,Ft=new WeakSet,Wt=new WeakSet,Vt=new WeakSet,Yt=new WeakSet,Ht=new WeakSet,Xt=new WeakSet,Jt=new WeakSet,Qt=new WeakSet,Kt=new WeakSet,qt=new WeakSet,te=new WeakSet,ee=new WeakSet,ie=new WeakSet,ne=new WeakSet,re=new WeakSet,oe=new WeakSet,ae=new WeakSet,se=new WeakSet,le=new WeakSet,class{constructor(t){Lt(this,le),Lt(this,se),Lt(this,ae),Lt(this,oe),Lt(this,re),Lt(this,ne),Lt(this,ie),Lt(this,ee),Lt(this,te),Lt(this,qt),Lt(this,Kt),Lt(this,Qt),Lt(this,Jt),Lt(this,Xt),Lt(this,Ht),Lt(this,Yt),Lt(this,Vt),Lt(this,Wt),Lt(this,Ft),Lt(this,$t),Nt(this,Ot,{writable:!0,value:void 0}),Nt(this,Et,{writable:!0,value:[]}),Nt(this,Dt,{writable:!0,value:{}}),Nt(this,zt,{writable:!0,value:0}),Nt(this,jt,{writable:!0,value:1}),Nt(this,Rt,{writable:!0,value:0}),Nt(this,Gt,{writable:!0,value:0}),Nt(this,Bt,{writable:!0,value:0}),Nt(this,Ut,{writable:!0,value:0}),Nt(this,Zt,{writable:!0,value:!1}),_t(this,Ot,t)}get result(){return kt(this,Dt)}parse(){for(_t(this,Et,ye(kt(this,Ot),!0));kt(this,zt)<kt(this,Et).length;_t(this,zt,kt(this,zt)+kt(this,jt))){if(_t(this,jt,1),"END"===kt(this,Et)[kt(this,zt)].type){if(0===kt(this,Gt)){Pt(this,Wt,Ve).call(this),Pt(this,ie,ni).call(this)?Pt(this,$t,Fe).call(this,9,1):Pt(this,ee,ii).call(this)?(Pt(this,$t,Fe).call(this,8,1),kt(this,Dt).hash=""):(Pt(this,$t,Fe).call(this,7,0),kt(this,Dt).search="",kt(this,Dt).hash="");continue}if(2===kt(this,Gt)){Pt(this,Vt,Ye).call(this,5);continue}Pt(this,$t,Fe).call(this,10,0);break}if(kt(this,Bt)>0){if(!Pt(this,re,oi).call(this))continue;_t(this,Bt,kt(this,Bt)-1)}if(Pt(this,ne,ri).call(this))_t(this,Bt,kt(this,Bt)+1);else switch(kt(this,Gt)){case 0:Pt(this,Xt,Je).call(this)&&(kt(this,Dt).username="",kt(this,Dt).password="",kt(this,Dt).hostname="",kt(this,Dt).port="",kt(this,Dt).pathname="",kt(this,Dt).search="",kt(this,Dt).hash="",Pt(this,Vt,Ye).call(this,1));break;case 1:if(Pt(this,Xt,Je).call(this)){Pt(this,le,ci).call(this);let t=7,e=1;kt(this,Zt)&&(kt(this,Dt).pathname="/"),Pt(this,Jt,Qe).call(this)?(t=2,e=3):kt(this,Zt)&&(t=2),Pt(this,$t,Fe).call(this,t,e)}break;case 2:Pt(this,Qt,Ke).call(this)?Pt(this,Vt,Ye).call(this,3):(Pt(this,te,ei).call(this)||Pt(this,ee,ii).call(this)||Pt(this,ie,ni).call(this))&&Pt(this,Vt,Ye).call(this,5);break;case 3:Pt(this,Kt,qe).call(this)?Pt(this,$t,Fe).call(this,4,1):Pt(this,Qt,Ke).call(this)&&Pt(this,$t,Fe).call(this,5,1);break;case 4:Pt(this,Qt,Ke).call(this)&&Pt(this,$t,Fe).call(this,5,1);break;case 5:Pt(this,oe,ai).call(this)?_t(this,Ut,kt(this,Ut)+1):Pt(this,ae,si).call(this)&&_t(this,Ut,kt(this,Ut)-1),Pt(this,qt,ti).call(this)&&!kt(this,Ut)?Pt(this,$t,Fe).call(this,6,1):Pt(this,te,ei).call(this)?Pt(this,$t,Fe).call(this,7,0):Pt(this,ee,ii).call(this)?Pt(this,$t,Fe).call(this,8,1):Pt(this,ie,ni).call(this)&&Pt(this,$t,Fe).call(this,9,1);break;case 6:Pt(this,te,ei).call(this)?Pt(this,$t,Fe).call(this,7,0):Pt(this,ee,ii).call(this)?Pt(this,$t,Fe).call(this,8,1):Pt(this,ie,ni).call(this)&&Pt(this,$t,Fe).call(this,9,1);break;case 7:Pt(this,ee,ii).call(this)?Pt(this,$t,Fe).call(this,8,1):Pt(this,ie,ni).call(this)&&Pt(this,$t,Fe).call(this,9,1);break;case 8:Pt(this,ie,ni).call(this)&&Pt(this,$t,Fe).call(this,9,1)}}}});function Fe(t,e){switch(kt(this,Gt)){case 0:case 2:break;case 1:kt(this,Dt).protocol=Pt(this,se,li).call(this);break;case 3:kt(this,Dt).username=Pt(this,se,li).call(this);break;case 4:kt(this,Dt).password=Pt(this,se,li).call(this);break;case 5:kt(this,Dt).hostname=Pt(this,se,li).call(this);break;case 6:kt(this,Dt).port=Pt(this,se,li).call(this);break;case 7:kt(this,Dt).pathname=Pt(this,se,li).call(this);break;case 8:kt(this,Dt).search=Pt(this,se,li).call(this);break;case 9:kt(this,Dt).hash=Pt(this,se,li).call(this)}Pt(this,Ft,We).call(this,t,e)}function We(t,e){_t(this,Gt,t),_t(this,Rt,kt(this,zt)+e),_t(this,zt,kt(this,zt)+e),_t(this,jt,0)}function Ve(){_t(this,zt,kt(this,Rt)),_t(this,jt,0)}function Ye(t){Pt(this,Wt,Ve).call(this),_t(this,Gt,t)}function He(t){return t<0&&(t=kt(this,Et).length-t),t<kt(this,Et).length?kt(this,Et)[t]:kt(this,Et)[kt(this,Et).length-1]}function Xe(t,e){let i=Pt(this,Yt,He).call(this,t);return i.value===e&&("CHAR"===i.type||"ESCAPED_CHAR"===i.type||"INVALID_CHAR"===i.type)}function Je(){return Pt(this,Ht,Xe).call(this,kt(this,zt),":")}function Qe(){return Pt(this,Ht,Xe).call(this,kt(this,zt)+1,"/")&&Pt(this,Ht,Xe).call(this,kt(this,zt)+2,"/")}function Ke(){return Pt(this,Ht,Xe).call(this,kt(this,zt),"@")}function qe(){return Pt(this,Ht,Xe).call(this,kt(this,zt),":")}function ti(){return Pt(this,Ht,Xe).call(this,kt(this,zt),":")}function ei(){return Pt(this,Ht,Xe).call(this,kt(this,zt),"/")}function ii(){if(Pt(this,Ht,Xe).call(this,kt(this,zt),"?"))return!0;if("?"!==kt(this,Et)[kt(this,zt)].value)return!1;let t=Pt(this,Yt,He).call(this,kt(this,zt)-1);return"NAME"!==t.type&&"REGEX"!==t.type&&"CLOSE"!==t.type&&"ASTERISK"!==t.type}function ni(){return Pt(this,Ht,Xe).call(this,kt(this,zt),"#")}function ri(){return"OPEN"==kt(this,Et)[kt(this,zt)].type}function oi(){return"CLOSE"==kt(this,Et)[kt(this,zt)].type}function ai(){return Pt(this,Ht,Xe).call(this,kt(this,zt),"[")}function si(){return Pt(this,Ht,Xe).call(this,kt(this,zt),"]")}function li(){let t=kt(this,Et)[kt(this,zt)],e=Pt(this,Yt,He).call(this,kt(this,Rt)).index;return kt(this,Ot).substring(e,t.index)}function ci(){let t={};Object.assign(t,Se),t.encodePart=Oe;let e=function(t,e,i){return Ae(xe(t,i),e,i)}(Pt(this,se,li).call(this),void 0,t);_t(this,Zt,Ne(e))}var di=["protocol","username","password","hostname","port","pathname","search","hash"],ui="*";function hi(t,e){if("string"!=typeof t)throw new TypeError("parameter 1 is not of type 'string'.");let i=new URL(t,e);return{protocol:i.protocol.substring(0,i.protocol.length-1),username:i.username,password:i.password,hostname:i.hostname,port:i.port,pathname:i.pathname,search:""!==i.search?i.search.substring(1,i.search.length):void 0,hash:""!==i.hash?i.hash.substring(1,i.hash.length):void 0}}function pi(t,e){return e?fi(t):t}function gi(t,e,i){let n;if("string"==typeof e.baseURL)try{n=new URL(e.baseURL),t.protocol=pi(n.protocol.substring(0,n.protocol.length-1),i),t.username=pi(n.username,i),t.password=pi(n.password,i),t.hostname=pi(n.hostname,i),t.port=pi(n.port,i),t.pathname=pi(n.pathname,i),t.search=pi(n.search.substring(1,n.search.length),i),t.hash=pi(n.hash.substring(1,n.hash.length),i)}catch{throw new TypeError(`invalid baseURL '${e.baseURL}'.`)}if("string"==typeof e.protocol&&(t.protocol=function(t,e){return t=function(t,e){return t.endsWith(e)?t.substr(0,t.length-e.length):t}(t,":"),e||""===t?t:Oe(t)}(e.protocol,i)),"string"==typeof e.username&&(t.username=function(t,e){if(e||""===t)return t;let i=new URL("https://example.com");return i.username=t,i.username}(e.username,i)),"string"==typeof e.password&&(t.password=function(t,e){if(e||""===t)return t;let i=new URL("https://example.com");return i.password=t,i.password}(e.password,i)),"string"==typeof e.hostname&&(t.hostname=function(t,e){return e||""===t?t:Pe(t)?je(t):ze(t)}(e.hostname,i)),"string"==typeof e.port&&(t.port=function(t,e,i){return Le(e)===t&&(t=""),i||""===t?t:Re(t)}(e.port,t.protocol,i)),"string"==typeof e.pathname){if(t.pathname=e.pathname,n&&!function(t,e){return!(!t.length||"/"!==t[0]&&(!e||t.length<2||"\\"!=t[0]&&"{"!=t[0]||"/"!=t[1]))}(t.pathname,i)){let e=n.pathname.lastIndexOf("/");e>=0&&(t.pathname=pi(n.pathname.substring(0,e+1),i)+t.pathname)}t.pathname=function(t,e,i){if(i||""===t)return t;if(e&&!Me.includes(e))return new URL(`${e}:${t}`).pathname;let n="/"==t[0];return t=new URL(n?t:"/-"+t,"https://example.com").pathname,n||(t=t.substring(2,t.length)),t}(t.pathname,t.protocol,i)}return"string"==typeof e.search&&(t.search=function(t,e){if(t=Te(t,"?"),e||""===t)return t;let i=new URL("https://example.com");return i.search=t,i.search?i.search.substring(1,i.search.length):""}(e.search,i)),"string"==typeof e.hash&&(t.hash=function(t,e){if(t=Te(t,"#"),e||""===t)return t;let i=new URL("https://example.com");return i.hash=t,i.hash?i.hash.substring(1,i.hash.length):""}(e.hash,i)),t}function fi(t){return t.replace(/([+*?:{}()\\])/g,"\\$1")}function mi(t,e){e.delimiter??="/#?",e.prefixes??="./",e.sensitive??=!1,e.strict??=!1,e.end??=!0,e.start??=!0,e.endsWith="";let i=`[^${function(t){return t.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}(e.delimiter)}]+?`,n=/[$_\u200C\u200D\p{ID_Continue}]/u,r="";for(let o=0;o<t.length;++o){let a=t[o];if(3===a.type){if(3===a.modifier){r+=fi(a.value);continue}r+=`{${fi(a.value)}}${Ce(a.modifier)}`;continue}let s=a.hasCustomName(),l=!!a.suffix.length||!!a.prefix.length&&(1!==a.prefix.length||!e.prefixes.includes(a.prefix)),c=o>0?t[o-1]:null,d=o<t.length-1?t[o+1]:null;if(!l&&s&&1===a.type&&3===a.modifier&&d&&!d.prefix.length&&!d.suffix.length)if(3===d.type){let t=d.value.length>0?d.value[0]:"";l=n.test(t)}else l=!d.hasCustomName();if(!l&&!a.prefix.length&&c&&3===c.type){let t=c.value[c.value.length-1];l=e.prefixes.includes(t)}l&&(r+="{"),r+=fi(a.prefix),s&&(r+=`:${a.name}`),2===a.type?r+=`(${a.value})`:1===a.type?s||(r+=`(${i})`):0===a.type&&(s||c&&3!==c.type&&3===c.modifier&&!l&&""===a.prefix?r+="(.*)":r+="*"),1===a.type&&s&&a.suffix.length&&n.test(a.suffix[0])&&(r+="\\"),r+=fi(a.suffix),l&&(r+="}"),3!==a.modifier&&(r+=Ce(a.modifier))}return r}var vi=(ce=new WeakMap,de=new WeakMap,ue=new WeakMap,he=new WeakMap,pe=new WeakMap,class{constructor(t={},e,i){Nt(this,ce,{writable:!0,value:void 0}),Nt(this,de,{writable:!0,value:{}}),Nt(this,ue,{writable:!0,value:{}}),Nt(this,he,{writable:!0,value:{}}),Nt(this,pe,{writable:!0,value:{}});try{let n;if("string"==typeof e?n=e:i=e,"string"==typeof t){let e=new $e(t);if(e.parse(),t=e.result,void 0===n&&"string"!=typeof t.protocol)throw new TypeError("A base URL must be provided for a relative constructor string.");t.baseURL=n}else{if(!t||"object"!=typeof t)throw new TypeError("parameter 1 is not of type 'string' and cannot convert to dictionary.");if(n)throw new TypeError("parameter 1 is not of type 'string'.")}typeof i>"u"&&(i={ignoreCase:!1});let r,o={ignoreCase:!0===i.ignoreCase},a={pathname:ui,protocol:ui,username:ui,password:ui,hostname:ui,port:ui,search:ui,hash:ui};for(r of(_t(this,ce,gi(a,t,!0)),Le(kt(this,ce).protocol)===kt(this,ce).port&&(kt(this,ce).port=""),di)){if(!(r in kt(this,ce)))continue;let t={},e=kt(this,ce)[r];switch(kt(this,ue)[r]=[],r){case"protocol":Object.assign(t,Se),t.encodePart=Oe;break;case"username":Object.assign(t,Se),t.encodePart=Ee;break;case"password":Object.assign(t,Se),t.encodePart=De;break;case"hostname":Object.assign(t,ke),Pe(e)?t.encodePart=je:t.encodePart=ze;break;case"port":Object.assign(t,Se),t.encodePart=Re;break;case"pathname":Ne(kt(this,de).protocol)?(Object.assign(t,_e,o),t.encodePart=Ge):(Object.assign(t,Se,o),t.encodePart=Be);break;case"search":Object.assign(t,Se,o),t.encodePart=Ue;break;case"hash":Object.assign(t,Se,o),t.encodePart=Ze}try{kt(this,pe)[r]=xe(e,t),kt(this,de)[r]=Ae(kt(this,pe)[r],kt(this,ue)[r],t),kt(this,he)[r]=mi(kt(this,pe)[r],t)}catch{throw new TypeError(`invalid ${r} pattern '${kt(this,ce)[r]}'.`)}}}catch(t){throw new TypeError(`Failed to construct 'URLPattern': ${t.message}`)}}test(t={},e){let i,n={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if("string"!=typeof t&&e)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof t>"u")return!1;try{n=gi(n,"object"==typeof t?t:hi(t,e),!1)}catch{return!1}for(i of di)if(!kt(this,de)[i].exec(n[i]))return!1;return!0}exec(t={},e){let i={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if("string"!=typeof t&&e)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof t>"u")return;try{i=gi(i,"object"==typeof t?t:hi(t,e),!1)}catch{return null}let n,r={};for(n of(r.inputs=e?[t,e]:[t],di)){let t=kt(this,de)[n].exec(i[n]);if(!t)return null;let e={};for(let[i,r]of kt(this,ue)[n].entries())if("string"==typeof r||"number"==typeof r){let n=t[i+1];e[r]=n}r[n]={input:i[n]??"",groups:e}}return r}static compareComponent(t,e,i){let n=(t,e)=>{for(let i of["type","modifier","prefix","value","suffix"]){if(t[i]<e[i])return-1;if(t[i]!==e[i])return 1}return 0},r=new ge(3,"","","","",3),o=new ge(0,"","","","",3),a=(t,e)=>{let i=0;for(;i<Math.min(t.length,e.length);++i){let r=n(t[i],e[i]);if(r)return r}return t.length===e.length?0:n(t[i]??r,e[i]??r)};return kt(e,he)[t]||kt(i,he)[t]?kt(e,he)[t]&&!kt(i,he)[t]?a(kt(e,pe)[t],[o]):!kt(e,he)[t]&&kt(i,he)[t]?a([o],kt(i,pe)[t]):a(kt(e,pe)[t],kt(i,pe)[t]):0}get protocol(){return kt(this,he).protocol}get username(){return kt(this,he).username}get password(){return kt(this,he).password}get hostname(){return kt(this,he).hostname}get port(){return kt(this,he).port}get pathname(){return kt(this,he).pathname}get search(){return kt(this,he).search}get hash(){return kt(this,he).hash}});globalThis.URLPattern||(globalThis.URLPattern=vi)
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;class bi extends pt{connectedCallback(){super.connectedCallback(),this.setAttribute("aria-hidden","true")}render(){return W`<span class="shadow"></span>`}}
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */const yi=h`:host{--_level:var(--md-elevation-level, 0);--_shadow-color:var(--md-elevation-shadow-color, var(--md-sys-color-shadow, #000));display:flex;pointer-events:none}.shadow,.shadow::after,.shadow::before,:host{border-radius:inherit;inset:0;position:absolute;transition-duration:inherit;transition-property:inherit;transition-timing-function:inherit}.shadow::after,.shadow::before{content:"";transition-property:box-shadow,opacity}.shadow::before{box-shadow:0 calc(1px*(clamp(0,var(--_level),1) + clamp(0,var(--_level) - 3,1) + 2*clamp(0,var(--_level) - 4,1))) calc(1px*(2*clamp(0,var(--_level),1) + clamp(0,var(--_level) - 2,1) + clamp(0,var(--_level) - 4,1))) 0 var(--_shadow-color);opacity:.3}.shadow::after{box-shadow:0 calc(1px*(clamp(0,var(--_level),1) + clamp(0,var(--_level) - 1,1) + 2*clamp(0,var(--_level) - 2,3))) calc(1px*(3*clamp(0,var(--_level),2) + 2*clamp(0,var(--_level) - 2,3))) calc(1px*(clamp(0,var(--_level),4) + 2*clamp(0,var(--_level) - 4,1))) var(--_shadow-color);opacity:.15}`
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let xi=class extends bi{};xi.styles=[yi],xi=i([ft("md-elevation")],xi);
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const wi=["ariaAtomic","ariaAutoComplete","ariaBusy","ariaChecked","ariaColCount","ariaColIndex","ariaColSpan","ariaCurrent","ariaDisabled","ariaExpanded","ariaHasPopup","ariaHidden","ariaInvalid","ariaKeyShortcuts","ariaLabel","ariaLevel","ariaLive","ariaModal","ariaMultiLine","ariaMultiSelectable","ariaOrientation","ariaPlaceholder","ariaPosInSet","ariaPressed","ariaReadOnly","ariaRequired","ariaRoleDescription","ariaRowCount","ariaRowIndex","ariaRowSpan","ariaSelected","ariaSetSize","ariaSort","ariaValueMax","ariaValueMin","ariaValueNow","ariaValueText"];function Ii(t){return t.replace("aria","aria-").replace(/Elements?/g,"").toLowerCase()}
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ci(t){for(const e of wi)t.createProperty(e,{attribute:Ii(e),reflect:!0});t.addInitializer((t=>{const e={hostConnected(){t.setAttribute("role","presentation")}};t.addController(e)}))}
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ai(t,e=!0){return e&&"rtl"===getComputedStyle(t).getPropertyValue("direction").trim()}
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */wi.map(Ii);class Si extends pt{constructor(){super(...arguments),this.activeIndex=0,this.hideInactiveLabels=!1,this.tabs=[]}render(){const{ariaLabel:t}=this;return W`<div class="md3-navigation-bar" role="tablist" aria-label="${t||H}" @keydown="${this.handleKeydown}" @navigation-tab-interaction="${this.handleNavigationTabInteraction}" @navigation-tab-rendered="${this.handleNavigationTabConnected}"><md-elevation></md-elevation><div class="md3-navigation-bar__tabs-slot-container"><slot></slot></div></div>`}updated(t){t.has("activeIndex")&&(this.onActiveIndexChange(this.activeIndex),this.dispatchEvent(new CustomEvent("navigation-bar-activated",{detail:{tab:this.tabs[this.activeIndex],activeIndex:this.activeIndex},bubbles:!0,composed:!0}))),t.has("hideInactiveLabels")&&this.onHideInactiveLabelsChange(this.hideInactiveLabels),t.has("tabs")&&(this.onHideInactiveLabelsChange(this.hideInactiveLabels),this.onActiveIndexChange(this.activeIndex))}firstUpdated(t){super.firstUpdated(t),this.layout()}layout(){if(!this.tabsElement)return;const t=[];for(const e of this.tabsElement)t.push(e);this.tabs=t}handleNavigationTabConnected(t){const e=t.target;-1===this.tabs.indexOf(e)&&this.layout()}handleNavigationTabInteraction(t){this.activeIndex=this.tabs.indexOf(t.detail.state)}handleKeydown(t){const e=t.key,i=this.tabs.findIndex((t=>t.matches(":focus-within"))),n=Ai(this),r=this.tabs.length-1;if("Enter"===e||" "===e)return void(this.activeIndex=i);if("Home"===e)return void this.tabs[0].focus();if("End"===e)return void this.tabs[r].focus();const o="ArrowRight"===e&&!n||"ArrowLeft"===e&&n;if(o&&i===r)return void this.tabs[0].focus();if(o)return void this.tabs[i+1].focus();const a="ArrowLeft"===e&&!n||"ArrowRight"===e&&n;a&&0===i?this.tabs[r].focus():a&&this.tabs[i-1].focus()}onActiveIndexChange(t){if(!this.tabs[t])throw new Error("NavigationBar: activeIndex is out of bounds.");for(let e=0;e<this.tabs.length;e++)this.tabs[e].active=e===t}onHideInactiveLabelsChange(t){for(const e of this.tabs)e.hideInactiveLabel=t}}Ci(Si),i([vt({type:Number,attribute:"active-index"})],Si.prototype,"activeIndex",void 0),i([vt({type:Boolean,attribute:"hide-inactive-labels"})],Si.prototype,"hideInactiveLabels",void 0),i([At({flatten:!0})],Si.prototype,"tabsElement",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const ki=h`:host{--_active-indicator-color:var(--md-navigation-bar-active-indicator-color, var(--md-sys-color-secondary-container, #e8def8));--_active-indicator-height:var(--md-navigation-bar-active-indicator-height, 32px);--_active-indicator-shape:var(--md-navigation-bar-active-indicator-shape, 9999px);--_active-indicator-width:var(--md-navigation-bar-active-indicator-width, 64px);--_active-focus-icon-color:var(--md-navigation-bar-active-focus-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_active-focus-label-text-color:var(--md-navigation-bar-active-focus-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_active-focus-state-layer-color:var(--md-navigation-bar-active-focus-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_active-hover-icon-color:var(--md-navigation-bar-active-hover-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_active-hover-label-text-color:var(--md-navigation-bar-active-hover-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_active-hover-state-layer-color:var(--md-navigation-bar-active-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_active-icon-color:var(--md-navigation-bar-active-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_active-label-text-color:var(--md-navigation-bar-active-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_active-label-text-weight:var(--md-navigation-bar-active-label-text-weight, var(--md-ref-typeface-weight-bold, 700));--_active-pressed-icon-color:var(--md-navigation-bar-active-pressed-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_active-pressed-label-text-color:var(--md-navigation-bar-active-pressed-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_active-pressed-state-layer-color:var(--md-navigation-bar-active-pressed-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_container-color:var(--md-navigation-bar-container-color, var(--md-sys-color-surface-container, #f3edf7));--_container-elevation:var(--md-navigation-bar-container-elevation, 2);--_container-height:var(--md-navigation-bar-container-height, 80px);--_container-shape:var(--md-navigation-bar-container-shape, 0px);--_focus-state-layer-opacity:var(--md-navigation-bar-focus-state-layer-opacity, 0.12);--_hover-state-layer-opacity:var(--md-navigation-bar-hover-state-layer-opacity, 0.08);--_icon-size:var(--md-navigation-bar-icon-size, 24px);--_inactive-focus-icon-color:var(--md-navigation-bar-inactive-focus-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_inactive-focus-label-text-color:var(--md-navigation-bar-inactive-focus-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_inactive-focus-state-layer-color:var(--md-navigation-bar-inactive-focus-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_inactive-hover-icon-color:var(--md-navigation-bar-inactive-hover-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_inactive-hover-label-text-color:var(--md-navigation-bar-inactive-hover-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_inactive-hover-state-layer-color:var(--md-navigation-bar-inactive-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_inactive-icon-color:var(--md-navigation-bar-inactive-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_inactive-label-text-color:var(--md-navigation-bar-inactive-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_inactive-pressed-icon-color:var(--md-navigation-bar-inactive-pressed-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_inactive-pressed-label-text-color:var(--md-navigation-bar-inactive-pressed-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_inactive-pressed-state-layer-color:var(--md-navigation-bar-inactive-pressed-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_label-text-font:var(--md-navigation-bar-label-text-font, var(--md-sys-typescale-label-medium-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height:var(--md-navigation-bar-label-text-line-height, var(--md-sys-typescale-label-medium-line-height, 1rem));--_label-text-size:var(--md-navigation-bar-label-text-size, var(--md-sys-typescale-label-medium-size, 0.75rem));--_label-text-tracking:var(--md-navigation-bar-label-text-tracking, 0.031rem);--_label-text-type:var(--md-navigation-bar-label-text-type, var(--md-sys-typescale-label-medium-weight, var(--md-ref-typeface-weight-medium, 500)) var(--md-sys-typescale-label-medium-size, 0.75rem) / var(--md-sys-typescale-label-medium-line-height, 1rem) var(--md-sys-typescale-label-medium-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-weight:var(--md-navigation-bar-label-text-weight, var(--md-sys-typescale-label-medium-weight, var(--md-ref-typeface-weight-medium, 500)));--_pressed-state-layer-opacity:var(--md-navigation-bar-pressed-state-layer-opacity, 0.12);--md-elevation-level:var(--_container-elevation);--md-elevation-shadow-color:var(--_container-shadow-color);width:100%}.md3-navigation-bar{display:flex;position:relative;width:100%;background-color:var(--_container-color);border-radius:var(--_container-shape);height:var(--_container-height)}.md3-navigation-bar .md3-navigation-bar__tabs-slot-container{display:inherit;width:inherit}md-elevation{transition-duration:280ms;z-index:0}`
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let _i=class extends Si{};_i.styles=[ki],_i=i([ft("md-navigation-bar")],_i);
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const Ti=Symbol("attachableController");let Pi;Pi=new MutationObserver((t=>{for(const e of t)e.target[Ti]?.hostConnected()}));class Mi{get htmlFor(){return this.host.getAttribute("for")}set htmlFor(t){null===t?this.host.removeAttribute("for"):this.host.setAttribute("for",t)}get control(){return this.host.hasAttribute("for")?this.htmlFor&&this.host.isConnected?this.host.getRootNode().querySelector(`#${this.htmlFor}`):null:this.currentControl||this.host.parentElement}set control(t){t?this.attach(t):this.detach()}constructor(t,e){this.host=t,this.onControlChange=e,this.currentControl=null,t.addController(this),t[Ti]=this,Pi?.observe(t,{attributeFilter:["for"]})}attach(t){t!==this.currentControl&&(this.setCurrentControl(t),this.host.removeAttribute("for"))}detach(){this.setCurrentControl(null),this.host.setAttribute("for","")}hostConnected(){this.setCurrentControl(this.control)}hostDisconnected(){this.setCurrentControl(null)}setCurrentControl(t){this.onControlChange(this.currentControl,t),this.currentControl=t}}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ni=["focusin","focusout","pointerdown"];class Li extends pt{constructor(){super(...arguments),this.visible=!1,this.inward=!1,this.attachableController=new Mi(this,this.onControlChange.bind(this))}get htmlFor(){return this.attachableController.htmlFor}set htmlFor(t){this.attachableController.htmlFor=t}get control(){return this.attachableController.control}set control(t){this.attachableController.control=t}attach(t){this.attachableController.attach(t)}detach(){this.attachableController.detach()}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-hidden","true")}handleEvent(t){if(!t[Oi]){switch(t.type){default:return;case"focusin":this.visible=this.control?.matches(":focus-visible")??!1;break;case"focusout":case"pointerdown":this.visible=!1}t[Oi]=!0}}onControlChange(t,e){for(const i of Ni)t?.removeEventListener(i,this),e?.addEventListener(i,this)}update(t){t.has("visible")&&this.dispatchEvent(new Event("visibility-changed")),super.update(t)}}i([vt({type:Boolean,reflect:!0})],Li.prototype,"visible",void 0),i([vt({type:Boolean,reflect:!0})],Li.prototype,"inward",void 0);const Oi=Symbol("handledByFocusRing"),Ei=h`:host{animation-delay:0s,calc(var(--md-focus-ring-duration,600ms)*.25);animation-duration:calc(var(--md-focus-ring-duration,600ms)*.25),calc(var(--md-focus-ring-duration,600ms)*.75);animation-timing-function:cubic-bezier(.2,0,0,1);box-sizing:border-box;color:var(--md-focus-ring-color,var(--md-sys-color-secondary,#625b71));display:none;pointer-events:none;position:absolute}:host([visible]){display:flex}:host(:not([inward])){animation-name:outward-grow,outward-shrink;border-end-end-radius:calc(var(--md-focus-ring-shape-end-end,var(--md-focus-ring-shape,9999px)) + var(--md-focus-ring-outward-offset,2px));border-end-start-radius:calc(var(--md-focus-ring-shape-end-start,var(--md-focus-ring-shape,9999px)) + var(--md-focus-ring-outward-offset,2px));border-start-end-radius:calc(var(--md-focus-ring-shape-start-end,var(--md-focus-ring-shape,9999px)) + var(--md-focus-ring-outward-offset,2px));border-start-start-radius:calc(var(--md-focus-ring-shape-start-start,var(--md-focus-ring-shape,9999px)) + var(--md-focus-ring-outward-offset,2px));inset:calc(-1*var(--md-focus-ring-outward-offset,2px));outline:var(--md-focus-ring-width,3px) solid currentColor}:host([inward]){animation-name:inward-grow,inward-shrink;border-end-end-radius:calc(var(--md-focus-ring-shape-end-end,var(--md-focus-ring-shape,9999px)) - var(--md-focus-ring-inward-offset,0px));border-end-start-radius:calc(var(--md-focus-ring-shape-end-start,var(--md-focus-ring-shape,9999px)) - var(--md-focus-ring-inward-offset,0px));border-start-end-radius:calc(var(--md-focus-ring-shape-start-end,var(--md-focus-ring-shape,9999px)) - var(--md-focus-ring-inward-offset,0px));border-start-start-radius:calc(var(--md-focus-ring-shape-start-start,var(--md-focus-ring-shape,9999px)) - var(--md-focus-ring-inward-offset,0px));border:var(--md-focus-ring-width,3px) solid currentColor;inset:var(--md-focus-ring-inward-offset,0)}@keyframes outward-grow{from{outline-width:0}to{outline-width:var(--md-focus-ring-active-width,8px)}}@keyframes outward-shrink{from{outline-width:var(--md-focus-ring-active-width,8px)}}@keyframes inward-grow{from{border-width:0}to{border-width:var(--md-focus-ring-active-width,8px)}}@keyframes inward-shrink{from{border-width:var(--md-focus-ring-active-width,8px)}}@media(prefers-reduced-motion){:host{animation:none}}`
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */let Di=class extends Li{};Di.styles=[Ei],Di=i([ft("md-focus-ring")],Di);
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const zi=1,ji=2,Ri=3,Gi=4,Bi=t=>(...e)=>({_$litDirective$:t,values:e});class Ui{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Zi=Bi(class extends Ui{constructor(t){var e;if(super(t),t.type!==zi||"class"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter((e=>t[e])).join(" ")+" "}update(t,[e]){var i,n;if(void 0===this.it){this.it=new Set,void 0!==t.strings&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter((t=>""!==t))));for(const t in e)e[t]&&!(null===(i=this.nt)||void 0===i?void 0:i.has(t))&&this.it.add(t);return this.render(e)}const r=t.element.classList;this.it.forEach((t=>{t in e||(r.remove(t),this.it.delete(t))}));for(const t in e){const i=!!e[t];i===this.it.has(t)||(null===(n=this.nt)||void 0===n?void 0:n.has(t))||(i?(r.add(t),this.it.add(t)):(r.remove(t),this.it.delete(t)))}return Y}}),$i="cubic-bezier(0.2, 0, 0, 1)",Fi="cubic-bezier(.3,0,0,1)",Wi="cubic-bezier(.3,0,.8,.15)";
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Vi;!function(t){t[t.INACTIVE=0]="INACTIVE",t[t.TOUCH_DELAY=1]="TOUCH_DELAY",t[t.HOLDING=2]="HOLDING",t[t.WAITING_FOR_CLICK=3]="WAITING_FOR_CLICK"}(Vi||(Vi={}));const Yi=["click","contextmenu","pointercancel","pointerdown","pointerenter","pointerleave","pointerup"];class Hi extends pt{constructor(){super(...arguments),this.disabled=!1,this.hovered=!1,this.pressed=!1,this.rippleSize="",this.rippleScale="",this.initialSize=0,this.state=Vi.INACTIVE,this.checkBoundsAfterContextMenu=!1,this.attachableController=new Mi(this,this.onControlChange.bind(this))}get htmlFor(){return this.attachableController.htmlFor}set htmlFor(t){this.attachableController.htmlFor=t}get control(){return this.attachableController.control}set control(t){this.attachableController.control=t}attach(t){this.attachableController.attach(t)}detach(){this.attachableController.detach()}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-hidden","true")}render(){const t={hovered:this.hovered,pressed:this.pressed};return W`<div class="surface ${Zi(t)}"></div>`}update(t){t.has("disabled")&&this.disabled&&(this.hovered=!1,this.pressed=!1),super.update(t)}handlePointerenter(t){this.shouldReactToEvent(t)&&(this.hovered=!0)}handlePointerleave(t){this.shouldReactToEvent(t)&&(this.hovered=!1,this.state!==Vi.INACTIVE&&this.endPressAnimation())}handlePointerup(t){if(this.shouldReactToEvent(t)){if(this.state!==Vi.HOLDING)return this.state===Vi.TOUCH_DELAY?(this.state=Vi.WAITING_FOR_CLICK,void this.startPressAnimation(this.rippleStartEvent)):void 0;this.state=Vi.WAITING_FOR_CLICK}}async handlePointerdown(t){if(this.shouldReactToEvent(t)){if(this.rippleStartEvent=t,!this.isTouch(t))return this.state=Vi.WAITING_FOR_CLICK,void this.startPressAnimation(t);this.checkBoundsAfterContextMenu&&!this.inBounds(t)||(this.checkBoundsAfterContextMenu=!1,this.state=Vi.TOUCH_DELAY,await new Promise((t=>{setTimeout(t,150)})),this.state===Vi.TOUCH_DELAY&&(this.state=Vi.HOLDING,this.startPressAnimation(t)))}}handleClick(){this.disabled||(this.state!==Vi.WAITING_FOR_CLICK?this.state===Vi.INACTIVE&&(this.startPressAnimation(),this.endPressAnimation()):this.endPressAnimation())}handlePointercancel(t){this.shouldReactToEvent(t)&&this.endPressAnimation()}handleContextmenu(){this.disabled||(this.checkBoundsAfterContextMenu=!0,this.endPressAnimation())}determineRippleSize(){const{height:t,width:e}=this.getBoundingClientRect(),i=Math.max(t,e),n=Math.max(.35*i,75),r=Math.floor(.2*i),o=Math.sqrt(e**2+t**2)+10;this.initialSize=r,this.rippleScale=""+(o+n)/r,this.rippleSize=`${r}px`}getNormalizedPointerEventCoords(t){const{scrollX:e,scrollY:i}=window,{left:n,top:r}=this.getBoundingClientRect(),o=e+n,a=i+r,{pageX:s,pageY:l}=t;return{x:s-o,y:l-a}}getTranslationCoordinates(t){const{height:e,width:i}=this.getBoundingClientRect(),n={x:(i-this.initialSize)/2,y:(e-this.initialSize)/2};let r;return r=t instanceof PointerEvent?this.getNormalizedPointerEventCoords(t):{x:i/2,y:e/2},r={x:r.x-this.initialSize/2,y:r.y-this.initialSize/2},{startPoint:r,endPoint:n}}startPressAnimation(t){if(!this.mdRoot)return;this.pressed=!0,this.growAnimation?.cancel(),this.determineRippleSize();const{startPoint:e,endPoint:i}=this.getTranslationCoordinates(t),n=`${e.x}px, ${e.y}px`,r=`${i.x}px, ${i.y}px`;this.growAnimation=this.mdRoot.animate({top:[0,0],left:[0,0],height:[this.rippleSize,this.rippleSize],width:[this.rippleSize,this.rippleSize],transform:[`translate(${n}) scale(1)`,`translate(${r}) scale(${this.rippleScale})`]},{pseudoElement:"::after",duration:450,easing:$i,fill:"forwards"})}async endPressAnimation(){this.state=Vi.INACTIVE;const t=this.growAnimation,e=t?.currentTime??1/0;e>=225?this.pressed=!1:(await new Promise((t=>{setTimeout(t,225-e)})),this.growAnimation===t&&(this.pressed=!1))}shouldReactToEvent(t){if(this.disabled||!t.isPrimary)return!1;if(this.rippleStartEvent&&this.rippleStartEvent.pointerId!==t.pointerId)return!1;if("pointerenter"===t.type||"pointerleave"===t.type)return!this.isTouch(t);const e=1===t.buttons;return this.isTouch(t)||e}inBounds({x:t,y:e}){const{top:i,left:n,bottom:r,right:o}=this.getBoundingClientRect();return t>=n&&t<=o&&e>=i&&e<=r}isTouch({pointerType:t}){return"touch"===t}async handleEvent(t){switch(t.type){case"click":this.handleClick();break;case"contextmenu":this.handleContextmenu();break;case"pointercancel":this.handlePointercancel(t);break;case"pointerdown":await this.handlePointerdown(t);break;case"pointerenter":this.handlePointerenter(t);break;case"pointerleave":this.handlePointerleave(t);break;case"pointerup":this.handlePointerup(t)}}onControlChange(t,e){for(const i of Yi)t?.removeEventListener(i,this),e?.addEventListener(i,this)}}i([vt({type:Boolean,reflect:!0})],Hi.prototype,"disabled",void 0),i([bt()],Hi.prototype,"hovered",void 0),i([bt()],Hi.prototype,"pressed",void 0),i([wt(".surface")],Hi.prototype,"mdRoot",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const Xi=h`:host{--_hover-color:var(--md-ripple-hover-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-opacity:var(--md-ripple-hover-opacity, 0.08);--_pressed-color:var(--md-ripple-pressed-color, var(--md-sys-color-on-surface, #1d1b20));--_pressed-opacity:var(--md-ripple-pressed-opacity, 0.12);display:flex;margin:auto;pointer-events:none}:host([disabled]){display:none}@media(forced-colors:active){:host{display:none}}.surface,:host{border-radius:inherit;position:absolute;inset:0;overflow:hidden}.surface{-webkit-tap-highlight-color:transparent}.surface::after,.surface::before{content:"";opacity:0;position:absolute}.surface::before{background-color:var(--_hover-color);inset:0;transition:opacity 15ms linear,background-color 15ms linear}.surface::after{background:radial-gradient(closest-side,var(--_pressed-color) max(100% - 70px,65%),transparent 100%);transform-origin:center center;transition:opacity 375ms linear}.hovered::before{background-color:var(--_hover-color);opacity:var(--_hover-opacity)}.pressed::after{opacity:var(--_pressed-opacity);transition-duration:105ms}`
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let Ji=class extends Hi{};Ji.styles=[Xi],Ji=i([ft("md-ripple")],Ji);
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class Qi extends pt{constructor(){super(...arguments),this.value=""}render(){const t={"md3-badge--large":this.value};return W`<div class="md3-badge ${Zi(t)}"> <p class="md3-badge__value">${this.value}</p> </div>`}}i([vt()],Qi.prototype,"value",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const Ki=h`:host{--_color:var(--md-badge-color, var(--md-sys-color-error, #b3261e));--_large-color:var(--md-badge-large-color, var(--md-sys-color-error, #b3261e));--_large-label-text-color:var(--md-badge-large-label-text-color, var(--md-sys-color-on-error, #fff));--_large-label-text-font:var(--md-badge-large-label-text-font, var(--md-sys-typescale-label-small-font, var(--md-ref-typeface-plain, Roboto)));--_large-label-text-line-height:var(--md-badge-large-label-text-line-height, var(--md-sys-typescale-label-small-line-height, 1rem));--_large-label-text-size:var(--md-badge-large-label-text-size, var(--md-sys-typescale-label-small-size, 0.688rem));--_large-label-text-weight:var(--md-badge-large-label-text-weight, var(--md-sys-typescale-label-small-weight, var(--md-ref-typeface-weight-medium, 500)));--_large-shape:var(--md-badge-large-shape, 9999px);--_large-size:var(--md-badge-large-size, 16px);--_shape:var(--md-badge-shape, 9999px);--_size:var(--md-badge-size, 6px)}.md3-badge{inset-inline-start:50%;margin-inline-start:6px;margin-block-start:4px;position:absolute;inset-block-start:0;background-color:var(--_color);border-radius:var(--_shape);height:var(--_size)}.md3-badge:not(.md3-badge--large){width:var(--_size)}.md3-badge.md3-badge--large{display:flex;flex-direction:column;justify-content:center;margin-inline-start:2px;margin-block-start:1px;background-color:var(--_large-color);border-radius:var(--_large-shape);height:var(--_large-size);min-width:var(--_large-size);color:var(--_large-label-text-color)}.md3-badge.md3-badge--large .md3-badge__value{padding:0 4px;text-align:center}.md3-badge__value{font-family:var(--_large-label-text-font);font-size:var(--_large-label-text-size);line-height:var(--_large-label-text-line-height);font-weight:var(--_large-label-text-weight)}`
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let qi=class extends Qi{};qi.styles=[Ki],qi=i([ft("md-badge")],qi);
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class tn extends pt{constructor(){super(...arguments),this.disabled=!1,this.active=!1,this.hideInactiveLabel=!1,this.badgeValue="",this.showBadge=!1}render(){const{ariaLabel:t}=this;return W` <button class="md3-navigation-tab ${Zi(this.getRenderClasses())}" role="tab" aria-selected="${this.active}" aria-label="${t||H}" tabindex="${this.active?0:-1}" @click="${this.handleClick}"> <md-focus-ring part="focus-ring" inward></md-focus-ring> <md-ripple ?disabled="${this.disabled}" class="md3-navigation-tab__ripple"></md-ripple> <span aria-hidden="true" class="md3-navigation-tab__icon-content"><span class="md3-navigation-tab__active-indicator"></span><span class="md3-navigation-tab__icon"><slot name="inactiveIcon"></slot></span> <span class="md3-navigation-tab__icon md3-navigation-tab__icon--active"><slot name="activeIcon"></slot></span>${this.renderBadge()}</span>${this.renderLabel()} </button>`}getRenderClasses(){return{"md3-navigation-tab--hide-inactive-label":this.hideInactiveLabel,"md3-navigation-tab--active":this.active}}renderBadge(){return this.showBadge?W`<md-badge .value="${this.badgeValue}"></md-badge>`:H}renderLabel(){const{ariaLabel:t}=this,e=t?"true":"false";return this.label?W` <span aria-hidden="${e}" class="md3-navigation-tab__label-text">${this.label}</span>`:H}firstUpdated(t){super.firstUpdated(t);const e=new Event("navigation-tab-rendered",{bubbles:!0,composed:!0});this.dispatchEvent(e)}focus(){const t=this.buttonElement;t&&t.focus()}blur(){const t=this.buttonElement;t&&t.blur()}handleClick(){this.dispatchEvent(new CustomEvent("navigation-tab-interaction",{detail:{state:this},bubbles:!0,composed:!0}))}}Ci(tn),i([vt({type:Boolean})],tn.prototype,"disabled",void 0),i([vt({type:Boolean,reflect:!0})],tn.prototype,"active",void 0),i([vt({type:Boolean,attribute:"hide-inactive-label"})],tn.prototype,"hideInactiveLabel",void 0),i([vt()],tn.prototype,"label",void 0),i([vt({attribute:"badge-value"})],tn.prototype,"badgeValue",void 0),i([vt({type:Boolean,attribute:"show-badge"})],tn.prototype,"showBadge",void 0),i([wt("button")],tn.prototype,"buttonElement",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const en=h`:host{--_active-indicator-color:var(--md-navigation-bar-active-indicator-color, var(--md-sys-color-secondary-container, #e8def8));--_active-indicator-height:var(--md-navigation-bar-active-indicator-height, 32px);--_active-indicator-shape:var(--md-navigation-bar-active-indicator-shape, 9999px);--_active-indicator-width:var(--md-navigation-bar-active-indicator-width, 64px);--_active-focus-icon-color:var(--md-navigation-bar-active-focus-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_active-focus-label-text-color:var(--md-navigation-bar-active-focus-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_active-focus-state-layer-color:var(--md-navigation-bar-active-focus-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_active-hover-icon-color:var(--md-navigation-bar-active-hover-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_active-hover-label-text-color:var(--md-navigation-bar-active-hover-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_active-hover-state-layer-color:var(--md-navigation-bar-active-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_active-icon-color:var(--md-navigation-bar-active-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_active-label-text-color:var(--md-navigation-bar-active-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_active-label-text-weight:var(--md-navigation-bar-active-label-text-weight, var(--md-ref-typeface-weight-bold, 700));--_active-pressed-icon-color:var(--md-navigation-bar-active-pressed-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_active-pressed-label-text-color:var(--md-navigation-bar-active-pressed-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_active-pressed-state-layer-color:var(--md-navigation-bar-active-pressed-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_container-color:var(--md-navigation-bar-container-color, var(--md-sys-color-surface-container, #f3edf7));--_container-elevation:var(--md-navigation-bar-container-elevation, 2);--_container-height:var(--md-navigation-bar-container-height, 80px);--_container-shape:var(--md-navigation-bar-container-shape, 0px);--_focus-state-layer-opacity:var(--md-navigation-bar-focus-state-layer-opacity, 0.12);--_hover-state-layer-opacity:var(--md-navigation-bar-hover-state-layer-opacity, 0.08);--_icon-size:var(--md-navigation-bar-icon-size, 24px);--_inactive-focus-icon-color:var(--md-navigation-bar-inactive-focus-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_inactive-focus-label-text-color:var(--md-navigation-bar-inactive-focus-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_inactive-focus-state-layer-color:var(--md-navigation-bar-inactive-focus-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_inactive-hover-icon-color:var(--md-navigation-bar-inactive-hover-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_inactive-hover-label-text-color:var(--md-navigation-bar-inactive-hover-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_inactive-hover-state-layer-color:var(--md-navigation-bar-inactive-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_inactive-icon-color:var(--md-navigation-bar-inactive-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_inactive-label-text-color:var(--md-navigation-bar-inactive-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_inactive-pressed-icon-color:var(--md-navigation-bar-inactive-pressed-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_inactive-pressed-label-text-color:var(--md-navigation-bar-inactive-pressed-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_inactive-pressed-state-layer-color:var(--md-navigation-bar-inactive-pressed-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_label-text-font:var(--md-navigation-bar-label-text-font, var(--md-sys-typescale-label-medium-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height:var(--md-navigation-bar-label-text-line-height, var(--md-sys-typescale-label-medium-line-height, 1rem));--_label-text-size:var(--md-navigation-bar-label-text-size, var(--md-sys-typescale-label-medium-size, 0.75rem));--_label-text-tracking:var(--md-navigation-bar-label-text-tracking, 0.031rem);--_label-text-type:var(--md-navigation-bar-label-text-type, var(--md-sys-typescale-label-medium-weight, var(--md-ref-typeface-weight-medium, 500)) var(--md-sys-typescale-label-medium-size, 0.75rem) / var(--md-sys-typescale-label-medium-line-height, 1rem) var(--md-sys-typescale-label-medium-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-weight:var(--md-navigation-bar-label-text-weight, var(--md-sys-typescale-label-medium-weight, var(--md-ref-typeface-weight-medium, 500)));--_pressed-state-layer-opacity:var(--md-navigation-bar-pressed-state-layer-opacity, 0.12);display:flex;flex-grow:1}md-focus-ring{--md-focus-ring-shape:8px;--md-focus-ring-inward-offset:-1px}.md3-navigation-tab{align-items:center;appearance:none;background:0 0;border:none;box-sizing:border-box;cursor:pointer;display:flex;flex-direction:column;height:100%;justify-content:center;min-height:48px;min-width:48px;outline:0;padding:8px 0 12px;position:relative;text-align:center;width:100%;font-family:var(--_label-text-font);font-size:var(--_label-text-size);line-height:var(--_label-text-line-height);font-weight:var(--_label-text-weight)}.md3-navigation-tab::-moz-focus-inner{border:0;padding:0}.md3-navigation-tab__icon-content{align-items:center;box-sizing:border-box;display:flex;justify-content:center;position:relative;z-index:1}.md3-navigation-tab__label-text{height:16px;margin-top:4px;opacity:1;transition:opacity .1s cubic-bezier(.4,0,.2,1),height .1s cubic-bezier(.4,0,.2,1);z-index:1}.md3-navigation-tab--hide-inactive-label:not(.md3-navigation-tab--active) .md3-navigation-tab__label-text{height:0;opacity:0}.md3-navigation-tab__active-indicator{display:flex;justify-content:center;opacity:0;position:absolute;transition:width .1s cubic-bezier(.4,0,.2,1),opacity .1s cubic-bezier(.4,0,.2,1);width:32px;background-color:var(--_active-indicator-color);border-radius:var(--_active-indicator-shape)}.md3-navigation-tab--active .md3-navigation-tab__active-indicator{opacity:1}.md3-navigation-tab__active-indicator,.md3-navigation-tab__icon-content{height:var(--_active-indicator-height)}.md3-navigation-tab--active .md3-navigation-tab__active-indicator,.md3-navigation-tab__icon-content{width:var(--_active-indicator-width)}.md3-navigation-tab__icon{fill:currentColor;align-self:center;display:inline-block;position:relative;width:var(--_icon-size);height:var(--_icon-size);font-size:var(--_icon-size)}.md3-navigation-tab__icon.md3-navigation-tab__icon--active{display:none}.md3-navigation-tab--active .md3-navigation-tab__icon{display:none}.md3-navigation-tab--active .md3-navigation-tab__icon.md3-navigation-tab__icon--active{display:inline-block}.md3-navigation-tab__ripple{z-index:0}.md3-navigation-tab--active{--md-ripple-hover-color:var(--_active-hover-state-layer-color);--md-ripple-pressed-color:var(--_active-pressed-state-layer-color);--md-ripple-hover-opacity:var(--_hover-state-layer-opacity);--md-ripple-pressed-opacity:var(--_pressed-state-layer-opacity)}.md3-navigation-tab--active .md3-navigation-tab__icon{color:var(--_active-icon-color)}.md3-navigation-tab--active .md3-navigation-tab__label-text{color:var(--_active-label-text-color)}.md3-navigation-tab--active:hover .md3-navigation-tab__icon{color:var(--_active-hover-icon-color)}.md3-navigation-tab--active:hover .md3-navigation-tab__label-text{color:var(--_active-hover-label-text-color)}.md3-navigation-tab--active:focus .md3-navigation-tab__icon{color:var(--_active-focus-icon-color)}.md3-navigation-tab--active:focus .md3-navigation-tab__label-text{color:var(--_active-focus-label-text-color)}.md3-navigation-tab--active:active .md3-navigation-tab__icon{color:var(--_active-pressed-icon-color)}.md3-navigation-tab--active:active .md3-navigation-tab__label-text{color:var(--_active-pressed-label-text-color)}.md3-navigation-tab:not(.md3-navigation-tab--active){--md-ripple-hover-color:var(--_inactive-hover-state-layer-color);--md-ripple-pressed-color:var(--_inactive-pressed-state-layer-color);--md-ripple-hover-opacity:var(--_hover-state-layer-opacity);--md-ripple-pressed-opacity:var(--_pressed-state-layer-opacity)}.md3-navigation-tab:not(.md3-navigation-tab--active) .md3-navigation-tab__icon{color:var(--_inactive-icon-color)}.md3-navigation-tab:not(.md3-navigation-tab--active) .md3-navigation-tab__label-text{color:var(--_inactive-label-text-color)}.md3-navigation-tab:not(.md3-navigation-tab--active):hover .md3-navigation-tab__icon{color:var(--_inactive-hover-icon-color)}.md3-navigation-tab:not(.md3-navigation-tab--active):hover .md3-navigation-tab__label-text{color:var(--_inactive-hover-label-text-color)}.md3-navigation-tab:not(.md3-navigation-tab--active):focus .md3-navigation-tab__icon{color:var(--_inactive-focus-icon-color)}.md3-navigation-tab:not(.md3-navigation-tab--active):focus .md3-navigation-tab__label-text{color:var(--_inactive-focus-label-text-color)}.md3-navigation-tab:not(.md3-navigation-tab--active):active .md3-navigation-tab__icon{color:var(--_inactive-pressed-icon-color)}.md3-navigation-tab:not(.md3-navigation-tab--active):active .md3-navigation-tab__label-text{color:var(--_inactive-pressed-label-text-color)}`
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let nn=class extends tn{};nn.styles=[en],nn=i([ft("md-navigation-tab")],nn);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class rn extends pt{constructor(){super(...arguments),this.opened=!1,this.pivot="end"}render(){const t=this.opened?"true":"false",e=this.opened?"false":"true",{ariaLabel:i,ariaModal:n}=this;return W` <div aria-expanded="${t}" aria-hidden="${e}" aria-label="${i||H}" aria-modal="${n||H}" class="md3-navigation-drawer ${this.getRenderClasses()}" role="dialog"> <md-elevation></md-elevation> <div class="md3-navigation-drawer__slot-content"> <slot></slot> </div> </div> `}getRenderClasses(){return Zi({"md3-navigation-drawer--opened":this.opened,"md3-navigation-drawer--pivot-at-start":"start"===this.pivot})}updated(t){t.has("opened")&&setTimeout((()=>{this.dispatchEvent(new CustomEvent("navigation-drawer-changed",{detail:{opened:this.opened},bubbles:!0,composed:!0}))}),250)}}Ci(rn),i([vt({type:Boolean})],rn.prototype,"opened",void 0),i([vt()],rn.prototype,"pivot",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const on=h`:host{--_container-color:var(--md-navigation-drawer-container-color, #fff);--_container-height:var(--md-navigation-drawer-container-height, 100%);--_container-shape:var(--md-navigation-drawer-container-shape, 0 16px 16px 0);--_container-width:var(--md-navigation-drawer-container-width, 360px);--_divider-color:var(--md-navigation-drawer-divider-color, #000);--_modal-container-elevation:var(--md-navigation-drawer-modal-container-elevation, 1);--_standard-container-elevation:var(--md-navigation-drawer-standard-container-elevation, 0);--md-elevation-level:var(--_standard-container-elevation);--md-elevation-shadow-color:var(--_divider-color)}:host{display:flex}.md3-navigation-drawer{inline-size:0;box-sizing:border-box;display:flex;justify-content:flex-end;overflow:hidden;overflow-y:auto;visibility:hidden;transition:inline-size .25s cubic-bezier(.4,0,.2,1) 0s,visibility 0s cubic-bezier(.4,0,.2,1) .25s}md-elevation{z-index:0}.md3-navigation-drawer--opened{visibility:visible;transition:inline-size .25s cubic-bezier(.4,0,.2,1) 0s,visibility 0s cubic-bezier(.4,0,.2,1) 0s}.md3-navigation-drawer--pivot-at-start{justify-content:flex-start}.md3-navigation-drawer__slot-content{display:flex;flex-direction:column;position:relative}`
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */,an=h`.md3-navigation-drawer-modal{background-color:var(--_container-color);border-radius:var(--_container-shape);height:var(--_container-height)}.md3-navigation-drawer-modal.md3-navigation-drawer-modal--opened{inline-size:var(--_container-width)}.md3-navigation-drawer-modal .md3-navigation-drawer-modal__slot-content{min-inline-size:var(--_container-width);max-inline-size:var(--_container-width)}`
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let sn=class extends rn{};sn.styles=[an,on],sn=i([ft("md-navigation-drawer")],sn);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const ln=h`@media(forced-colors:active){:host{--md-list-item-disabled-label-text-color:GrayText;--md-list-item-disabled-label-text-opacity:1;--md-list-item-disabled-leading-icon-color:GrayText;--md-list-item-disabled-leading-icon-opacity:1;--md-list-item-disabled-trailing-icon-color:GrayText;--md-list-item-disabled-trailing-icon-opacity:1}}`
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,cn=Symbol.for(""),dn=t=>{if((null==t?void 0:t.r)===cn)return null==t?void 0:t._$litStatic$},un=(t,...e)=>({_$litStatic$:e.reduce(((e,i,n)=>e+(t=>{if(void 0!==t._$litStatic$)return t._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${t}. Use 'unsafeStatic' to pass non-literal values, but\n            take care to ensure page security.`)})(i)+t[n+1]),t[0]),r:cn}),hn=new Map,pn=(t=>(e,...i)=>{const n=i.length;let r,o;const a=[],s=[];let l,c=0,d=!1;for(;c<n;){for(l=e[c];c<n&&void 0!==(o=i[c],r=dn(o));)l+=r+e[++c],d=!0;c!==n&&s.push(o),a.push(l),c++}if(c===n&&a.push(e[n]),d){const t=a.join("$$lit$$");void 0===(e=hn.get(t))&&(a.raw=a,hn.set(t,e=a)),i=s}return t(e,...i)})(W);
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class gn extends pt{constructor(){super(...arguments),this.headline="",this.supportingText="",this.multiLineSupportingText=!1,this.trailingSupportingText="",this.disabled=!1,this.itemTabIndex=-1,this.active=!1,this.type="listitem",this.isListItem=!0,this.href="",this.target="",this.focusOnActivation=!0,this.isFirstUpdate=!0}willUpdate(t){t.has("active")&&!this.disabled&&(this.active?this.itemTabIndex=0:this.isFirstUpdate||(this.itemTabIndex=-1))}render(){return this.renderListItem(W` <div class="content-wrapper"> ${this.renderStart()} ${this.renderBody()} ${this.renderEnd()} ${this.renderRipple()} ${this.renderFocusRing()} </div> `)}renderListItem(t){const e=!!this.href,i=e?un`a`:un`li`,n=e||"none"===this.type?H:this.type,r=e&&this.target?this.target:H;return pn`
      <${i}
        id="item"
        tabindex=${this.disabled?-1:this.itemTabIndex}
        role=${n}
        aria-selected=${this.ariaSelected||H}
        aria-checked=${this.ariaChecked||H}
        class="list-item ${Zi(this.getRenderClasses())}"
        href=${this.href||H}
        target=${r}
        @click=${this.onClick}
        @pointerenter=${this.onPointerenter}
        @pointerleave=${this.onPointerleave}
        @keydown=${this.onKeydown}
      >${t}</${i}>
    `}renderRipple(){return W` <md-ripple part="ripple" for="item" ?disabled="${this.disabled}"></md-ripple>`}renderFocusRing(){return W` <md-focus-ring @visibility-changed="${this.onFocusRingVisibilityChanged}" class="focus-ring" part="focus-ring" for="item" inward></md-focus-ring>`}onFocusRingVisibilityChanged(t){}getRenderClasses(){return{"with-one-line":""===this.supportingText,"with-two-line":""!==this.supportingText&&!this.multiLineSupportingText,"with-three-line":""!==this.supportingText&&this.multiLineSupportingText,disabled:this.disabled}}renderStart(){return W`<div class="start"><slot name="start"></slot></div>`}renderBody(){const t=""!==this.supportingText?this.renderSupportingText():"";return W`<div class="body"><span class="label-text">${this.headline}</span>${t}</div>`}renderSupportingText(){return W`<span class="supporting-text ${Zi(this.getSupportingTextClasses())}">${this.supportingText}</span>`}getSupportingTextClasses(){return{"supporting-text--multi-line":this.multiLineSupportingText}}renderEnd(){const t=""!==this.trailingSupportingText?this.renderTrailingSupportingText():"";return W`<div class="end"><slot name="end">${t}</slot></div>`}renderTrailingSupportingText(){return W`<span class="trailing-supporting-text">${this.trailingSupportingText}</span>`}updated(t){super.updated(t),t.has("active")&&!this.isFirstUpdate&&this.active&&this.focusOnActivation&&this.focus(),this.isFirstUpdate=!1}focus(){this.listItemRoot?.focus?.()}}Ci(gn),i([vt()],gn.prototype,"headline",void 0),i([vt({attribute:"supporting-text"})],gn.prototype,"supportingText",void 0),i([vt({type:Boolean,attribute:"multi-line-supporting-text"})],gn.prototype,"multiLineSupportingText",void 0),i([vt({attribute:"trailing-supporting-text"})],gn.prototype,"trailingSupportingText",void 0),i([vt({type:Boolean})],gn.prototype,"disabled",void 0),i([vt({type:Number,attribute:"item-tabindex"})],gn.prototype,"itemTabIndex",void 0),i([vt({type:Boolean,reflect:!0})],gn.prototype,"active",void 0),i([vt()],gn.prototype,"type",void 0),i([vt({type:Boolean,attribute:"md-list-item",reflect:!0})],gn.prototype,"isListItem",void 0),i([vt()],gn.prototype,"href",void 0),i([vt()],gn.prototype,"target",void 0),i([wt(".list-item")],gn.prototype,"listItemRoot",void 0);
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class fn extends gn{constructor(){super(...arguments),this.noninteractive=!1}getRenderClasses(){return{...super.getRenderClasses(),noninteractive:this.noninteractive}}renderRipple(){return this.noninteractive?H:super.renderRipple()}renderFocusRing(){return this.noninteractive?H:super.renderFocusRing()}}i([vt({type:Boolean})],fn.prototype,"noninteractive",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const mn=h`:host{--_container-color:var(--md-list-item-container-color, var(--md-sys-color-surface, #fef7ff));--_container-shape:var(--md-list-item-container-shape, 0px);--_disabled-label-text-color:var(--md-list-item-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity:var(--md-list-item-disabled-label-text-opacity, 0.3);--_disabled-leading-icon-color:var(--md-list-item-disabled-leading-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-leading-icon-opacity:var(--md-list-item-disabled-leading-icon-opacity, 0.38);--_disabled-trailing-icon-color:var(--md-list-item-disabled-trailing-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-trailing-icon-opacity:var(--md-list-item-disabled-trailing-icon-opacity, 0.38);--_focus-label-text-color:var(--md-list-item-focus-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_focus-leading-icon-icon-color:var(--md-list-item-focus-leading-icon-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_focus-trailing-icon-icon-color:var(--md-list-item-focus-trailing-icon-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-label-text-color:var(--md-list-item-hover-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-leading-icon-icon-color:var(--md-list-item-hover-leading-icon-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-color:var(--md-list-item-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-state-layer-opacity:var(--md-list-item-hover-state-layer-opacity, 0.08);--_hover-trailing-icon-icon-color:var(--md-list-item-hover-trailing-icon-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_label-text-color:var(--md-list-item-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_label-text-font:var(--md-list-item-label-text-font, var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height:var(--md-list-item-label-text-line-height, var(--md-sys-typescale-body-large-line-height, 1.5rem));--_label-text-size:var(--md-list-item-label-text-size, var(--md-sys-typescale-body-large-size, 1rem));--_label-text-weight:var(--md-list-item-label-text-weight, var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400)));--_large-leading-video-height:var(--md-list-item-large-leading-video-height, 69px);--_leading-avatar-label-color:var(--md-list-item-leading-avatar-label-color, var(--md-sys-color-on-primary-container, #21005d));--_leading-avatar-label-font:var(--md-list-item-leading-avatar-label-font, var(--md-sys-typescale-title-medium-font, var(--md-ref-typeface-plain, Roboto)));--_leading-avatar-label-line-height:var(--md-list-item-leading-avatar-label-line-height, var(--md-sys-typescale-title-medium-line-height, 1.5rem));--_leading-avatar-label-size:var(--md-list-item-leading-avatar-label-size, var(--md-sys-typescale-title-medium-size, 1rem));--_leading-avatar-label-weight:var(--md-list-item-leading-avatar-label-weight, var(--md-sys-typescale-title-medium-weight, var(--md-ref-typeface-weight-medium, 500)));--_leading-avatar-color:var(--md-list-item-leading-avatar-color, var(--md-sys-color-primary-container, #eaddff));--_leading-avatar-shape:var(--md-list-item-leading-avatar-shape, 9999px);--_leading-avatar-size:var(--md-list-item-leading-avatar-size, 40px);--_leading-icon-color:var(--md-list-item-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_leading-icon-size:var(--md-list-item-leading-icon-size, 18px);--_leading-image-height:var(--md-list-item-leading-image-height, 56px);--_leading-image-shape:var(--md-list-item-leading-image-shape, 0px);--_leading-image-width:var(--md-list-item-leading-image-width, 56px);--_leading-video-shape:var(--md-list-item-leading-video-shape, 0px);--_leading-video-width:var(--md-list-item-leading-video-width, 100px);--_one-line-container-height:var(--md-list-item-one-line-container-height, 56px);--_pressed-label-text-color:var(--md-list-item-pressed-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_pressed-leading-icon-icon-color:var(--md-list-item-pressed-leading-icon-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-state-layer-color:var(--md-list-item-pressed-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_pressed-state-layer-opacity:var(--md-list-item-pressed-state-layer-opacity, 0.12);--_pressed-trailing-icon-icon-color:var(--md-list-item-pressed-trailing-icon-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_small-leading-video-height:var(--md-list-item-small-leading-video-height, 56px);--_supporting-text-color:var(--md-list-item-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_supporting-text-font:var(--md-list-item-supporting-text-font, var(--md-sys-typescale-body-medium-font, var(--md-ref-typeface-plain, Roboto)));--_supporting-text-line-height:var(--md-list-item-supporting-text-line-height, var(--md-sys-typescale-body-medium-line-height, 1.25rem));--_supporting-text-size:var(--md-list-item-supporting-text-size, var(--md-sys-typescale-body-medium-size, 0.875rem));--_supporting-text-weight:var(--md-list-item-supporting-text-weight, var(--md-ref-typeface-weight-regular, 400));--_three-line-container-height:var(--md-list-item-three-line-container-height, 88px);--_trailing-icon-color:var(--md-list-item-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_trailing-icon-size:var(--md-list-item-trailing-icon-size, 24px);--_trailing-supporting-text-color:var(--md-list-item-trailing-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_trailing-supporting-text-font:var(--md-list-item-trailing-supporting-text-font, var(--md-sys-typescale-label-small-font, var(--md-ref-typeface-plain, Roboto)));--_trailing-supporting-text-line-height:var(--md-list-item-trailing-supporting-text-line-height, var(--md-sys-typescale-label-small-line-height, 1rem));--_trailing-supporting-text-size:var(--md-list-item-trailing-supporting-text-size, var(--md-sys-typescale-label-small-size, 0.688rem));--_trailing-supporting-text-weight:var(--md-list-item-trailing-supporting-text-weight, var(--md-sys-typescale-label-small-weight, var(--md-ref-typeface-weight-medium, 500)));--_two-line-container-height:var(--md-list-item-two-line-container-height, 72px);--_leading-element-leading-space:var(--md-list-item-leading-element-leading-space, 16px);--_leading-space:var(--md-list-item-leading-space, 16px);--_leading-video-leading-space:var(--md-list-item-leading-video-leading-space, 0px);--_trailing-element-headline-trailing-element-space:var(--md-list-item-trailing-element-headline-trailing-element-space, 16px);--_trailing-space:var(--md-list-item-trailing-space, 24px)}:host{color:unset;--md-ripple-hover-color:var(--_hover-state-layer-color);--md-ripple-hover-opacity:var(--_hover-state-layer-opacity);--md-ripple-pressed-color:var(--_pressed-state-layer-color);--md-ripple-pressed-opacity:var(--_pressed-state-layer-opacity)}md-focus-ring{--md-focus-ring-shape:8px}.list-item{align-items:center;box-sizing:border-box;display:flex;outline:0;position:relative;width:100%;text-decoration:none;background-color:var(--_container-color);border-radius:var(--_container-shape);-webkit-tap-highlight-color:transparent}.list-item:not(.disabled):not(.noninteractive){cursor:pointer}.list-item.disabled{pointer-events:none}.content-wrapper{display:flex;width:100%;box-sizing:border-box;border-radius:inherit;padding-inline-end:var(--_trailing-space)}md-ripple{border-radius:inherit}.with-one-line{min-height:var(--_one-line-container-height)}.with-two-line{min-height:var(--_two-line-container-height)}.with-three-line{min-height:var(--_three-line-container-height)}.start{display:inline-flex;flex-direction:column;justify-content:center;align-items:center;flex:0 0 auto;z-index:1}.with-three-line .start{justify-content:start}slot[name=start]::slotted([data-variant=avatar]),slot[name=start]::slotted([data-variant=icon]),slot[name=start]::slotted([data-variant=image]){margin-inline-start:var(--_leading-element-leading-space)}.body{display:inline-flex;justify-content:center;flex-direction:column;min-width:0;box-sizing:border-box;flex:1 0 0;padding-inline-start:var(--_leading-space);z-index:1}.end{display:inline-flex;flex-direction:column;justify-content:center;flex:0 0 auto;z-index:1}.with-three-line .end{justify-content:start}.trailing-supporting-text,slot[name=end]::slotted(*){margin-inline-start:var(--_trailing-element-headline-trailing-element-space)}.label-text{text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;color:var(--_label-text-color);font-family:var(--_label-text-font);font-size:var(--_label-text-size);line-height:var(--_label-text-line-height);font-weight:var(--_label-text-weight)}:hover .label-text{color:var(--_hover-label-text-color)}:focus .label-text{color:var(--_focus-label-text-color)}:active .label-text{color:var(--_pressed-label-text-color)}.disabled .label-text{color:var(--_disabled-label-text-color);opacity:var(--_disabled-label-text-opacity)}.supporting-text{text-overflow:ellipsis;white-space:normal;overflow:hidden;width:100%;color:var(--_supporting-text-color);font-family:var(--_supporting-text-font);font-size:var(--_supporting-text-size);line-height:var(--_supporting-text-line-height);font-weight:var(--_supporting-text-weight);-webkit-box-orient:vertical;-webkit-line-clamp:1;display:-webkit-box}.disabled .supporting-text{color:var(--_disabled-label-text-color);opacity:var(--_disabled-label-text-opacity)}.supporting-text--multi-line{-webkit-line-clamp:2}.trailing-supporting-text{font-family:var(--_trailing-supporting-text-font);font-size:var(--_trailing-supporting-text-size);line-height:var(--_trailing-supporting-text-line-height);font-weight:var(--_trailing-supporting-text-weight)}.list-item:not(.disabled) .trailing-supporting-text{color:var(--_trailing-supporting-text-color)}.disabled .trailing-supporting-text{color:var(--_disabled-label-text-color);opacity:var(--_disabled-label-text-opacity)}.with-three-line .trailing-supporting-text{margin-block-start:calc((var(--_label-text-line-height) - var(--_trailing-supporting-text-line-height))/ 2)}.focus-ring{z-index:1}::slotted([data-variant=image]){display:inline-flex;height:var(--_leading-image-height);width:var(--_leading-image-width);border-radius:var(--_leading-image-shape);margin-block:calc((var(--_two-line-container-height) - var(--_leading-image-height))/ 2)}.with-three-line ::slotted([data-variant=image]){margin-block:0}::slotted(*){fill:currentColor}slot[name=start]::slotted([data-variant=icon]){font-size:var(--_leading-icon-size);width:var(--_leading-icon-size);height:var(--_leading-icon-size);color:var(--_leading-icon-color)}.with-three-line slot[name=start]::slotted([data-variant=icon]){margin-block-start:calc((var(--_label-text-line-height) - var(--_leading-icon-size))/ 2)}slot[name=end]::slotted([data-variant=icon]){font-size:var(--_trailing-icon-size);width:var(--_trailing-icon-size);height:var(--_trailing-icon-size);color:var(--_trailing-icon-color)}.with-three-line slot[name=end]::slotted([data-variant=icon]){margin-block-start:calc((var(--_label-text-line-height) - var(--_trailing-icon-size))/ 2)}:hover slot[name=start]::slotted([data-variant=icon]){color:var(--_hover-leading-icon-icon-color)}:hover slot[name=end]::slotted([data-variant=icon]){color:var(--_hover-trailing-icon-icon-color)}:focus slot[name=start]::slotted([data-variant=icon]){color:var(--_focus-leading-icon-icon-color)}:focus slot[name=end]::slotted([data-variant=icon]){color:var(--_focus-trailing-icon-icon-color)}:active slot[name=start]::slotted([data-variant=icon]){color:var(--_pressed-leading-icon-icon-color)}:active slot[name=end]::slotted([data-variant=icon]){color:var(--_pressed-trailing-icon-icon-color)}.disabled slot[name=start]::slotted([data-variant=icon]){opacity:var(--_disabled-leading-icon-opacity);color:var(--_disabled-leading-icon-color)}.disabled slot[name=end]::slotted([data-variant=icon]){opacity:var(--_disabled-trailing-icon-opacity);color:var(--_disabled-trailing-icon-color)}::slotted([data-variant=avatar]){display:inline-flex;justify-content:center;align-items:center;background-color:var(--_leading-avatar-color);height:var(--_leading-avatar-size);width:var(--_leading-avatar-size);border-radius:var(--_leading-avatar-shape);color:var(--_leading-avatar-label-color);font-family:var(--_leading-avatar-label-font);font-size:var(--_leading-avatar-label-size);line-height:var(--_leading-avatar-label-line-height);font-weight:var(--_leading-avatar-label-weight)}::slotted([data-variant=video-large]),::slotted([data-variant=video]){display:inline-flex;object-fit:cover;height:var(--_small-leading-video-height);width:var(--_leading-video-width);border-radius:var(--_leading-video-shape);margin-inline-start:var(--_leading-video-leading-space);margin-block:calc((var(--_three-line-container-height) - var(--_small-leading-video-height))/ 2)}.with-three-line ::slotted([data-variant=video-large]),.with-three-line ::slotted([data-variant=video]){margin-block:0}::slotted([data-variant=video-large]){margin-block:calc((var(--_three-line-container-height) - var(--_large-leading-video-height))/ 2);height:var(--_large-leading-video-height)}`
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let vn=class extends fn{};vn.styles=[mn,ln],vn=i([ft("md-list-item")],vn);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const bn={ArrowDown:"ArrowDown",ArrowUp:"ArrowUp",Home:"Home",End:"End"},yn=new Set(Object.values(bn));class xn extends pt{constructor(){super(...arguments),this.type="list",this.listTabIndex=0}render(){return this.renderList()}renderList(){const{ariaLabel:t}=this;return W` <ul class="list" aria-label="${t||H}" tabindex="${this.listTabIndex}" role="${this.type||H}" @keydown="${this.handleKeydown}"> ${this.renderContent()} </ul> `}renderContent(){return W`<span><slot></slot></span>`}handleKeydown(t){const e=t.key;if(t.defaultPrevented||!function(t){return yn.has(t)}(e))return;const i=this.items;if(!i.length)return;const n=xn.getActiveItem(i);switch(n&&(n.item.active=!1),t.preventDefault(),e){case bn.ArrowDown:this.activateNextItemInternal(i,n);break;case bn.ArrowUp:this.activatePreviousItemInternal(i,n);break;case bn.Home:xn.activateFirstItem(i);break;case bn.End:xn.activateLastItem(i)}}activateNextItemInternal(t,e){if(e){const i=xn.getNextItem(t,e.index);return i&&(i.active=!0),i}return xn.activateFirstItem(t)}activatePreviousItemInternal(t,e){if(e){const i=xn.getPrevItem(t,e.index);return i&&(i.active=!0),i}return xn.activateLastItem(t)}activateNextItem(){const t=this.items,e=xn.getActiveItem(t);return e&&(e.item.active=!1),this.activateNextItemInternal(t,e)}activatePreviousItem(){const t=this.items,e=xn.getActiveItem(t);return e&&(e.item.active=!1),this.activatePreviousItemInternal(t,e)}static activateFirstItem(t){const e=xn.getFirstActivatableItem(t);return e&&(e.active=!0),e}static activateLastItem(t){const e=xn.getLastActivatableItem(t);return e&&(e.active=!0),e}static deactivateActiveItem(t){const e=xn.getActiveItem(t);return e&&(e.item.active=!1),e}focus(){this.listRoot?.focus()}static getActiveItem(t){for(let e=0;e<t.length;e++){const i=t[e];if(i.active)return{item:i,index:e}}return null}static getFirstActivatableItem(t){for(const e of t)if(!e.disabled)return e;return null}static getLastActivatableItem(t){for(let e=t.length-1;e>=0;e--){const i=t[e];if(!i.disabled)return i}return null}static getNextItem(t,e){for(let i=1;i<t.length;i++){const n=t[(i+e)%t.length];if(!n.disabled)return n}return t[e]?t[e]:null}static getPrevItem(t,e){for(let i=1;i<t.length;i++){const n=t[(e-i+t.length)%t.length];if(!n.disabled)return n}return t[e]?t[e]:null}}Ci(xn),xn.shadowRootOptions={mode:"open",delegatesFocus:!0},i([vt()],xn.prototype,"type",void 0),i([vt({type:Number,attribute:"list-tabindex"})],xn.prototype,"listTabIndex",void 0),i([wt(".list")],xn.prototype,"listRoot",void 0),i([At({flatten:!0,selector:"[md-list-item]"})],xn.prototype,"items",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const wn=h`:host{--_container-color:var(--md-list-container-color, var(--md-sys-color-surface, #fef7ff));color:unset;display:flex}.list{background-color:var(--_container-color);border-radius:inherit;display:block;list-style-type:none;margin:0;min-width:inherit;outline:0;padding:8px 0;position:relative}`
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let In=class extends xn{};In.styles=[wn],In=i([ft("md-list")],In);
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class Cn extends pt{render(){return W`<slot></slot>`}connectedCallback(){super.connectedCallback();"false"!==this.getAttribute("aria-hidden")?this.setAttribute("aria-hidden","true"):this.removeAttribute("aria-hidden")}}
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */const An=h`:host{font-size:24px;width:24px;height:24px;color:inherit;font-variation-settings:inherit;font-weight:400;font-family:var(--md-icon-font,Material Symbols Outlined);display:inline-flex;font-style:normal;line-height:1;overflow:hidden;letter-spacing:normal;text-transform:none;user-select:none;white-space:nowrap;word-wrap:normal;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale}::slotted(svg){fill:currentColor}::slotted(*){height:100%;width:100%}`
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let Sn=class extends Cn{};Sn.styles=[An],Sn=i([ft("md-icon")],Sn);
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const kn=Symbol("internals");
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _n(t){t.addInitializer((t=>{const e=t;e.addEventListener("click",(async t=>{const{type:i,[kn]:n}=e,{form:r}=n;r&&"button"!==i&&(await new Promise((t=>{t()})),t.defaultPrevented||("reset"!==i?(r.addEventListener("submit",(t=>{Object.defineProperty(t,"submitter",{configurable:!0,enumerable:!0,get:()=>e})}),{capture:!0,once:!0}),n.setFormValue(e.value),r.requestSubmit()):r.reset()))}))}))}
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Tn;class Pn extends pt{constructor(){super(...arguments),this.disabled=!1,this.flipIconInRtl=!1,this.href="",this.target="",this.ariaLabelSelected="",this.toggle=!1,this.selected=!1,this.type="submit",this.value="",this.flipIcon=Ai(this,this.flipIconInRtl),this[Tn]=this.attachInternals()}get name(){return this.getAttribute("name")??""}set name(t){this.setAttribute("name",t)}get form(){return this[kn].form}get labels(){return this[kn].labels}willUpdate(){this.href&&(this.disabled=!1)}render(){const t=this.href?un`div`:un`button`,{ariaLabel:e,ariaHasPopup:i,ariaExpanded:n}=this,r=e&&this.ariaLabelSelected,o=this.toggle?this.selected:H;let a=H;return this.href||(a=r&&this.selected?this.ariaLabelSelected:e),pn`<${t}
        class="icon-button ${Zi(this.getRenderClasses())}"
        id="button"
        aria-label="${a||H}"
        aria-haspopup="${!this.href&&i||H}"
        aria-expanded="${!this.href&&n||H}"
        aria-pressed="${o}"
        ?disabled="${!this.href&&this.disabled}"
        @click="${this.handleClick}">
        ${this.renderFocusRing()}
        ${this.renderRipple()}
        ${this.selected?H:this.renderIcon()}
        ${this.selected?this.renderSelectedIcon():H}
        ${this.renderTouchTarget()}
        ${this.href&&this.renderLink()}
  </${t}>`}renderLink(){const{ariaLabel:t}=this;return W` <a class="link" id="link" href="${this.href}" target="${this.target||H}" aria-label="${t||H}"></a> `}getRenderClasses(){return{"flip-icon":this.flipIcon,selected:this.toggle&&this.selected}}renderIcon(){return W`<span class="icon"><slot></slot></span>`}renderSelectedIcon(){return W`<span class="icon icon--selected"><slot name="selected"><slot></slot></slot></span>`}renderTouchTarget(){return W`<span class="touch"></span>`}renderFocusRing(){return W`<md-focus-ring part="focus-ring" for="${this.href?"link":"button"}"></md-focus-ring>`}renderRipple(){return W`<md-ripple for="${this.href?"link":H}" ?disabled="${!this.href&&this.disabled}"></md-ripple>`}connectedCallback(){this.flipIcon=Ai(this,this.flipIconInRtl),super.connectedCallback()}handleClick(){this.toggle&&!this.disabled&&(this.selected=!this.selected,this.dispatchEvent(new InputEvent("input",{bubbles:!0,composed:!0})),this.dispatchEvent(new Event("change",{bubbles:!0})))}}Tn=kn,Ci(Pn),_n(Pn),Pn.formAssociated=!0,Pn.shadowRootOptions={mode:"open",delegatesFocus:!0},i([vt({type:Boolean,reflect:!0})],Pn.prototype,"disabled",void 0),i([vt({type:Boolean,attribute:"flip-icon-in-rtl"})],Pn.prototype,"flipIconInRtl",void 0),i([vt()],Pn.prototype,"href",void 0),i([vt()],Pn.prototype,"target",void 0),i([vt({attribute:"aria-label-selected"})],Pn.prototype,"ariaLabelSelected",void 0),i([vt({type:Boolean})],Pn.prototype,"toggle",void 0),i([vt({type:Boolean,reflect:!0})],Pn.prototype,"selected",void 0),i([vt()],Pn.prototype,"type",void 0),i([vt()],Pn.prototype,"value",void 0),i([bt()],Pn.prototype,"flipIcon",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const Mn=h`:host{display:inline-flex;outline:0;-webkit-tap-highlight-color:transparent;height:var(--_container-size);width:var(--_container-size);justify-content:center}:host([touch-target=wrapper]){margin:max(0,(48px - var(--_container-size))/2)}md-focus-ring{--md-focus-ring-shape-start-start:var(--_container-shape-start-start);--md-focus-ring-shape-start-end:var(--_container-shape-start-end);--md-focus-ring-shape-end-end:var(--_container-shape-end-end);--md-focus-ring-shape-end-start:var(--_container-shape-end-start)}:host([disabled]){pointer-events:none}.icon-button{align-items:center;background:0 0;border:none;box-sizing:border-box;cursor:pointer;display:flex;justify-content:center;outline:0;padding:0;position:relative;text-decoration:none;user-select:none;z-index:0;flex:1;border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end)}.icon ::slotted(*){font-size:var(--_icon-size);height:var(--_icon-size);width:var(--_icon-size);font-weight:inherit}md-ripple{z-index:-1;border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end)}.flip-icon .icon{transform:scaleX(-1)}.icon{display:inline-flex}.link{height:100%;outline:0;position:absolute;width:100%}.touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%,-50%)}:host([touch-target=none]) .touch{display:none}`
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */,Nn=h`:host{--_disabled-icon-color:var(--md-icon-button-disabled-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-icon-opacity:var(--md-icon-button-disabled-icon-opacity, 0.38);--_icon-size:var(--md-icon-button-icon-size, 24px);--_selected-focus-icon-color:var(--md-icon-button-selected-focus-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-hover-icon-color:var(--md-icon-button-selected-hover-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-hover-state-layer-color:var(--md-icon-button-selected-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--_selected-hover-state-layer-opacity:var(--md-icon-button-selected-hover-state-layer-opacity, 0.08);--_selected-icon-color:var(--md-icon-button-selected-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-pressed-icon-color:var(--md-icon-button-selected-pressed-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-pressed-state-layer-color:var(--md-icon-button-selected-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--_selected-pressed-state-layer-opacity:var(--md-icon-button-selected-pressed-state-layer-opacity, 0.12);--_state-layer-shape:var(--md-icon-button-state-layer-shape, 9999px);--_state-layer-size:var(--md-icon-button-state-layer-size, 40px);--_focus-icon-color:var(--md-icon-button-focus-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-icon-color:var(--md-icon-button-hover-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-color:var(--md-icon-button-hover-state-layer-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-opacity:var(--md-icon-button-hover-state-layer-opacity, 0.08);--_icon-color:var(--md-icon-button-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-icon-color:var(--md-icon-button-pressed-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-state-layer-color:var(--md-icon-button-pressed-state-layer-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-state-layer-opacity:var(--md-icon-button-pressed-state-layer-opacity, 0.12);--_container-shape-start-start:0;--_container-shape-start-end:0;--_container-shape-end-end:0;--_container-shape-end-start:0;--_container-size:0;height:var(--_state-layer-size);width:var(--_state-layer-size)}:host([touch-target=wrapper]){margin:max(0,(48px - var(--_state-layer-size))/2)}md-focus-ring{--md-focus-ring-shape-start-start:var(--_state-layer-shape);--md-focus-ring-shape-start-end:var(--_state-layer-shape);--md-focus-ring-shape-end-end:var(--_state-layer-shape);--md-focus-ring-shape-end-start:var(--_state-layer-shape)}.standard{background-color:rgba(0,0,0,0);color:var(--_icon-color);--md-ripple-hover-color:var(--_hover-state-layer-color);--md-ripple-hover-opacity:var(--_hover-state-layer-opacity);--md-ripple-pressed-color:var(--_pressed-state-layer-color);--md-ripple-pressed-opacity:var(--_pressed-state-layer-opacity)}.standard:hover{color:var(--_hover-icon-color)}.standard:focus{color:var(--_focus-icon-color)}.standard:active{color:var(--_pressed-icon-color)}.standard:disabled{color:var(--_disabled-icon-color)}md-ripple{border-radius:var(--_state-layer-shape)}.standard:disabled .icon{opacity:var(--_disabled-icon-opacity)}.selected{--md-ripple-hover-color:var(--_selected-hover-state-layer-color);--md-ripple-hover-opacity:var(--_selected-hover-state-layer-opacity);--md-ripple-pressed-color:var(--_selected-pressed-state-layer-color);--md-ripple-pressed-opacity:var(--_selected-pressed-state-layer-opacity)}.selected:not(:disabled){color:var(--_selected-icon-color)}.selected:not(:disabled):hover{color:var(--_selected-hover-icon-color)}.selected:not(:disabled):focus{color:var(--_selected-focus-icon-color)}.selected:not(:disabled):active{color:var(--_selected-pressed-icon-color)}`
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let Ln=class extends Pn{getRenderClasses(){return{...super.getRenderClasses(),standard:!0}}};Ln.styles=[Mn,Nn],Ln=i([ft("md-icon-button")],Ln);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const On=h`:host{--_container-shape:var(--md-outlined-icon-button-container-shape, 9999px);--_container-size:var(--md-outlined-icon-button-container-size, 40px);--_disabled-icon-color:var(--md-outlined-icon-button-disabled-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-icon-opacity:var(--md-outlined-icon-button-disabled-icon-opacity, 0.38);--_disabled-selected-container-color:var(--md-outlined-icon-button-disabled-selected-container-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-selected-container-opacity:var(--md-outlined-icon-button-disabled-selected-container-opacity, 0.12);--_hover-state-layer-opacity:var(--md-outlined-icon-button-hover-state-layer-opacity, 0.08);--_icon-size:var(--md-outlined-icon-button-icon-size, 24px);--_pressed-state-layer-opacity:var(--md-outlined-icon-button-pressed-state-layer-opacity, 0.12);--_selected-container-color:var(--md-outlined-icon-button-selected-container-color, var(--md-sys-color-inverse-surface, #322f35));--_selected-focus-icon-color:var(--md-outlined-icon-button-selected-focus-icon-color, var(--md-sys-color-inverse-on-surface, #f5eff7));--_selected-hover-icon-color:var(--md-outlined-icon-button-selected-hover-icon-color, var(--md-sys-color-inverse-on-surface, #f5eff7));--_selected-hover-state-layer-color:var(--md-outlined-icon-button-selected-hover-state-layer-color, var(--md-sys-color-inverse-on-surface, #f5eff7));--_selected-icon-color:var(--md-outlined-icon-button-selected-icon-color, var(--md-sys-color-inverse-on-surface, #f5eff7));--_selected-pressed-icon-color:var(--md-outlined-icon-button-selected-pressed-icon-color, var(--md-sys-color-inverse-on-surface, #f5eff7));--_selected-pressed-state-layer-color:var(--md-outlined-icon-button-selected-pressed-state-layer-color, var(--md-sys-color-inverse-on-surface, #f5eff7));--_disabled-outline-color:var(--md-outlined-icon-button-disabled-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-outline-opacity:var(--md-outlined-icon-button-disabled-outline-opacity, 0.12);--_focus-icon-color:var(--md-outlined-icon-button-focus-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-icon-color:var(--md-outlined-icon-button-hover-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-color:var(--md-outlined-icon-button-hover-state-layer-color, var(--md-sys-color-on-surface-variant, #49454f));--_icon-color:var(--md-outlined-icon-button-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_outline-color:var(--md-outlined-icon-button-outline-color, var(--md-sys-color-outline, #79747e));--_outline-width:var(--md-outlined-icon-button-outline-width, 1px);--_pressed-icon-color:var(--md-outlined-icon-button-pressed-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_pressed-state-layer-color:var(--md-outlined-icon-button-pressed-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_container-shape-start-start:var( --md-outlined-icon-button-container-shape-start-start, var(--_container-shape) );--_container-shape-start-end:var( --md-outlined-icon-button-container-shape-start-end, var(--_container-shape) );--_container-shape-end-end:var( --md-outlined-icon-button-container-shape-end-end, var(--_container-shape) );--_container-shape-end-start:var( --md-outlined-icon-button-container-shape-end-start, var(--_container-shape) )}.outlined{background-color:rgba(0,0,0,0);color:var(--_icon-color);--md-ripple-hover-color:var(--_hover-state-layer-color);--md-ripple-hover-opacity:var(--_hover-state-layer-opacity);--md-ripple-pressed-color:var(--_pressed-state-layer-color);--md-ripple-pressed-opacity:var(--_pressed-state-layer-opacity)}.outlined::before{border-color:var(--_outline-color);border-width:var(--_outline-width)}.outlined:hover{color:var(--_hover-icon-color)}.outlined:focus{color:var(--_focus-icon-color)}.outlined:active{color:var(--_pressed-icon-color)}.outlined:disabled{color:var(--_disabled-icon-color)}.outlined:disabled::before{border-color:var(--_disabled-outline-color);opacity:var(--_disabled-outline-opacity)}.outlined:disabled .icon{opacity:var(--_disabled-icon-opacity)}.outlined::before{block-size:100%;border-style:solid;border-radius:inherit;box-sizing:border-box;content:"";inline-size:100%;inset:0;pointer-events:none;position:absolute;z-index:-1}.outlined.selected::before{border-width:0}.selected{--md-ripple-hover-color:var(--_selected-hover-state-layer-color);--md-ripple-hover-opacity:var(--_hover-state-layer-opacity);--md-ripple-pressed-color:var(--_selected-pressed-state-layer-color);--md-ripple-pressed-opacity:var(--_pressed-state-layer-opacity)}.selected:not(:disabled){color:var(--_selected-icon-color)}.selected:not(:disabled):hover{color:var(--_selected-hover-icon-color)}.selected:not(:disabled):focus{color:var(--_selected-focus-icon-color)}.selected:not(:disabled):active{color:var(--_selected-pressed-icon-color)}.selected:not(:disabled)::before{background-color:var(--_selected-container-color)}.selected:disabled::before{background-color:var(--_disabled-selected-container-color);opacity:var(--_disabled-selected-container-opacity)}@media(forced-colors:active){.selected::before{border-color:var(--_outline-color);border-width:var(--_outline-width)}.selected:disabled::before{border-color:var(--_disabled-outline-color);opacity:var(--_disabled-outline-opacity)}}`
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let En=class extends Pn{getRenderClasses(){return{...super.getRenderClasses(),outlined:!0}}};En.styles=[Mn,On],En=i([ft("md-outlined-icon-button")],En);const Dn=()=>{},zn={get passive(){return!1}};document.addEventListener("x",Dn,zn),document.removeEventListener("x",Dn);
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class jn extends pt{click(){if(this.mdcRoot)return this.mdcRoot.focus(),void this.mdcRoot.click();super.click()}createFoundation(){void 0!==this.mdcFoundation&&this.mdcFoundation.destroy(),this.mdcFoundationClass&&(this.mdcFoundation=new this.mdcFoundationClass(this.createAdapter()),this.mdcFoundation.init())}firstUpdated(){this.createFoundation()}}
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rn=t=>(e,i)=>{if(e.constructor._observers){if(!e.constructor.hasOwnProperty("_observers")){const t=e.constructor._observers;e.constructor._observers=new Map,t.forEach(((t,i)=>e.constructor._observers.set(i,t)))}}else{e.constructor._observers=new Map;const t=e.updated;e.updated=function(e){t.call(this,e),e.forEach(((t,e)=>{const i=this.constructor._observers.get(e);void 0!==i&&i.call(this,this[e],t)}))}}e.constructor._observers.set(i,t)}
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */;var Gn=function(){function t(t){void 0===t&&(t={}),this.adapter=t}return Object.defineProperty(t,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),t.prototype.init=function(){},t.prototype.destroy=function(){},t}(),Bn={CLOSING:"mdc-snackbar--closing",OPEN:"mdc-snackbar--open",OPENING:"mdc-snackbar--opening"},Un={ACTION_SELECTOR:".mdc-snackbar__action",ARIA_LIVE_LABEL_TEXT_ATTR:"data-mdc-snackbar-label-text",CLOSED_EVENT:"MDCSnackbar:closed",CLOSING_EVENT:"MDCSnackbar:closing",DISMISS_SELECTOR:".mdc-snackbar__dismiss",LABEL_SELECTOR:".mdc-snackbar__label",OPENED_EVENT:"MDCSnackbar:opened",OPENING_EVENT:"MDCSnackbar:opening",REASON_ACTION:"action",REASON_DISMISS:"dismiss",SURFACE_SELECTOR:".mdc-snackbar__surface"},Zn={DEFAULT_AUTO_DISMISS_TIMEOUT_MS:5e3,INDETERMINATE:-1,MAX_AUTO_DISMISS_TIMEOUT_MS:1e4,MIN_AUTO_DISMISS_TIMEOUT_MS:4e3,SNACKBAR_ANIMATION_CLOSE_TIME_MS:75,SNACKBAR_ANIMATION_OPEN_TIME_MS:150,ARIA_LIVE_DELAY_MS:1e3},$n=Bn.OPENING,Fn=Bn.OPEN,Wn=Bn.CLOSING,Vn=Un.REASON_ACTION,Yn=Un.REASON_DISMISS,Hn=function(i){function n(t){var r=i.call(this,e(e({},n.defaultAdapter),t))||this;return r.opened=!1,r.animationFrame=0,r.animationTimer=0,r.autoDismissTimer=0,r.autoDismissTimeoutMs=Zn.DEFAULT_AUTO_DISMISS_TIMEOUT_MS,r.closeOnEscape=!0,r}return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}(n,i),Object.defineProperty(n,"cssClasses",{get:function(){return Bn},enumerable:!1,configurable:!0}),Object.defineProperty(n,"strings",{get:function(){return Un},enumerable:!1,configurable:!0}),Object.defineProperty(n,"numbers",{get:function(){return Zn},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultAdapter",{get:function(){return{addClass:function(){},announce:function(){},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},removeClass:function(){}}},enumerable:!1,configurable:!0}),n.prototype.destroy=function(){this.clearAutoDismissTimer(),cancelAnimationFrame(this.animationFrame),this.animationFrame=0,clearTimeout(this.animationTimer),this.animationTimer=0,this.adapter.removeClass($n),this.adapter.removeClass(Fn),this.adapter.removeClass(Wn)},n.prototype.open=function(){var t=this;this.clearAutoDismissTimer(),this.opened=!0,this.adapter.notifyOpening(),this.adapter.removeClass(Wn),this.adapter.addClass($n),this.adapter.announce(),this.runNextAnimationFrame((function(){t.adapter.addClass(Fn),t.animationTimer=setTimeout((function(){var e=t.getTimeoutMs();t.handleAnimationTimerEnd(),t.adapter.notifyOpened(),e!==Zn.INDETERMINATE&&(t.autoDismissTimer=setTimeout((function(){t.close(Yn)}),e))}),Zn.SNACKBAR_ANIMATION_OPEN_TIME_MS)}))},n.prototype.close=function(t){var e=this;void 0===t&&(t=""),this.opened&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=0,this.clearAutoDismissTimer(),this.opened=!1,this.adapter.notifyClosing(t),this.adapter.addClass(Bn.CLOSING),this.adapter.removeClass(Bn.OPEN),this.adapter.removeClass(Bn.OPENING),clearTimeout(this.animationTimer),this.animationTimer=setTimeout((function(){e.handleAnimationTimerEnd(),e.adapter.notifyClosed(t)}),Zn.SNACKBAR_ANIMATION_CLOSE_TIME_MS))},n.prototype.isOpen=function(){return this.opened},n.prototype.getTimeoutMs=function(){return this.autoDismissTimeoutMs},n.prototype.setTimeoutMs=function(t){var e=Zn.MIN_AUTO_DISMISS_TIMEOUT_MS,i=Zn.MAX_AUTO_DISMISS_TIMEOUT_MS;if(!(t===Zn.INDETERMINATE||t<=i&&t>=e))throw new Error("\n        timeoutMs must be an integer in the range "+e+"–"+i+"\n        (or "+Zn.INDETERMINATE+" to disable), but got '"+t+"'");this.autoDismissTimeoutMs=t},n.prototype.getCloseOnEscape=function(){return this.closeOnEscape},n.prototype.setCloseOnEscape=function(t){this.closeOnEscape=t},n.prototype.handleKeyDown=function(t){("Escape"===t.key||27===t.keyCode)&&this.getCloseOnEscape()&&this.close(Yn)},n.prototype.handleActionButtonClick=function(t){this.close(Vn)},n.prototype.handleActionIconClick=function(t){this.close(Yn)},n.prototype.clearAutoDismissTimer=function(){clearTimeout(this.autoDismissTimer),this.autoDismissTimer=0},n.prototype.handleAnimationTimerEnd=function(){this.animationTimer=0,this.adapter.removeClass(Bn.OPENING),this.adapter.removeClass(Bn.CLOSING)},n.prototype.runNextAnimationFrame=function(t){var e=this;cancelAnimationFrame(this.animationFrame),this.animationFrame=requestAnimationFrame((function(){e.animationFrame=0,clearTimeout(e.animationTimer),e.animationTimer=setTimeout(t,0)}))},n}(Gn),Xn=Hn;
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const{I:Jn}=lt,Qn=(t,e)=>void 0===e?void 0!==(null==t?void 0:t._$litType$):(null==t?void 0:t._$litType$)===e,Kn=t=>void 0===t.strings,qn=()=>document.createComment(""),tr=(t,e,i)=>{var n;const r=t._$AA.parentNode,o=void 0===e?t._$AB:e._$AA;if(void 0===i){const e=r.insertBefore(qn(),o),n=r.insertBefore(qn(),o);i=new Jn(e,n,t,t.options)}else{const e=i._$AB.nextSibling,a=i._$AM,s=a!==t;if(s){let e;null===(n=i._$AQ)||void 0===n||n.call(i,t),i._$AM=t,void 0!==i._$AP&&(e=t._$AU)!==a._$AU&&i._$AP(e)}if(e!==o||s){let t=i._$AA;for(;t!==e;){const e=t.nextSibling;r.insertBefore(t,o),t=e}}}return i},er={},ir=(t,e=er)=>t._$AH=e,nr=t=>t._$AH,rr=(t,e)=>{var i,n;const r=t._$AN;if(void 0===r)return!1;for(const t of r)null===(n=(i=t)._$AO)||void 0===n||n.call(i,e,!1),rr(t,e);return!0},or=t=>{let e,i;do{if(void 0===(e=t._$AM))break;i=e._$AN,i.delete(t),t=e}while(0===(null==i?void 0:i.size))},ar=t=>{for(let e;e=t._$AM;t=e){let i=e._$AN;if(void 0===i)e._$AN=i=new Set;else if(i.has(t))break;i.add(t),cr(e)}};
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function sr(t){void 0!==this._$AN?(or(this),this._$AM=t,ar(this)):this._$AM=t}function lr(t,e=!1,i=0){const n=this._$AH,r=this._$AN;if(void 0!==r&&0!==r.size)if(e)if(Array.isArray(n))for(let t=i;t<n.length;t++)rr(n[t],!1),or(n[t]);else null!=n&&(rr(n,!1),or(n));else rr(this,t)}const cr=t=>{var e,i,n,r;t.type==ji&&(null!==(e=(n=t)._$AP)&&void 0!==e||(n._$AP=lr),null!==(i=(r=t)._$AQ)&&void 0!==i||(r._$AQ=sr))};class dr extends Ui{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,e,i){super._$AT(t,e,i),ar(this),this.isConnected=t._$AU}_$AO(t,e=!0){var i,n;t!==this.isConnected&&(this.isConnected=t,t?null===(i=this.reconnected)||void 0===i||i.call(this):null===(n=this.disconnected)||void 0===n||n.call(this)),e&&(rr(this,t),or(this))}setValue(t){if(Kn(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const{ARIA_LIVE_DELAY_MS:ur}=Xn.numbers;const hr=Bi(class extends dr{constructor(t){if(super(t),this.labelEl=null,this.timerId=null,this.previousPart=null,t.type!==ji)throw new Error("AccessibleSnackbarLabel only supports child parts.")}update(t,[e,i]){var n;if(!i)return;if(null===this.labelEl){const i=document.createElement("div"),r=W`<div class="mdc-snackbar__label" role="status" aria-live="polite"></div>`;dt(r,i);const o=i.firstElementChild;return o.textContent=e,null===(n=t.endNode)||void 0===n||n.parentNode.insertBefore(o,t.endNode),this.labelEl=o,o}const r=this.labelEl;r.setAttribute("aria-live","off"),r.textContent="";const o=document.createElement("span");return o.style.display="inline-block",o.style.width="0",o.style.height="1px",o.textContent=" ",r.appendChild(o),r.setAttribute("data-mdc-snackbar-label-text",e),null!==this.timerId&&clearTimeout(this.timerId),this.timerId=window.setTimeout((()=>{this.timerId=null,r.setAttribute("aria-live","polite"),r.removeAttribute("data-mdc-snackbar-label-text"),r.textContent=e,this.setValue(this.labelEl)}),ur),r}render(t,e){return e?W` <div class="mdc-snackbar__label" role="status" aria-live="polite">${t}</div>`:W``}}),{OPENING_EVENT:pr,OPENED_EVENT:gr,CLOSING_EVENT:fr,CLOSED_EVENT:mr}=Xn.strings;
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vr extends jn{constructor(){super(...arguments),this.mdcFoundationClass=Xn,this.open=!1,this.timeoutMs=5e3,this.closeOnEscape=!1,this.labelText="",this.stacked=!1,this.leading=!1,this.reason=""}render(){const t={"mdc-snackbar--stacked":this.stacked,"mdc-snackbar--leading":this.leading};return W` <div class="mdc-snackbar ${Zi(t)}" @keydown="${this._handleKeydown}"> <div class="mdc-snackbar__surface"> ${hr(this.labelText,this.open)} <div class="mdc-snackbar__actions"> <slot name="action" @click="${this._handleActionClick}"></slot> <slot name="dismiss" @click="${this._handleDismissClick}"></slot> </div> </div> </div>`}createAdapter(){return Object.assign(Object.assign({},(t=this.mdcRoot,{addClass:e=>{t.classList.add(e)},removeClass:e=>{t.classList.remove(e)},hasClass:e=>t.classList.contains(e)})),{announce:()=>{},notifyClosed:t=>{this.dispatchEvent(new CustomEvent(mr,{bubbles:!0,cancelable:!0,detail:{reason:t}}))},notifyClosing:t=>{this.open=!1,this.dispatchEvent(new CustomEvent(fr,{bubbles:!0,cancelable:!0,detail:{reason:t}}))},notifyOpened:()=>{this.dispatchEvent(new CustomEvent(gr,{bubbles:!0,cancelable:!0}))},notifyOpening:()=>{this.open=!0,this.dispatchEvent(new CustomEvent(pr,{bubbles:!0,cancelable:!0}))}});
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
var t}show(){this.open=!0}close(t=""){this.reason=t,this.open=!1}firstUpdated(){super.firstUpdated(),this.open&&this.mdcFoundation.open()}_handleKeydown(t){this.mdcFoundation.handleKeyDown(t)}_handleActionClick(t){this.mdcFoundation.handleActionButtonClick(t)}_handleDismissClick(t){this.mdcFoundation.handleActionIconClick(t)}}i([wt(".mdc-snackbar")],vr.prototype,"mdcRoot",void 0),i([wt(".mdc-snackbar__label")],vr.prototype,"labelElement",void 0),i([vt({type:Boolean,reflect:!0}),Rn((function(t){this.mdcFoundation&&(t?this.mdcFoundation.open():(this.mdcFoundation.close(this.reason),this.reason=""))}))],vr.prototype,"open",void 0),i([Rn((function(t){this.mdcFoundation.setTimeoutMs(t)})),vt({type:Number})],vr.prototype,"timeoutMs",void 0),i([Rn((function(t){this.mdcFoundation.setCloseOnEscape(t)})),vt({type:Boolean})],vr.prototype,"closeOnEscape",void 0),i([vt({type:String})],vr.prototype,"labelText",void 0),i([vt({type:Boolean})],vr.prototype,"stacked",void 0),i([vt({type:Boolean})],vr.prototype,"leading",void 0);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-LIcense-Identifier: Apache-2.0
 */
const br=h`.mdc-snackbar{z-index:8;margin:8px;display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:transparent}.mdc-snackbar__surface{background-color:#333}.mdc-snackbar__label{color:rgba(255,255,255,.87)}.mdc-snackbar__surface{min-width:344px}@media(max-width:480px),(max-width:344px){.mdc-snackbar__surface{min-width:100%}}.mdc-snackbar__surface{max-width:672px}.mdc-snackbar__surface{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mdc-snackbar__surface{border-radius:4px;border-radius:var(--mdc-shape-small,4px)}.mdc-snackbar--closing,.mdc-snackbar--open,.mdc-snackbar--opening{display:flex}.mdc-snackbar--open .mdc-snackbar__actions,.mdc-snackbar--open .mdc-snackbar__label{visibility:visible}.mdc-snackbar--leading{justify-content:flex-start}.mdc-snackbar--stacked .mdc-snackbar__label{padding-left:16px;padding-right:8px;padding-bottom:12px}.mdc-snackbar--stacked .mdc-snackbar__label[dir=rtl],[dir=rtl] .mdc-snackbar--stacked .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mdc-snackbar--stacked .mdc-snackbar__surface{flex-direction:column;align-items:flex-start}.mdc-snackbar--stacked .mdc-snackbar__actions{align-self:flex-end;margin-bottom:8px}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid transparent;border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors:active){.mdc-snackbar__surface::before{border-color:CanvasText}}.mdc-snackbar__surface[dir=rtl],[dir=rtl] .mdc-snackbar__surface{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto;transition:opacity 150ms 0s cubic-bezier(0,0,.2,1),transform 150ms 0s cubic-bezier(0,0,.2,1)}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1);transition:opacity 75ms 0s cubic-bezier(.4,0,1,1)}.mdc-snackbar__label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-body2-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:.875rem;font-size:var(--mdc-typography-body2-font-size,.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height,1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight,400);letter-spacing:.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing,.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform,inherit);padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}.mdc-snackbar__label[dir=rtl],[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action:not(:disabled){color:#bb86fc}.mdc-snackbar__action .mdc-button__ripple::after,.mdc-snackbar__action .mdc-button__ripple::before{background-color:#bb86fc;background-color:var(--mdc-ripple-color,#bb86fc)}.mdc-snackbar__action.mdc-ripple-surface--hover .mdc-button__ripple::before,.mdc-snackbar__action:hover .mdc-button__ripple::before{opacity:.08;opacity:var(--mdc-ripple-hover-opacity,.08)}.mdc-snackbar__action.mdc-ripple-upgraded--background-focused .mdc-button__ripple::before,.mdc-snackbar__action:not(.mdc-ripple-upgraded):focus .mdc-button__ripple::before{transition-duration:75ms;opacity:.24;opacity:var(--mdc-ripple-focus-opacity,.24)}.mdc-snackbar__action:not(.mdc-ripple-upgraded) .mdc-button__ripple::after{transition:opacity 150ms linear}.mdc-snackbar__action:not(.mdc-ripple-upgraded):active .mdc-button__ripple::after{transition-duration:75ms;opacity:.24;opacity:var(--mdc-ripple-press-opacity,.24)}.mdc-snackbar__action.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-snackbar__dismiss{color:rgba(255,255,255,.87)}.mdc-snackbar__dismiss .mdc-icon-button__ripple::after,.mdc-snackbar__dismiss .mdc-icon-button__ripple::before{background-color:rgba(255,255,255,.87);background-color:var(--mdc-ripple-color,rgba(255,255,255,.87))}.mdc-snackbar__dismiss.mdc-ripple-surface--hover .mdc-icon-button__ripple::before,.mdc-snackbar__dismiss:hover .mdc-icon-button__ripple::before{opacity:.08;opacity:var(--mdc-ripple-hover-opacity,.08)}.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused .mdc-icon-button__ripple::before,.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus .mdc-icon-button__ripple::before{transition-duration:75ms;opacity:.24;opacity:var(--mdc-ripple-focus-opacity,.24)}.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded) .mdc-icon-button__ripple::after{transition:opacity 150ms linear}.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):active .mdc-icon-button__ripple::after{transition-duration:75ms;opacity:.24;opacity:var(--mdc-ripple-press-opacity,.24)}.mdc-snackbar__dismiss.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-snackbar__dismiss.mdc-snackbar__dismiss{width:36px;height:36px;padding:6px;font-size:18px}.mdc-snackbar__dismiss.mdc-snackbar__dismiss .mdc-icon-button__focus-ring{display:none}.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-snackbar__dismiss.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block;max-height:36px;max-width:36px}@media screen and (forced-colors:active){.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-snackbar__dismiss.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{pointer-events:none;border:2px solid transparent;border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);height:100%;width:100%}}@media screen and (forced-colors:active)and (forced-colors:active){.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-snackbar__dismiss.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{border-color:CanvasText}}@media screen and (forced-colors:active){.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring::after,.mdc-snackbar__dismiss.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring::after{content:"";border:2px solid transparent;border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);height:calc(100% + 4px);width:calc(100% + 4px)}}@media screen and (forced-colors:active)and (forced-colors:active){.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring::after,.mdc-snackbar__dismiss.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:36px;height:36px;margin-top:0;margin-bottom:0;margin-right:0;margin-left:0}.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-icon-button--reduced-size.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-icon-button--reduced-size:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{max-height:36px;max-width:36px}.mdc-snackbar__dismiss.mdc-snackbar__dismiss .mdc-icon-button__touch{position:absolute;top:50%;height:36px;left:50%;width:36px;transform:translate(-50%,-50%)}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl],[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:0;margin-right:8px}slot[name=action]::slotted(mwc-button){--mdc-theme-primary:var( --mdc-snackbar-action-color, #bb86fc )}slot[name=dismiss]::slotted(mwc-icon-button){--mdc-icon-size:18px;--mdc-icon-button-size:36px;color:rgba(255,255,255,.87);margin-left:8px;margin-right:0}::slotted(mwc-icon-buttonslot[name=dismiss][dir=rtl]),[dir=rtl] slot[name=dismiss]::slotted(mwc-icon-button){margin-left:0;margin-right:8px}`
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let yr=class extends vr{};yr.styles=[br],yr=i([ft("mwc-snackbar")],yr);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const xr=new WeakMap,wr=t=>{if((t=>void 0!==t.pattern)(t))return t.pattern;let e=xr.get(t);return void 0===e&&xr.set(t,e=new URLPattern({pathname:t.path})),e};class Ir{constructor(t,e,i){this.routes=[],this.o=[],this.t={},this.i=t=>{if(t.routes===this)return;const e=t.routes;this.o.push(e),e.l=this,t.stopImmediatePropagation(),t.onDisconnect=()=>{var t;null===(t=this.o)||void 0===t||t.splice(this.o.indexOf(e)>>>0,1)};const i=Cr(this.t);void 0!==i&&e.goto(i)},(this.h=t).addController(this),this.routes=[...e],this.fallback=null==i?void 0:i.fallback}link(t){var e,i;if(null==t?void 0:t.startsWith("/"))return t;if(null==t?void 0:t.startsWith("."))throw Error("Not implemented");return null!=t||(t=this.u),(null!==(i=null===(e=this.l)||void 0===e?void 0:e.link())&&void 0!==i?i:"")+t}async goto(t){var e;let i;if(0===this.routes.length&&void 0===this.fallback)i=t,this.u="",this.t={0:i};else{const n=this.v(t);if(void 0===n)throw Error("No route found for "+t);const r=wr(n).exec({pathname:t}),o=null!==(e=null==r?void 0:r.pathname.groups)&&void 0!==e?e:{};if(i=Cr(o),"function"==typeof n.enter&&!1===await n.enter(o))return;this.p=n,this.t=o,this.u=void 0===i?t:t.substring(0,t.length-i.length)}if(void 0!==i)for(const t of this.o)t.goto(i);this.h.requestUpdate()}outlet(){var t,e;return null===(e=null===(t=this.p)||void 0===t?void 0:t.render)||void 0===e?void 0:e.call(t,this.t)}get params(){return this.t}v(t){const e=this.routes.find((e=>wr(e).test({pathname:t})));return e||void 0===this.fallback?e:this.fallback?{...this.fallback,path:"/*"}:void 0}hostConnected(){this.h.addEventListener(Ar.eventName,this.i);const t=new Ar(this);this.h.dispatchEvent(t),this._=t.onDisconnect}hostDisconnected(){var t;null===(t=this._)||void 0===t||t.call(this),this.l=void 0}}const Cr=t=>{let e;for(const i of Object.keys(t))/\d+/.test(i)&&(void 0===e||i>e)&&(e=i);return e&&t[e]};class Ar extends Event{constructor(t){super(Ar.eventName,{bubbles:!0,composed:!0,cancelable:!1}),this.routes=t}}Ar.eventName="lit-routes-connected";
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Sr=location.origin||location.protocol+"//"+location.host;class kr extends Ir{constructor(){super(...arguments),this.m=t=>{const e=0!==t.button||t.metaKey||t.ctrlKey||t.shiftKey;if(t.defaultPrevented||e)return;const i=t.composedPath().find((t=>"A"===t.tagName));if(void 0===i||""!==i.target||i.hasAttribute("download")||"external"===i.getAttribute("rel"))return;const n=i.href;if(""===n||n.startsWith("mailto:"))return;const r=window.location;i.origin===Sr&&(t.preventDefault(),n!==r.href&&(window.history.pushState({},"",n),this.goto(i.pathname)))},this.R=t=>{this.goto(window.location.pathname)}}hostConnected(){super.hostConnected(),window.addEventListener("click",this.m),window.addEventListener("popstate",this.R),this.goto(window.location.pathname)}hostDisconnected(){super.hostDisconnected(),window.removeEventListener("click",this.m),window.removeEventListener("popstate",this.R)}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(t){return t<0?-1:0===t?0:1}function Tr(t,e,i){return(1-i)*t+i*e}function Pr(t,e,i){return i<t?t:i>e?e:i}function Mr(t){return(t%=360)<0&&(t+=360),t}function Nr(t){return(t%=360)<0&&(t+=360),t}function Lr(t,e){return[t[0]*e[0][0]+t[1]*e[0][1]+t[2]*e[0][2],t[0]*e[1][0]+t[1]*e[1][1]+t[2]*e[1][2],t[0]*e[2][0]+t[1]*e[2][1]+t[2]*e[2][2]]}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=[[.41233895,.35762064,.18051042],[.2126,.7152,.0722],[.01932141,.11916382,.95034478]],Er=[[3.2413774792388685,-1.5376652402851851,-.49885366846268053],[-.9691452513005321,1.8758853451067872,.04156585616912061],[.05562093689691305,-.20395524564742123,1.0571799111220335]],Dr=[95.047,100,108.883];function zr(t,e,i){return(255<<24|(255&t)<<16|(255&e)<<8|255&i)>>>0}function jr(t){return zr(Wr(t[0]),Wr(t[1]),Wr(t[2]))}function Rr(t){return t>>16&255}function Gr(t){return t>>8&255}function Br(t){return 255&t}function Ur(t){const e=function(t){return Lr([Fr(Rr(t)),Fr(Gr(t)),Fr(Br(t))],Or)}(t)[1];return 116*Vr(e/100)-16}function Zr(t){return 100*function(t){const e=216/24389,i=24389/27,n=t*t*t;return n>e?n:(116*t-16)/i}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */((t+16)/116)}function $r(t){return 116*Vr(t/100)-16}function Fr(t){const e=t/255;return e<=.040449936?e/12.92*100:100*Math.pow((e+.055)/1.055,2.4)}function Wr(t){const e=t/100;let i=0;return i=e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,function(t,e,i){return i<t?t:i>e?e:i}(0,255,Math.round(255*i))}function Vr(t){return t>216/24389?Math.pow(t,1/3):(903.2962962962963*t+16)/116}class Yr{static make(t=function(){return Dr}(),e=200/Math.PI*Zr(50)/100,i=50,n=2,r=!1){const o=t,a=.401288*o[0]+.650173*o[1]+-.051461*o[2],s=-.250268*o[0]+1.204414*o[1]+.045854*o[2],l=-.002079*o[0]+.048952*o[1]+.953127*o[2],c=.8+n/10,d=c>=.9?Tr(.59,.69,10*(c-.9)):Tr(.525,.59,10*(c-.8));let u=r?1:c*(1-1/3.6*Math.exp((-e-42)/92));u=u>1?1:u<0?0:u;const h=c,p=[u*(100/a)+1-u,u*(100/s)+1-u,u*(100/l)+1-u],g=1/(5*e+1),f=g*g*g*g,m=1-f,v=f*e+.1*m*m*Math.cbrt(5*e),b=Zr(i)/t[1],y=1.48+Math.sqrt(b),x=.725/Math.pow(b,.2),w=x,I=[Math.pow(v*p[0]*a/100,.42),Math.pow(v*p[1]*s/100,.42),Math.pow(v*p[2]*l/100,.42)],C=[400*I[0]/(I[0]+27.13),400*I[1]/(I[1]+27.13),400*I[2]/(I[2]+27.13)];return new Yr(b,(2*C[0]+C[1]+.05*C[2])*x,x,w,d,h,p,v,Math.pow(v,.25),y)}constructor(t,e,i,n,r,o,a,s,l,c){this.n=t,this.aw=e,this.nbb=i,this.ncb=n,this.c=r,this.nc=o,this.rgbD=a,this.fl=s,this.fLRoot=l,this.z=c}}Yr.DEFAULT=Yr.make();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Hr{constructor(t,e,i,n,r,o,a,s,l){this.hue=t,this.chroma=e,this.j=i,this.q=n,this.m=r,this.s=o,this.jstar=a,this.astar=s,this.bstar=l}distance(t){const e=this.jstar-t.jstar,i=this.astar-t.astar,n=this.bstar-t.bstar,r=Math.sqrt(e*e+i*i+n*n);return 1.41*Math.pow(r,.63)}static fromInt(t){return Hr.fromIntInViewingConditions(t,Yr.DEFAULT)}static fromIntInViewingConditions(t,e){const i=(65280&t)>>8,n=255&t,r=Fr((16711680&t)>>16),o=Fr(i),a=Fr(n),s=.41233895*r+.35762064*o+.18051042*a,l=.2126*r+.7152*o+.0722*a,c=.01932141*r+.11916382*o+.95034478*a,d=.401288*s+.650173*l-.051461*c,u=-.250268*s+1.204414*l+.045854*c,h=-.002079*s+.048952*l+.953127*c,p=e.rgbD[0]*d,g=e.rgbD[1]*u,f=e.rgbD[2]*h,m=Math.pow(e.fl*Math.abs(p)/100,.42),v=Math.pow(e.fl*Math.abs(g)/100,.42),b=Math.pow(e.fl*Math.abs(f)/100,.42),y=400*_r(p)*m/(m+27.13),x=400*_r(g)*v/(v+27.13),w=400*_r(f)*b/(b+27.13),I=(11*y+-12*x+w)/11,C=(y+x-2*w)/9,A=(20*y+20*x+21*w)/20,S=(40*y+20*x+w)/20,k=180*Math.atan2(C,I)/Math.PI,_=k<0?k+360:k>=360?k-360:k,T=_*Math.PI/180,P=S*e.nbb,M=100*Math.pow(P/e.aw,e.c*e.z),N=4/e.c*Math.sqrt(M/100)*(e.aw+4)*e.fLRoot,L=_<20.14?_+360:_,O=5e4/13*(.25*(Math.cos(L*Math.PI/180+2)+3.8))*e.nc*e.ncb*Math.sqrt(I*I+C*C)/(A+.305),E=Math.pow(O,.9)*Math.pow(1.64-Math.pow(.29,e.n),.73),D=E*Math.sqrt(M/100),z=D*e.fLRoot,j=50*Math.sqrt(E*e.c/(e.aw+4)),R=(1+100*.007)*M/(1+.007*M),G=1/.0228*Math.log(1+.0228*z),B=G*Math.cos(T),U=G*Math.sin(T);return new Hr(_,D,M,N,z,j,R,B,U)}static fromJch(t,e,i){return Hr.fromJchInViewingConditions(t,e,i,Yr.DEFAULT)}static fromJchInViewingConditions(t,e,i,n){const r=4/n.c*Math.sqrt(t/100)*(n.aw+4)*n.fLRoot,o=e*n.fLRoot,a=e/Math.sqrt(t/100),s=50*Math.sqrt(a*n.c/(n.aw+4)),l=i*Math.PI/180,c=(1+100*.007)*t/(1+.007*t),d=1/.0228*Math.log(1+.0228*o),u=d*Math.cos(l),h=d*Math.sin(l);return new Hr(i,e,t,r,o,s,c,u,h)}static fromUcs(t,e,i){return Hr.fromUcsInViewingConditions(t,e,i,Yr.DEFAULT)}static fromUcsInViewingConditions(t,e,i,n){const r=e,o=i,a=Math.sqrt(r*r+o*o),s=(Math.exp(.0228*a)-1)/.0228/n.fLRoot;let l=Math.atan2(o,r)*(180/Math.PI);l<0&&(l+=360);const c=t/(1-.007*(t-100));return Hr.fromJchInViewingConditions(c,s,l,n)}toInt(){return this.viewed(Yr.DEFAULT)}viewed(t){const e=0===this.chroma||0===this.j?0:this.chroma/Math.sqrt(this.j/100),i=Math.pow(e/Math.pow(1.64-Math.pow(.29,t.n),.73),1/.9),n=this.hue*Math.PI/180,r=.25*(Math.cos(n+2)+3.8),o=t.aw*Math.pow(this.j/100,1/t.c/t.z),a=r*(5e4/13)*t.nc*t.ncb,s=o/t.nbb,l=Math.sin(n),c=Math.cos(n),d=23*(s+.305)*i/(23*a+11*i*c+108*i*l),u=d*c,h=d*l,p=(460*s+451*u+288*h)/1403,g=(460*s-891*u-261*h)/1403,f=(460*s-220*u-6300*h)/1403,m=Math.max(0,27.13*Math.abs(p)/(400-Math.abs(p))),v=_r(p)*(100/t.fl)*Math.pow(m,1/.42),b=Math.max(0,27.13*Math.abs(g)/(400-Math.abs(g))),y=_r(g)*(100/t.fl)*Math.pow(b,1/.42),x=Math.max(0,27.13*Math.abs(f)/(400-Math.abs(f))),w=_r(f)*(100/t.fl)*Math.pow(x,1/.42),I=v/t.rgbD[0],C=y/t.rgbD[1],A=w/t.rgbD[2],S=function(t,e,i){const n=Er,r=n[0][0]*t+n[0][1]*e+n[0][2]*i,o=n[1][0]*t+n[1][1]*e+n[1][2]*i,a=n[2][0]*t+n[2][1]*e+n[2][2]*i;return zr(Wr(r),Wr(o),Wr(a))}(1.86206786*I-1.01125463*C+.14918677*A,.38752654*I+.62144744*C-.00897398*A,-.0158415*I-.03412294*C+1.04996444*A);return S}static fromXyzInViewingConditions(t,e,i,n){const r=.401288*t+.650173*e-.051461*i,o=-.250268*t+1.204414*e+.045854*i,a=-.002079*t+.048952*e+.953127*i,s=n.rgbD[0]*r,l=n.rgbD[1]*o,c=n.rgbD[2]*a,d=Math.pow(n.fl*Math.abs(s)/100,.42),u=Math.pow(n.fl*Math.abs(l)/100,.42),h=Math.pow(n.fl*Math.abs(c)/100,.42),p=400*_r(s)*d/(d+27.13),g=400*_r(l)*u/(u+27.13),f=400*_r(c)*h/(h+27.13),m=(11*p+-12*g+f)/11,v=(p+g-2*f)/9,b=(20*p+20*g+21*f)/20,y=(40*p+20*g+f)/20,x=180*Math.atan2(v,m)/Math.PI,w=x<0?x+360:x>=360?x-360:x,I=w*Math.PI/180,C=y*n.nbb,A=100*Math.pow(C/n.aw,n.c*n.z),S=4/n.c*Math.sqrt(A/100)*(n.aw+4)*n.fLRoot,k=w<20.14?w+360:w,_=5e4/13*(1/4*(Math.cos(k*Math.PI/180+2)+3.8))*n.nc*n.ncb*Math.sqrt(m*m+v*v)/(b+.305),T=Math.pow(_,.9)*Math.pow(1.64-Math.pow(.29,n.n),.73),P=T*Math.sqrt(A/100),M=P*n.fLRoot,N=50*Math.sqrt(T*n.c/(n.aw+4)),L=(1+100*.007)*A/(1+.007*A),O=Math.log(1+.0228*M)/.0228,E=O*Math.cos(I),D=O*Math.sin(I);return new Hr(w,P,A,S,M,N,L,E,D)}xyzInViewingConditions(t){const e=0===this.chroma||0===this.j?0:this.chroma/Math.sqrt(this.j/100),i=Math.pow(e/Math.pow(1.64-Math.pow(.29,t.n),.73),1/.9),n=this.hue*Math.PI/180,r=.25*(Math.cos(n+2)+3.8),o=t.aw*Math.pow(this.j/100,1/t.c/t.z),a=r*(5e4/13)*t.nc*t.ncb,s=o/t.nbb,l=Math.sin(n),c=Math.cos(n),d=23*(s+.305)*i/(23*a+11*i*c+108*i*l),u=d*c,h=d*l,p=(460*s+451*u+288*h)/1403,g=(460*s-891*u-261*h)/1403,f=(460*s-220*u-6300*h)/1403,m=Math.max(0,27.13*Math.abs(p)/(400-Math.abs(p))),v=_r(p)*(100/t.fl)*Math.pow(m,1/.42),b=Math.max(0,27.13*Math.abs(g)/(400-Math.abs(g))),y=_r(g)*(100/t.fl)*Math.pow(b,1/.42),x=Math.max(0,27.13*Math.abs(f)/(400-Math.abs(f))),w=_r(f)*(100/t.fl)*Math.pow(x,1/.42),I=v/t.rgbD[0],C=y/t.rgbD[1],A=w/t.rgbD[2];return[1.86206786*I-1.01125463*C+.14918677*A,.38752654*I+.62144744*C-.00897398*A,-.0158415*I-.03412294*C+1.04996444*A]}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{static sanitizeRadians(t){return(t+8*Math.PI)%(2*Math.PI)}static trueDelinearized(t){const e=t/100;let i=0;return i=e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,255*i}static chromaticAdaptation(t){const e=Math.pow(Math.abs(t),.42);return 400*_r(t)*e/(e+27.13)}static hueOf(t){const e=Lr(t,Xr.SCALED_DISCOUNT_FROM_LINRGB),i=Xr.chromaticAdaptation(e[0]),n=Xr.chromaticAdaptation(e[1]),r=Xr.chromaticAdaptation(e[2]),o=(11*i+-12*n+r)/11,a=(i+n-2*r)/9;return Math.atan2(a,o)}static areInCyclicOrder(t,e,i){return Xr.sanitizeRadians(e-t)<Xr.sanitizeRadians(i-t)}static intercept(t,e,i){return(e-t)/(i-t)}static lerpPoint(t,e,i){return[t[0]+(i[0]-t[0])*e,t[1]+(i[1]-t[1])*e,t[2]+(i[2]-t[2])*e]}static setCoordinate(t,e,i,n){const r=Xr.intercept(t[n],e,i[n]);return Xr.lerpPoint(t,r,i)}static isBounded(t){return 0<=t&&t<=100}static nthVertex(t,e){const i=Xr.Y_FROM_LINRGB[0],n=Xr.Y_FROM_LINRGB[1],r=Xr.Y_FROM_LINRGB[2],o=e%4<=1?0:100,a=e%2==0?0:100;if(e<4){const e=o,s=a,l=(t-e*n-s*r)/i;return Xr.isBounded(l)?[l,e,s]:[-1,-1,-1]}if(e<8){const e=o,s=a,l=(t-s*i-e*r)/n;return Xr.isBounded(l)?[s,l,e]:[-1,-1,-1]}{const e=o,s=a,l=(t-e*i-s*n)/r;return Xr.isBounded(l)?[e,s,l]:[-1,-1,-1]}}static bisectToSegment(t,e){let i=[-1,-1,-1],n=i,r=0,o=0,a=!1,s=!0;for(let l=0;l<12;l++){const c=Xr.nthVertex(t,l);if(c[0]<0)continue;const d=Xr.hueOf(c);a?(s||Xr.areInCyclicOrder(r,d,o))&&(s=!1,Xr.areInCyclicOrder(r,e,d)?(n=c,o=d):(i=c,r=d)):(i=c,n=c,r=d,o=d,a=!0)}return[i,n]}static midpoint(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2,(t[2]+e[2])/2]}static criticalPlaneBelow(t){return Math.floor(t-.5)}static criticalPlaneAbove(t){return Math.ceil(t-.5)}static bisectToLimit(t,e){const i=Xr.bisectToSegment(t,e);let n=i[0],r=Xr.hueOf(n),o=i[1];for(let t=0;t<3;t++)if(n[t]!==o[t]){let i=-1,a=255;n[t]<o[t]?(i=Xr.criticalPlaneBelow(Xr.trueDelinearized(n[t])),a=Xr.criticalPlaneAbove(Xr.trueDelinearized(o[t]))):(i=Xr.criticalPlaneAbove(Xr.trueDelinearized(n[t])),a=Xr.criticalPlaneBelow(Xr.trueDelinearized(o[t])));for(let s=0;s<8&&!(Math.abs(a-i)<=1);s++){const s=Math.floor((i+a)/2),l=Xr.CRITICAL_PLANES[s],c=Xr.setCoordinate(n,l,o,t),d=Xr.hueOf(c);Xr.areInCyclicOrder(r,e,d)?(o=c,a=s):(n=c,r=d,i=s)}}return Xr.midpoint(n,o)}static inverseChromaticAdaptation(t){const e=Math.abs(t),i=Math.max(0,27.13*e/(400-e));return _r(t)*Math.pow(i,1/.42)}static findResultByJ(t,e,i){let n=11*Math.sqrt(i);const r=Yr.DEFAULT,o=1/Math.pow(1.64-Math.pow(.29,r.n),.73),a=.25*(Math.cos(t+2)+3.8)*(5e4/13)*r.nc*r.ncb,s=Math.sin(t),l=Math.cos(t);for(let t=0;t<5;t++){const c=n/100,d=0===e||0===n?0:e/Math.sqrt(c),u=Math.pow(d*o,1/.9),h=r.aw*Math.pow(c,1/r.c/r.z)/r.nbb,p=23*(h+.305)*u/(23*a+11*u*l+108*u*s),g=p*l,f=p*s,m=(460*h+451*g+288*f)/1403,v=(460*h-891*g-261*f)/1403,b=(460*h-220*g-6300*f)/1403,y=Lr([Xr.inverseChromaticAdaptation(m),Xr.inverseChromaticAdaptation(v),Xr.inverseChromaticAdaptation(b)],Xr.LINRGB_FROM_SCALED_DISCOUNT);if(y[0]<0||y[1]<0||y[2]<0)return 0;const x=Xr.Y_FROM_LINRGB[0],w=Xr.Y_FROM_LINRGB[1],I=Xr.Y_FROM_LINRGB[2],C=x*y[0]+w*y[1]+I*y[2];if(C<=0)return 0;if(4===t||Math.abs(C-i)<.002)return y[0]>100.01||y[1]>100.01||y[2]>100.01?0:jr(y);n-=(C-i)*n/(2*C)}return 0}static solveToInt(t,e,i){if(e<1e-4||i<1e-4||i>99.9999)return function(t){const e=Wr(Zr(t));return zr(e,e,e)}(i);const n=(t=Nr(t))/180*Math.PI,r=Zr(i),o=Xr.findResultByJ(n,e,r);if(0!==o)return o;return jr(Xr.bisectToLimit(r,n))}static solveToCam(t,e,i){return Hr.fromInt(Xr.solveToInt(t,e,i))}}Xr.SCALED_DISCOUNT_FROM_LINRGB=[[.001200833568784504,.002389694492170889,.0002795742885861124],[.0005891086651375999,.0029785502573438758,.0003270666104008398],[.00010146692491640572,.0005364214359186694,.0032979401770712076]],Xr.LINRGB_FROM_SCALED_DISCOUNT=[[1373.2198709594231,-1100.4251190754821,-7.278681089101213],[-271.815969077903,559.6580465940733,-32.46047482791194],[1.9622899599665666,-57.173814538844006,308.7233197812385]],Xr.Y_FROM_LINRGB=[.2126,.7152,.0722],Xr.CRITICAL_PLANES=[.015176349177441876,.045529047532325624,.07588174588720938,.10623444424209313,.13658714259697685,.16693984095186062,.19729253930674434,.2276452376616281,.2579979360165119,.28835063437139563,.3188300904430532,.350925934958123,.3848314933096426,.42057480301049466,.458183274052838,.4976837250274023,.5391024159806381,.5824650784040898,.6277969426914107,.6751227633498623,.7244668422128921,.775853049866786,.829304845476233,.8848452951698498,.942497089126609,1.0022825574869039,1.0642236851973577,1.1283421258858297,1.1946592148522128,1.2631959812511864,1.3339731595349034,1.407011200216447,1.4823302800086415,1.5599503113873272,1.6398909516233677,1.7221716113234105,1.8068114625156377,1.8938294463134073,1.9832442801866852,2.075074464868551,2.1693382909216234,2.2660538449872063,2.36523901573795,2.4669114995532007,2.5710888059345764,2.6777882626779785,2.7870270208169257,2.898822059350997,3.0131901897720907,3.1301480604002863,3.2497121605402226,3.3718988244681087,3.4967242352587946,3.624204428461639,3.754355295633311,3.887192587735158,4.022731918402185,4.160988767090289,4.301978482107941,4.445716283538092,4.592217266055746,4.741496401646282,4.893568542229298,5.048448422192488,5.20615066083972,5.3666897647573375,5.5300801301023865,5.696336044816294,5.865471690767354,6.037501145825082,6.212438385869475,6.390297286737924,6.571091626112461,6.7548350853498045,6.941541251256611,7.131223617812143,7.323895587840543,7.5195704746346665,7.7182615035334345,7.919981813454504,8.124744458384042,8.332562408825165,8.543448553206703,8.757415699253682,8.974476575321063,9.194643831691977,9.417930041841839,9.644347703669503,9.873909240696694,10.106627003236781,10.342513269534024,10.58158024687427,10.8238400726681,11.069304815507364,11.317986476196008,11.569896988756009,11.825048221409341,12.083451977536606,12.345119996613247,12.610063955123938,12.878295467455942,13.149826086772048,13.42466730586372,13.702830557985108,13.984327217668513,14.269168601521828,14.55736596900856,14.848930523210871,15.143873411576273,15.44220572664832,15.743938506781891,16.04908273684337,16.35764934889634,16.66964922287304,16.985093187232053,17.30399201960269,17.62635644741625,17.95219714852476,18.281524751807332,18.614349837764564,18.95068293910138,19.290534541298456,19.633915083172692,19.98083495742689,20.331304511189067,20.685334046541502,21.042933821039977,21.404114048223256,21.76888489811322,22.137256497705877,22.50923893145328,22.884842241736916,23.264076429332462,23.6469514538663,24.033477234264016,24.42366364919083,24.817520537484558,25.21505769858089,25.61628489293138,26.021211842414342,26.429848230738664,26.842203703840827,27.258287870275353,27.678110301598522,28.10168053274597,28.529008062403893,28.96010235337422,29.39497283293396,29.83362889318845,30.276079891419332,30.722335150426627,31.172403958865512,31.62629557157785,32.08401920991837,32.54558406207592,33.010999283389665,33.4802739966603,33.953417292456834,34.430438229418264,34.911345834551085,35.39614910352207,35.88485700094671,36.37747846067349,36.87402238606382,37.37449765026789,37.87891309649659,38.38727753828926,38.89959975977785,39.41588851594697,39.93615253289054,40.460400508064545,40.98864111053629,41.520882981230194,42.05713473317016,42.597404951718396,43.141702194811224,43.6900349931913,44.24241185063697,44.798841244188324,45.35933162437017,45.92389141541209,46.49252901546552,47.065252796817916,47.64207110610409,48.22299226451468,48.808024568002054,49.3971762874833,49.9904556690408,50.587870934119984,51.189430279724725,51.79514187861014,52.40501387947288,53.0190544071392,53.637271562750364,54.259673423945976,54.88626804504493,55.517063457223934,56.15206766869424,56.79128866487574,57.43473440856916,58.08241284012621,58.734331877617365,59.39049941699807,60.05092333227251,60.715611475655585,61.38457167773311,62.057811747619894,62.7353394731159,63.417162620860914,64.10328893648692,64.79372614476921,65.48848194977529,66.18756403501224,66.89098006357258,67.59873767827808,68.31084450182222,69.02730813691093,69.74813616640164,70.47333615344107,71.20291564160104,71.93688215501312,72.67524319850172,73.41800625771542,74.16517879925733,74.9167682708136,75.67278210128072,76.43322770089146,77.1981124613393,77.96744375590167,78.74122893956174,79.51947534912904,80.30219030335869,81.08938110306934,81.88105503125999,82.67721935322541,83.4778813166706,84.28304815182372,85.09272707154808,85.90692527145302,86.72564993000343,87.54890820862819,88.3767072518277,89.2090541872801,90.04595612594655,90.88742016217518,91.73345337380438,92.58406282226491,93.43925555268066,94.29903859396902,95.16341895893969,96.03240364439274,96.9059996312159,97.78421388448044,98.6670533535366,99.55452497210776];
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Jr{static from(t,e,i){return new Jr(Xr.solveToInt(t,e,i))}static fromInt(t){return new Jr(t)}toInt(){return this.argb}get hue(){return this.internalHue}set hue(t){this.setInternalState(Xr.solveToInt(t,this.internalChroma,this.internalTone))}get chroma(){return this.internalChroma}set chroma(t){this.setInternalState(Xr.solveToInt(this.internalHue,t,this.internalTone))}get tone(){return this.internalTone}set tone(t){this.setInternalState(Xr.solveToInt(this.internalHue,this.internalChroma,t))}constructor(t){this.argb=t;const e=Hr.fromInt(t);this.internalHue=e.hue,this.internalChroma=e.chroma,this.internalTone=Ur(t),this.argb=t}setInternalState(t){const e=Hr.fromInt(t);this.internalHue=e.hue,this.internalChroma=e.chroma,this.internalTone=Ur(t),this.argb=t}inViewingConditions(t){const e=Hr.fromInt(this.toInt()).xyzInViewingConditions(t),i=Hr.fromXyzInViewingConditions(e[0],e[1],e[2],Yr.make());return Jr.from(i.hue,i.chroma,$r(e[1]))}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{static harmonize(t,e){const i=Jr.fromInt(t),n=Jr.fromInt(e),r=function(t,e){return 180-Math.abs(Math.abs(t-e)-180)}(i.hue,n.hue),o=Math.min(.5*r,15),a=Nr(i.hue+o*(s=i.hue,Nr(n.hue-s)<=180?1:-1));var s;return Jr.from(a,i.chroma,i.tone).toInt()}static hctHue(t,e,i){const n=Qr.cam16Ucs(t,e,i),r=Hr.fromInt(n),o=Hr.fromInt(t);return Jr.from(r.hue,o.chroma,Ur(t)).toInt()}static cam16Ucs(t,e,i){const n=Hr.fromInt(t),r=Hr.fromInt(e),o=n.jstar,a=n.astar,s=n.bstar,l=o+(r.jstar-o)*i,c=a+(r.astar-a)*i,d=s+(r.bstar-s)*i;return Hr.fromUcs(l,c,d).toInt()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{static ratioOfTones(t,e){return t=Pr(0,100,t),e=Pr(0,100,e),Kr.ratioOfYs(Zr(t),Zr(e))}static ratioOfYs(t,e){const i=t>e?t:e;return(i+5)/((i===e?t:e)+5)}static lighter(t,e){if(t<0||t>100)return-1;const i=Zr(t),n=e*(i+5)-5,r=Kr.ratioOfYs(n,i),o=Math.abs(r-e);if(r<e&&o>.04)return-1;const a=$r(n)+.4;return a<0||a>100?-1:a}static darker(t,e){if(t<0||t>100)return-1;const i=Zr(t),n=(i+5)/e-5,r=Kr.ratioOfYs(i,n),o=Math.abs(r-e);if(r<e&&o>.04)return-1;const a=$r(n)-.4;return a<0||a>100?-1:a}static lighterUnsafe(t,e){const i=Kr.lighter(t,e);return i<0?100:i}static darkerUnsafe(t,e){const i=Kr.darker(t,e);return i<0?0:i}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{static isDisliked(t){const e=Math.round(t.hue)>=90&&Math.round(t.hue)<=111,i=Math.round(t.chroma)>16,n=Math.round(t.tone)<65;return e&&i&&n}static fixIfDisliked(t){return qr.isDisliked(t)?Jr.from(t.hue,t.chroma,70):t}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{static fromPalette(t){return new to((e=>t.palette(e).hue),(e=>t.palette(e).chroma),t.tone,(e=>to.toneMinContrastDefault({tone:t.tone,scheme:e,background:t.background,toneDeltaConstraint:t.toneDeltaConstraint})),(e=>to.toneMaxContrastDefault({tone:t.tone,scheme:e,background:t.background,toneDeltaConstraint:t.toneDeltaConstraint})),t.background,t.toneDeltaConstraint)}static fromHueAndChroma(t){return new to(t.hue,t.chroma,t.tone,(e=>to.toneMinContrastDefault({tone:t.tone,scheme:e,background:t.background,toneDeltaConstraint:t.toneDeltaConstraint})),(e=>to.toneMaxContrastDefault({tone:t.tone,scheme:e,background:t.background,toneDeltaConstraint:t.toneDeltaConstraint})),t.background,t.toneDeltaConstraint)}static fromArgb(t){return new to((e=>Jr.fromInt(t.argb(e)).hue),(e=>Jr.fromInt(t.argb(e)).chroma),(e=>t.tone?.(e)??Jr.fromInt(t.argb(e)).tone),(e=>to.toneMinContrastDefault({tone:e=>t.tone?.(e)??Jr.fromInt(t.argb(e)).tone,scheme:e,background:t.background,toneDeltaConstraint:t.toneDeltaConstraint})),(e=>to.toneMaxContrastDefault({tone:e=>t.tone?.(e)??Jr.fromInt(t.argb(e)).tone,scheme:e,background:t.background,toneDeltaConstraint:t.toneDeltaConstraint})),t.background,t.toneDeltaConstraint)}constructor(t,e,i,n,r,o,a){this.hue=t,this.chroma=e,this.tone=i,this.toneMinContrast=n,this.toneMaxContrast=r,this.background=o,this.toneDeltaConstraint=a,this.hctCache=new Map}getArgb(t){return this.getHct(t).toInt()}getHct(t){const e=this.hctCache.get(t);if(null!=e)return e;const i=Jr.from(this.hue(t),this.chroma(t),this.getTone(t));return this.hctCache.size>4&&this.hctCache.clear(),this.hctCache.set(t,i),i}getTone(t){let e=this.tone(t);const i=t.contrastLevel<0;if(0!==t.contrastLevel){const n=this.tone(t),r=((i?this.toneMinContrast(t):this.toneMaxContrast(t))-n)*Math.abs(t.contrastLevel);e=r+n}const n=this.background?.(t);let r,o,a;if(null!=n){const e=null!=n?.background?.(t);if(r=Kr.ratioOfTones(this.tone(t),n.tone(t)),i){const i=Kr.ratioOfTones(this.toneMinContrast(t),n.toneMinContrast(t));o=e?i:null,a=r}else{const i=Kr.ratioOfTones(this.toneMaxContrast(t),n.toneMaxContrast(t));o=e?Math.min(i,r):null,a=e?Math.max(i,r):null}}return e=to.calculateDynamicTone({scheme:t,toneStandard:this.tone,toneToJudge:e=>e.getTone(t),desiredTone:(t,i)=>e,background:null!=n?t=>n:void 0,toneDeltaConstraint:this.toneDeltaConstraint,minRatio:t=>o??1,maxRatio:t=>a??21}),e}static ensureToneDelta(t,e,i,n,r){const o=n?n(i):null;if(null==o||null==r)return t;const a=o.delta,s=r(o.keepAway),l=Math.abs(t-s);if(l>a)return t;switch(o.keepAwayPolarity){case"darker":return Pr(0,100,s+a);case"lighter":return Pr(0,100,s-a);case"no-preference":const n=e>o.keepAway.tone(i),r=Math.abs(l-a);return(n?t+r<=100:t<r)?t+r:t-r;default:return t}}static foregroundTone(t,e){const i=Kr.lighterUnsafe(t,e),n=Kr.darkerUnsafe(t,e),r=Kr.ratioOfTones(i,t),o=Kr.ratioOfTones(n,t);if(to.tonePrefersLightForeground(t)){const t=Math.abs(r-o)<.1&&r<e&&o<e;return r>=e||r>=o||t?i:n}return o>=e||o>=r?n:i}static calculateDynamicTone(t){const e=t.background,i=t.scheme,n=t.toneStandard,r=t.toneToJudge,o=t.desiredTone,a=t.minRatio,s=t.maxRatio,l=t.toneDeltaConstraint,c=n(i);let d=c;const u=e?.(i);if(null==u)return d;const h=u.tone(i),p=Kr.ratioOfTones(c,h),g=r(u),f=o(p,g),m=Kr.ratioOfTones(g,f),v=Pr(a?.(p)??1,s?.(p)??21,m);return d=v===m?f:to.foregroundTone(g,v),null==u.background?.(i)&&(d=to.enableLightForeground(d)),d=to.ensureToneDelta(d,c,i,l,(t=>r(t))),d}static toneMaxContrastDefault(t){return to.calculateDynamicTone({scheme:t.scheme,toneStandard:t.tone,toneToJudge:e=>e.toneMaxContrast(t.scheme),desiredTone:(e,i)=>null!=t.background?.(t.scheme)?.background?.(t.scheme)?to.foregroundTone(i,7):to.foregroundTone(i,Math.max(7,e)),background:t.background,toneDeltaConstraint:t.toneDeltaConstraint})}static toneMinContrastDefault(t){return to.calculateDynamicTone({scheme:t.scheme,toneStandard:t.tone,toneToJudge:e=>e.toneMinContrast(t.scheme),desiredTone:(e,i)=>{let n=t.tone(t.scheme);if(e>=7)n=to.foregroundTone(i,4.5);else if(e>=3)n=to.foregroundTone(i,3);else{null!=t.background?.(t.scheme)?.background?.(t.scheme)&&(n=to.foregroundTone(i,e))}return n},background:t.background,toneDeltaConstraint:t.toneDeltaConstraint,minRatio:t=>1,maxRatio:t=>t})}static tonePrefersLightForeground(t){return Math.round(t)<60}static toneAllowsLightForeground(t){return Math.round(t)<=49}static enableLightForeground(t){return to.tonePrefersLightForeground(t)&&!to.toneAllowsLightForeground(t)?49:t}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eo;!function(t){t[t.MONOCHROME=0]="MONOCHROME",t[t.NEUTRAL=1]="NEUTRAL",t[t.TONAL_SPOT=2]="TONAL_SPOT",t[t.VIBRANT=3]="VIBRANT",t[t.EXPRESSIVE=4]="EXPRESSIVE",t[t.FIDELITY=5]="FIDELITY",t[t.CONTENT=6]="CONTENT"}(eo||(eo={}));
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class io{constructor(t,e,i){this.delta=t,this.keepAway=e,this.keepAwayPolarity=i}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t){return t.variant===eo.FIDELITY||t.variant===eo.CONTENT}function ro(t){return t.variant===eo.MONOCHROME}function oo(t,e){const i=t.inViewingConditions(function(t){return Yr.make(void 0,void 0,t.isDark?30:80,void 0,void 0)}(e));return to.tonePrefersLightForeground(t.tone)&&!to.toneAllowsLightForeground(i.tone)?to.enableLightForeground(t.tone):to.enableLightForeground(i.tone)}class ao{static highestSurface(t){return t.isDark?ao.surfaceBright:ao.surfaceDim}}ao.contentAccentToneDelta=15,ao.background=to.fromPalette({palette:t=>t.neutralPalette,tone:t=>t.isDark?6:98}),ao.onBackground=to.fromPalette({palette:t=>t.neutralPalette,tone:t=>t.isDark?90:10,background:t=>ao.background}),ao.surface=to.fromPalette({palette:t=>t.neutralPalette,tone:t=>t.isDark?6:98}),ao.surfaceDim=to.fromPalette({palette:t=>t.neutralPalette,tone:t=>t.isDark?6:87}),ao.surfaceBright=to.fromPalette({palette:t=>t.neutralPalette,tone:t=>t.isDark?24:98}),ao.surfaceContainerLowest=to.fromPalette({palette:t=>t.neutralPalette,tone:t=>t.isDark?4:100}),ao.surfaceContainerLow=to.fromPalette({palette:t=>t.neutralPalette,tone:t=>t.isDark?10:96}),ao.surfaceContainer=to.fromPalette({palette:t=>t.neutralPalette,tone:t=>t.isDark?12:94}),ao.surfaceContainerHigh=to.fromPalette({palette:t=>t.neutralPalette,tone:t=>t.isDark?17:92}),ao.surfaceContainerHighest=to.fromPalette({palette:t=>t.neutralPalette,tone:t=>t.isDark?22:90}),ao.onSurface=to.fromPalette({palette:t=>t.neutralPalette,tone:t=>t.isDark?90:10,background:t=>ao.highestSurface(t)}),ao.surfaceVariant=to.fromPalette({palette:t=>t.neutralVariantPalette,tone:t=>t.isDark?30:90}),ao.onSurfaceVariant=to.fromPalette({palette:t=>t.neutralVariantPalette,tone:t=>t.isDark?80:30,background:t=>ao.surfaceVariant}),ao.inverseSurface=to.fromPalette({palette:t=>t.neutralPalette,tone:t=>t.isDark?90:20}),ao.inverseOnSurface=to.fromPalette({palette:t=>t.neutralPalette,tone:t=>t.isDark?20:95,background:t=>ao.inverseSurface}),ao.outline=to.fromPalette({palette:t=>t.neutralVariantPalette,tone:t=>50,background:t=>ao.highestSurface(t)}),ao.outlineVariant=to.fromPalette({palette:t=>t.neutralVariantPalette,tone:t=>t.isDark?30:80,background:t=>ao.highestSurface(t)}),ao.shadow=to.fromPalette({palette:t=>t.neutralPalette,tone:t=>0}),ao.scrim=to.fromPalette({palette:t=>t.neutralPalette,tone:t=>0}),ao.surfaceTintColor=to.fromPalette({palette:t=>t.primaryPalette,tone:t=>t.isDark?80:40}),ao.primary=to.fromPalette({palette:t=>t.primaryPalette,tone:t=>ro(t)?t.isDark?100:0:t.isDark?80:40,background:t=>ao.highestSurface(t),toneDeltaConstraint:t=>new io(ao.contentAccentToneDelta,ao.primaryContainer,t.isDark?"darker":"lighter")}),ao.onPrimary=to.fromPalette({palette:t=>t.primaryPalette,tone:t=>ro(t)?t.isDark?10:90:t.isDark?20:100,background:t=>ao.primary}),ao.primaryContainer=to.fromPalette({palette:t=>t.primaryPalette,tone:t=>ro(t)?t.isDark?85:25:no(t)?oo(t.sourceColorHct,t):t.isDark?30:90,background:t=>ao.highestSurface(t)}),ao.onPrimaryContainer=to.fromPalette({palette:t=>t.primaryPalette,tone:t=>ro(t)?t.isDark?0:100:no(t)?to.foregroundTone(ao.primaryContainer.tone(t),4.5):t.isDark?90:10,background:t=>ao.primaryContainer}),ao.inversePrimary=to.fromPalette({palette:t=>t.primaryPalette,tone:t=>t.isDark?40:80,background:t=>ao.inverseSurface}),ao.inverseOnPrimary=to.fromPalette({palette:t=>t.primaryPalette,tone:t=>t.isDark?100:20,background:t=>ao.inversePrimary}),ao.secondary=to.fromPalette({palette:t=>t.secondaryPalette,tone:t=>t.isDark?80:40,background:t=>ao.highestSurface(t),toneDeltaConstraint:t=>new io(ao.contentAccentToneDelta,ao.secondaryContainer,t.isDark?"darker":"lighter")}),ao.onSecondary=to.fromPalette({palette:t=>t.secondaryPalette,tone:t=>ro(t)?t.isDark?10:100:t.isDark?20:100,background:t=>ao.secondary}),ao.secondaryContainer=to.fromPalette({palette:t=>t.secondaryPalette,tone:t=>{const e=t.isDark?30:90;if(ro(t))return t.isDark?30:85;if(!no(t))return e;let i=function(t,e,i,n){let r=i,o=Jr.from(t,e,i);if(o.chroma<e){let i=o.chroma;for(;o.chroma<e;){r+=n?-1:1;const a=Jr.from(t,e,r);if(i>a.chroma)break;if(Math.abs(a.chroma-e)<.4)break;Math.abs(a.chroma-e)<Math.abs(o.chroma-e)&&(o=a),i=Math.max(i,a.chroma)}}return r}(t.secondaryPalette.hue,t.secondaryPalette.chroma,e,!t.isDark);return i=oo(t.secondaryPalette.getHct(i),t),i},background:t=>ao.highestSurface(t)}),ao.onSecondaryContainer=to.fromPalette({palette:t=>t.secondaryPalette,tone:t=>no(t)?to.foregroundTone(ao.secondaryContainer.tone(t),4.5):t.isDark?90:10,background:t=>ao.secondaryContainer}),ao.tertiary=to.fromPalette({palette:t=>t.tertiaryPalette,tone:t=>ro(t)?t.isDark?90:25:t.isDark?80:40,background:t=>ao.highestSurface(t),toneDeltaConstraint:t=>new io(ao.contentAccentToneDelta,ao.tertiaryContainer,t.isDark?"darker":"lighter")}),ao.onTertiary=to.fromPalette({palette:t=>t.tertiaryPalette,tone:t=>ro(t)?t.isDark?10:90:t.isDark?20:100,background:t=>ao.tertiary}),ao.tertiaryContainer=to.fromPalette({palette:t=>t.tertiaryPalette,tone:t=>{if(ro(t))return t.isDark?60:49;if(!no(t))return t.isDark?30:90;const e=oo(t.tertiaryPalette.getHct(t.sourceColorHct.tone),t),i=t.tertiaryPalette.getHct(e);return qr.fixIfDisliked(i).tone},background:t=>ao.highestSurface(t)}),ao.onTertiaryContainer=to.fromPalette({palette:t=>t.tertiaryPalette,tone:t=>ro(t)?t.isDark?0:100:no(t)?to.foregroundTone(ao.tertiaryContainer.tone(t),4.5):t.isDark?90:10,background:t=>ao.tertiaryContainer}),ao.error=to.fromPalette({palette:t=>t.errorPalette,tone:t=>t.isDark?80:40,background:t=>ao.highestSurface(t),toneDeltaConstraint:t=>new io(ao.contentAccentToneDelta,ao.errorContainer,t.isDark?"darker":"lighter")}),ao.onError=to.fromPalette({palette:t=>t.errorPalette,tone:t=>t.isDark?20:100,background:t=>ao.error}),ao.errorContainer=to.fromPalette({palette:t=>t.errorPalette,tone:t=>t.isDark?30:90,background:t=>ao.highestSurface(t)}),ao.onErrorContainer=to.fromPalette({palette:t=>t.errorPalette,tone:t=>t.isDark?90:10,background:t=>ao.errorContainer}),ao.primaryFixed=to.fromPalette({palette:t=>t.primaryPalette,tone:t=>ro(t)?t.isDark?100:10:90,background:t=>ao.highestSurface(t)}),ao.primaryFixedDim=to.fromPalette({palette:t=>t.primaryPalette,tone:t=>ro(t)?t.isDark?90:20:80,background:t=>ao.highestSurface(t)}),ao.onPrimaryFixed=to.fromPalette({palette:t=>t.primaryPalette,tone:t=>ro(t)?t.isDark?10:90:10,background:t=>ao.primaryFixedDim}),ao.onPrimaryFixedVariant=to.fromPalette({palette:t=>t.primaryPalette,tone:t=>ro(t)?t.isDark?30:70:30,background:t=>ao.primaryFixedDim}),ao.secondaryFixed=to.fromPalette({palette:t=>t.secondaryPalette,tone:t=>ro(t)?80:90,background:t=>ao.highestSurface(t)}),ao.secondaryFixedDim=to.fromPalette({palette:t=>t.secondaryPalette,tone:t=>ro(t)?70:80,background:t=>ao.highestSurface(t)}),ao.onSecondaryFixed=to.fromPalette({palette:t=>t.secondaryPalette,tone:t=>10,background:t=>ao.secondaryFixedDim}),ao.onSecondaryFixedVariant=to.fromPalette({palette:t=>t.secondaryPalette,tone:t=>ro(t)?25:30,background:t=>ao.secondaryFixedDim}),ao.tertiaryFixed=to.fromPalette({palette:t=>t.tertiaryPalette,tone:t=>ro(t)?40:90,background:t=>ao.highestSurface(t)}),ao.tertiaryFixedDim=to.fromPalette({palette:t=>t.tertiaryPalette,tone:t=>ro(t)?30:80,background:t=>ao.highestSurface(t)}),ao.onTertiaryFixed=to.fromPalette({palette:t=>t.tertiaryPalette,tone:t=>ro(t)?90:10,background:t=>ao.tertiaryFixedDim}),ao.onTertiaryFixedVariant=to.fromPalette({palette:t=>t.tertiaryPalette,tone:t=>ro(t)?70:30,background:t=>ao.tertiaryFixedDim});
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class so{static fromInt(t){const e=Jr.fromInt(t);return so.fromHueAndChroma(e.hue,e.chroma)}static fromHueAndChroma(t,e){return new so(t,e)}constructor(t,e){this.hue=t,this.chroma=e,this.cache=new Map}tone(t){let e=this.cache.get(t);return void 0===e&&(e=Jr.from(this.hue,this.chroma,t).toInt(),this.cache.set(t,e)),e}getHct(t){return Jr.fromInt(this.tone(t))}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{static of(t){return new lo(t,!1)}static contentOf(t){return new lo(t,!0)}static fromColors(t){return lo.createPaletteFromColors(!1,t)}static contentFromColors(t){return lo.createPaletteFromColors(!0,t)}static createPaletteFromColors(t,e){const i=new lo(e.primary,t);if(e.secondary){const n=new lo(e.secondary,t);i.a2=n.a1}if(e.tertiary){const n=new lo(e.tertiary,t);i.a3=n.a1}if(e.error){const n=new lo(e.error,t);i.error=n.a1}if(e.neutral){const n=new lo(e.neutral,t);i.n1=n.n1}if(e.neutralVariant){const n=new lo(e.neutralVariant,t);i.n2=n.n2}return i}constructor(t,e){const i=Jr.fromInt(t),n=i.hue,r=i.chroma;e?(this.a1=so.fromHueAndChroma(n,r),this.a2=so.fromHueAndChroma(n,r/3),this.a3=so.fromHueAndChroma(n+60,r/2),this.n1=so.fromHueAndChroma(n,Math.min(r/12,4)),this.n2=so.fromHueAndChroma(n,Math.min(r/6,8))):(this.a1=so.fromHueAndChroma(n,Math.max(48,r)),this.a2=so.fromHueAndChroma(n,16),this.a3=so.fromHueAndChroma(n+60,24),this.n1=so.fromHueAndChroma(n,4),this.n2=so.fromHueAndChroma(n,8)),this.error=so.fromHueAndChroma(25,84)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(t){this.sourceColorArgb=t.sourceColorArgb,this.variant=t.variant,this.contrastLevel=t.contrastLevel,this.isDark=t.isDark,this.sourceColorHct=Jr.fromInt(t.sourceColorArgb),this.primaryPalette=t.primaryPalette,this.secondaryPalette=t.secondaryPalette,this.tertiaryPalette=t.tertiaryPalette,this.neutralPalette=t.neutralPalette,this.neutralVariantPalette=t.neutralVariantPalette,this.errorPalette=so.fromHueAndChroma(25,84)}static getRotatedHue(t,e,i){const n=t.hue;if(e.length!==i.length)throw new Error(`mismatch between hue length ${e.length} & rotations ${i.length}`);if(1===i.length)return Nr(t.hue+i[0]);const r=e.length;for(let t=0;t<=r-2;t++){const r=e[t],o=e[t+1];if(r<n&&n<o)return Nr(n+i[t])}return n}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{get primary(){return this.props.primary}get onPrimary(){return this.props.onPrimary}get primaryContainer(){return this.props.primaryContainer}get onPrimaryContainer(){return this.props.onPrimaryContainer}get secondary(){return this.props.secondary}get onSecondary(){return this.props.onSecondary}get secondaryContainer(){return this.props.secondaryContainer}get onSecondaryContainer(){return this.props.onSecondaryContainer}get tertiary(){return this.props.tertiary}get onTertiary(){return this.props.onTertiary}get tertiaryContainer(){return this.props.tertiaryContainer}get onTertiaryContainer(){return this.props.onTertiaryContainer}get error(){return this.props.error}get onError(){return this.props.onError}get errorContainer(){return this.props.errorContainer}get onErrorContainer(){return this.props.onErrorContainer}get background(){return this.props.background}get onBackground(){return this.props.onBackground}get surface(){return this.props.surface}get onSurface(){return this.props.onSurface}get surfaceVariant(){return this.props.surfaceVariant}get onSurfaceVariant(){return this.props.onSurfaceVariant}get outline(){return this.props.outline}get outlineVariant(){return this.props.outlineVariant}get shadow(){return this.props.shadow}get scrim(){return this.props.scrim}get inverseSurface(){return this.props.inverseSurface}get inverseOnSurface(){return this.props.inverseOnSurface}get inversePrimary(){return this.props.inversePrimary}static light(t){return uo.lightFromCorePalette(lo.of(t))}static dark(t){return uo.darkFromCorePalette(lo.of(t))}static lightContent(t){return uo.lightFromCorePalette(lo.contentOf(t))}static darkContent(t){return uo.darkFromCorePalette(lo.contentOf(t))}static lightFromCorePalette(t){return new uo({primary:t.a1.tone(40),onPrimary:t.a1.tone(100),primaryContainer:t.a1.tone(90),onPrimaryContainer:t.a1.tone(10),secondary:t.a2.tone(40),onSecondary:t.a2.tone(100),secondaryContainer:t.a2.tone(90),onSecondaryContainer:t.a2.tone(10),tertiary:t.a3.tone(40),onTertiary:t.a3.tone(100),tertiaryContainer:t.a3.tone(90),onTertiaryContainer:t.a3.tone(10),error:t.error.tone(40),onError:t.error.tone(100),errorContainer:t.error.tone(90),onErrorContainer:t.error.tone(10),background:t.n1.tone(99),onBackground:t.n1.tone(10),surface:t.n1.tone(99),onSurface:t.n1.tone(10),surfaceVariant:t.n2.tone(90),onSurfaceVariant:t.n2.tone(30),outline:t.n2.tone(50),outlineVariant:t.n2.tone(80),shadow:t.n1.tone(0),scrim:t.n1.tone(0),inverseSurface:t.n1.tone(20),inverseOnSurface:t.n1.tone(95),inversePrimary:t.a1.tone(80)})}static darkFromCorePalette(t){return new uo({primary:t.a1.tone(80),onPrimary:t.a1.tone(20),primaryContainer:t.a1.tone(30),onPrimaryContainer:t.a1.tone(90),secondary:t.a2.tone(80),onSecondary:t.a2.tone(20),secondaryContainer:t.a2.tone(30),onSecondaryContainer:t.a2.tone(90),tertiary:t.a3.tone(80),onTertiary:t.a3.tone(20),tertiaryContainer:t.a3.tone(30),onTertiaryContainer:t.a3.tone(90),error:t.error.tone(80),onError:t.error.tone(20),errorContainer:t.error.tone(30),onErrorContainer:t.error.tone(80),background:t.n1.tone(10),onBackground:t.n1.tone(90),surface:t.n1.tone(10),onSurface:t.n1.tone(90),surfaceVariant:t.n2.tone(30),onSurfaceVariant:t.n2.tone(80),outline:t.n2.tone(60),outlineVariant:t.n2.tone(30),shadow:t.n1.tone(0),scrim:t.n1.tone(0),inverseSurface:t.n1.tone(90),inverseOnSurface:t.n1.tone(20),inversePrimary:t.a1.tone(40)})}constructor(t){this.props=t}toJSON(){return{...this.props}}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(t){this.input=t,this.hctsByTempCache=[],this.hctsByHueCache=[],this.tempsByHctCache=new Map,this.inputRelativeTemperatureCache=-1,this.complementCache=null}get hctsByTemp(){if(this.hctsByTempCache.length>0)return this.hctsByTempCache;const t=this.hctsByHue.concat([this.input]),e=this.tempsByHct;return t.sort(((t,i)=>e.get(t)-e.get(i))),this.hctsByTempCache=t,t}get warmest(){return this.hctsByTemp[this.hctsByTemp.length-1]}get coldest(){return this.hctsByTemp[0]}analogous(t=5,e=12){const i=Math.round(this.input.hue),n=this.hctsByHue[i];let r=this.relativeTemperature(n);const o=[n];let a=0;for(let t=0;t<360;t++){const e=Mr(i+t),n=this.hctsByHue[e],o=this.relativeTemperature(n),s=Math.abs(o-r);r=o,a+=s}let s=1;const l=a/e;let c=0;for(r=this.relativeTemperature(n);o.length<e;){const t=Mr(i+s),n=this.hctsByHue[t],a=this.relativeTemperature(n);c+=Math.abs(a-r);let d=c>=o.length*l,u=1;for(;d&&o.length<e;){o.push(n);d=c>=(o.length+u)*l,u++}if(r=a,s++,s>360){for(;o.length<e;)o.push(n);break}}const d=[this.input],u=Math.floor((t-1)/2);for(let t=1;t<u+1;t++){let e=0-t;for(;e<0;)e=o.length+e;e>=o.length&&(e%=o.length),d.splice(0,0,o[e])}const h=t-u-1;for(let t=1;t<h+1;t++){let e=t;for(;e<0;)e=o.length+e;e>=o.length&&(e%=o.length),d.push(o[e])}return d}get complement(){if(null!=this.complementCache)return this.complementCache;const t=this.coldest.hue,e=this.tempsByHct.get(this.coldest),i=this.warmest.hue,n=this.tempsByHct.get(this.warmest)-e,r=ho.isBetween(this.input.hue,t,i),o=r?i:t,a=r?t:i;let s=1e3,l=this.hctsByHue[Math.round(this.input.hue)];const c=1-this.inputRelativeTemperature;for(let t=0;t<=360;t+=1){const i=Nr(o+1*t);if(!ho.isBetween(i,o,a))continue;const r=this.hctsByHue[Math.round(i)],d=(this.tempsByHct.get(r)-e)/n,u=Math.abs(c-d);u<s&&(s=u,l=r)}return this.complementCache=l,this.complementCache}relativeTemperature(t){const e=this.tempsByHct.get(this.warmest)-this.tempsByHct.get(this.coldest),i=this.tempsByHct.get(t)-this.tempsByHct.get(this.coldest);return 0===e?.5:i/e}get inputRelativeTemperature(){return this.inputRelativeTemperatureCache>=0||(this.inputRelativeTemperatureCache=this.relativeTemperature(this.input)),this.inputRelativeTemperatureCache}get tempsByHct(){if(this.tempsByHctCache.size>0)return this.tempsByHctCache;const t=this.hctsByHue.concat([this.input]),e=new Map;for(const i of t)e.set(i,ho.rawTemperature(i));return this.tempsByHctCache=e,e}get hctsByHue(){if(this.hctsByHueCache.length>0)return this.hctsByHueCache;const t=[];for(let e=0;e<=360;e+=1){const i=Jr.from(e,this.input.chroma,this.input.tone);t.push(i)}return this.hctsByHueCache=t,this.hctsByHueCache}static isBetween(t,e,i){return e<i?e<=t&&t<=i:e<=t||t<=i}static rawTemperature(t){const e=function(t){const e=Fr(Rr(t)),i=Fr(Gr(t)),n=Fr(Br(t)),r=Or,o=r[0][0]*e+r[0][1]*i+r[0][2]*n,a=r[1][0]*e+r[1][1]*i+r[1][2]*n,s=r[2][0]*e+r[2][1]*i+r[2][2]*n,l=a/Dr[1],c=s/Dr[2],d=Vr(o/Dr[0]),u=Vr(l);return[116*u-16,500*(d-u),200*(u-Vr(c))]}(t.toInt()),i=Nr(180*Math.atan2(e[2],e[1])/Math.PI),n=Math.sqrt(e[1]*e[1]+e[2]*e[2]);return.02*Math.pow(n,1.07)*Math.cos(Nr(i-50)*Math.PI/180)-.5}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends co{constructor(t,e,i){super({sourceColorArgb:t.toInt(),variant:eo.CONTENT,contrastLevel:i,isDark:e,primaryPalette:so.fromHueAndChroma(t.hue,t.chroma),secondaryPalette:so.fromHueAndChroma(t.hue,Math.max(t.chroma-32,.5*t.chroma)),tertiaryPalette:so.fromInt(qr.fixIfDisliked(new ho(t).analogous(3,6)[2]).toInt()),neutralPalette:so.fromHueAndChroma(t.hue,t.chroma/8),neutralVariantPalette:so.fromHueAndChroma(t.hue,t.chroma/8+4)})}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends co{constructor(t,e,i){super({sourceColorArgb:t.toInt(),variant:eo.EXPRESSIVE,contrastLevel:i,isDark:e,primaryPalette:so.fromHueAndChroma(Nr(t.hue+120),40),secondaryPalette:so.fromHueAndChroma(co.getRotatedHue(t,go.hues,go.secondaryRotations),24),tertiaryPalette:so.fromHueAndChroma(co.getRotatedHue(t,go.hues,go.tertiaryRotations),32),neutralPalette:so.fromHueAndChroma(t.hue,8),neutralVariantPalette:so.fromHueAndChroma(t.hue,12)})}}go.hues=[0,21,51,121,151,191,271,321,360],go.secondaryRotations=[45,95,45,20,45,90,45,45,45],go.tertiaryRotations=[120,120,20,45,20,15,20,120,120];
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class fo extends co{constructor(t,e,i){super({sourceColorArgb:t.toInt(),variant:eo.FIDELITY,contrastLevel:i,isDark:e,primaryPalette:so.fromHueAndChroma(t.hue,t.chroma),secondaryPalette:so.fromHueAndChroma(t.hue,Math.max(t.chroma-32,.5*t.chroma)),tertiaryPalette:so.fromInt(qr.fixIfDisliked(new ho(t).complement).toInt()),neutralPalette:so.fromHueAndChroma(t.hue,t.chroma/8),neutralVariantPalette:so.fromHueAndChroma(t.hue,t.chroma/8+4)})}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends co{constructor(t,e,i){super({sourceColorArgb:t.toInt(),variant:eo.MONOCHROME,contrastLevel:i,isDark:e,primaryPalette:so.fromHueAndChroma(t.hue,0),secondaryPalette:so.fromHueAndChroma(t.hue,0),tertiaryPalette:so.fromHueAndChroma(t.hue,0),neutralPalette:so.fromHueAndChroma(t.hue,0),neutralVariantPalette:so.fromHueAndChroma(t.hue,0)})}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends co{constructor(t,e,i){super({sourceColorArgb:t.toInt(),variant:eo.NEUTRAL,contrastLevel:i,isDark:e,primaryPalette:so.fromHueAndChroma(t.hue,12),secondaryPalette:so.fromHueAndChroma(t.hue,8),tertiaryPalette:so.fromHueAndChroma(t.hue,16),neutralPalette:so.fromHueAndChroma(t.hue,2),neutralVariantPalette:so.fromHueAndChroma(t.hue,2)})}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends co{constructor(t,e,i){super({sourceColorArgb:t.toInt(),variant:eo.TONAL_SPOT,contrastLevel:i,isDark:e,primaryPalette:so.fromHueAndChroma(t.hue,40),secondaryPalette:so.fromHueAndChroma(t.hue,16),tertiaryPalette:so.fromHueAndChroma(Nr(t.hue+60),24),neutralPalette:so.fromHueAndChroma(t.hue,6),neutralVariantPalette:so.fromHueAndChroma(t.hue,8)})}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends co{constructor(t,e,i){super({sourceColorArgb:t.toInt(),variant:eo.VIBRANT,contrastLevel:i,isDark:e,primaryPalette:so.fromHueAndChroma(t.hue,200),secondaryPalette:so.fromHueAndChroma(co.getRotatedHue(t,yo.hues,yo.secondaryRotations),24),tertiaryPalette:so.fromHueAndChroma(co.getRotatedHue(t,yo.hues,yo.tertiaryRotations),32),neutralPalette:so.fromHueAndChroma(t.hue,8),neutralVariantPalette:so.fromHueAndChroma(t.hue,12)})}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function xo(t){const e=Rr(t),i=Gr(t),n=Br(t),r=[e.toString(16),i.toString(16),n.toString(16)];for(const[t,e]of r.entries())1===e.length&&(r[t]="0"+e);return"#"+r.join("")}function wo(t){const e=3===(t=t.replace("#","")).length,i=6===t.length,n=8===t.length;if(!e&&!i&&!n)throw new Error("unexpected hex "+t);let r=0,o=0,a=0;return e?(r=Io(t.slice(0,1).repeat(2)),o=Io(t.slice(1,2).repeat(2)),a=Io(t.slice(2,3).repeat(2))):i?(r=Io(t.slice(0,2)),o=Io(t.slice(2,4)),a=Io(t.slice(4,6))):n&&(r=Io(t.slice(2,4)),o=Io(t.slice(4,6)),a=Io(t.slice(6,8))),(255<<24|(255&r)<<16|(255&o)<<8|255&a)>>>0}function Io(t){return parseInt(t,16)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(t,e=[]){const i=lo.of(t);return{source:t,schemes:{light:uo.light(t),dark:uo.dark(t)},palettes:{primary:i.a1,secondary:i.a2,tertiary:i.a3,neutral:i.n1,neutralVariant:i.n2,error:i.error},customColors:e.map((e=>function(t,e){let i=e.value;const n=i,r=t;e.blend&&(i=Qr.harmonize(n,r));const o=lo.of(i),a=o.a1;return{color:e,value:i,light:{color:a.tone(40),onColor:a.tone(100),colorContainer:a.tone(90),onColorContainer:a.tone(10)},dark:{color:a.tone(80),onColor:a.tone(20),colorContainer:a.tone(30),onColorContainer:a.tone(90)}}}(t,e)))}}function Ao(t,e,i=""){for(const[n,r]of Object.entries(e.toJSON())){const e=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),o=xo(r);t.style.setProperty(`--md-sys-color-${e}${i}`,o)}}
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */yo.hues=[0,41,61,101,131,181,251,301,360],yo.secondaryRotations=[18,15,10,12,15,18,15,12,12],yo.tertiaryRotations=[35,30,20,25,30,35,30,25,25];const So=h`@media(forced-colors:active){.menu{border-style:solid;border-color:CanvasText;border-width:1px}}`
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,ko="important",_o=" !"+ko,To=Bi(class extends Ui{constructor(t){var e;if(super(t),t.type!==zi||"style"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce(((e,i)=>{const n=t[i];return null==n?e:e+`${i=i.includes("-")?i:i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${n};`}),"")}update(t,[e]){const{style:i}=t.element;if(void 0===this.ut){this.ut=new Set;for(const t in e)this.ut.add(t);return this.render(e)}this.ut.forEach((t=>{null==e[t]&&(this.ut.delete(t),t.includes("-")?i.removeProperty(t):i[t]="")}));for(const t in e){const n=e[t];if(null!=n){this.ut.add(t);const e="string"==typeof n&&n.endsWith(_o);t.includes("-")||e?i.setProperty(t,e?n.slice(0,-11):n,e?ko:""):i[t]=n}}return Y}});const Po=
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function(t,e){return new CustomEvent("close-menu",{bubbles:!0,composed:!0,detail:{initiator:t,reason:e,itemPath:[t]}})},Mo={SPACE:"Space",ENTER:"Enter"},No="CLICK_SELECTION",Lo="KEYDOWN",Oo={ESCAPE:"Escape",SPACE:Mo.SPACE,ENTER:Mo.ENTER};function Eo(t){return Object.values(Oo).some((e=>e===t))}function Do(t,e){const i=new Event("md-contains",{bubbles:!0,composed:!0});let n=[];const r=t=>{n=t.composedPath()};e.addEventListener("md-contains",r),t.dispatchEvent(i),e.removeEventListener("md-contains",r);return n.length>0}
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zo{constructor(t,e){this.host=t,this.getProperties=e,this.surfaceStylesInternal={display:"none"},this.lastValues={isOpen:!1},this.host.addController(this)}get surfaceStyles(){return this.surfaceStylesInternal}async position(){const{surfaceEl:t,anchorEl:e,anchorCorner:i,surfaceCorner:n,isTopLayer:r,xOffset:o,yOffset:a}=this.getProperties(),s=i.toUpperCase().trim(),l=n.toUpperCase().trim();if(!t||!e)return;this.surfaceStylesInternal={display:"block",opacity:"0"},this.host.requestUpdate(),await this.host.updateComplete;const c=t.getSurfacePositionClientRect?t.getSurfacePositionClientRect():t.getBoundingClientRect(),d=e.getSurfacePositionClientRect?e.getSurfacePositionClientRect():e.getBoundingClientRect(),[u,h]=l.split("_"),[p,g]=s.split("_"),f=r?1:0,m="ltr"===getComputedStyle(t).direction?1:0,v=m?0:1,b="START"===h?1:0,y="END"===h?1:0,x="START"===u?1:0,w="END"===u?1:0,I=p!==u?1:0,C=(g!==h?1:0)*d.width+o,A=m*(b*d.left+y*(window.innerWidth-d.right))+v*(b*(window.innerWidth-d.right)+y*d.left),S=f*A+C+Math.min(0,window.innerWidth-A-C-c.width),k=I*d.height+a,_=x*d.top+w*(window.innerHeight-d.bottom),T=f*_+k+Math.min(0,window.innerHeight-_-k-c.height),P="START"===u?"inset-block-start":"inset-block-end",M="START"===h?"inset-inline-start":"inset-inline-end";this.surfaceStylesInternal={display:"block",opacity:"1",[P]:`${T}px`,[M]:`${S}px`},this.host.requestUpdate()}hostUpdate(){this.onUpdate()}hostUpdated(){this.onUpdate()}async onUpdate(){const t=this.getProperties();let e=!1;for(const[i,n]of Object.entries(t))if(e=e||n!==this.lastValues[i],e)break;const i=this.lastValues.isOpen!==t.isOpen,n=!!t.anchorEl,r=!!t.surfaceEl;e&&n&&r&&(this.lastValues.isOpen=t.isOpen,t.isOpen?(this.lastValues=t,await this.position(),t.onOpen()):i&&(await t.beforeClose(),this.close(),t.onClose()))}close(){this.surfaceStylesInternal={display:"none"},this.host.requestUpdate()}}
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jo=0,Ro=1,Go=2;class Bo{constructor(t){this.getProperties=t,this.typeaheadRecords=[],this.typaheadBuffer="",this.cancelTypeaheadTimeout=0,this.isTypingAhead=!1,this.lastActiveRecord=null,this.onKeydown=t=>{this.isTypingAhead?this.typeahead(t):this.beginTypeahead(t)},this.endTypeahead=()=>{this.isTypingAhead=!1,this.typaheadBuffer="",this.typeaheadRecords=[]}}get items(){return this.getProperties().getItems()}get active(){return this.getProperties().active}beginTypeahead(t){this.active&&("Space"===t.code||"Enter"===t.code||t.code.startsWith("Arrow")||"Escape"===t.code||(this.isTypingAhead=!0,this.typeaheadRecords=this.items.map(((t,e)=>[e,t,t.headline.trim().toLowerCase()])),this.lastActiveRecord=this.typeaheadRecords.find((t=>t[Ro].active))??null,this.lastActiveRecord&&(this.lastActiveRecord[Ro].active=!1),this.typeahead(t)))}typeahead(t){if(t.defaultPrevented)return;if(clearTimeout(this.cancelTypeaheadTimeout),"Enter"===t.code||t.code.startsWith("Arrow")||"Escape"===t.code)return this.endTypeahead(),void(this.lastActiveRecord&&(this.lastActiveRecord[Ro].active=!1));"Space"===t.code&&t.preventDefault(),this.cancelTypeaheadTimeout=setTimeout(this.endTypeahead,this.getProperties().typeaheadBufferTime),this.typaheadBuffer+=t.key.toLowerCase();const e=this.lastActiveRecord?this.lastActiveRecord[jo]:-1,i=this.typeaheadRecords.length,n=t=>(t[jo]+i-e)%i,r=this.typeaheadRecords.filter((t=>!t[Ro].disabled&&t[Go].startsWith(this.typaheadBuffer))).sort(((t,e)=>n(t)-n(e)));if(0===r.length)return clearTimeout(this.cancelTypeaheadTimeout),this.lastActiveRecord&&(this.lastActiveRecord[Ro].active=!1),void this.endTypeahead();const o=1===this.typaheadBuffer.length;let a;a=this.lastActiveRecord===r[0]&&o?r[1]??r[0]:r[0],this.lastActiveRecord&&(this.lastActiveRecord[Ro].active=!1),this.lastActiveRecord=a,a[Ro].active=!0}}
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uo(t=document){const e=t.activeElement;return e?e.shadowRoot?Uo(e.shadowRoot)??e:e:null}class Zo extends pt{constructor(){super(...arguments),this.anchor="",this.fixed=!1,this.quick=!1,this.hasOverflow=!1,this.open=!1,this.xOffset=0,this.yOffset=0,this.listTabIndex=0,this.type="menu",this.typeaheadDelay=200,this.anchorCorner="END_START",this.menuCorner="START_START",this.stayOpenOnOutsideClick=!1,this.stayOpenOnFocusout=!1,this.skipRestoreFocus=!1,this.defaultFocus="LIST_ROOT",this.typeaheadActive=!0,this.openCloseAnimationSignal=function(){let t=null;return{start:()=>(t?.abort(),t=new AbortController,t.signal),finish(){t=null}}}
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(),this.lastFocusedElement=null,this.typeaheadController=new Bo((()=>({getItems:()=>this.items,typeaheadBufferTime:this.typeaheadDelay,active:this.typeaheadActive}))),this.currentAnchorElement=null,this.menuPositionController=new zo(this,(()=>({anchorCorner:this.anchorCorner,surfaceCorner:this.menuCorner,surfaceEl:this.surfaceEl,anchorEl:this.anchorElement,isTopLayer:this.fixed,isOpen:this.open,xOffset:this.xOffset,yOffset:this.yOffset,onOpen:this.onOpened,beforeClose:this.beforeClose,onClose:this.onClosed}))),this.onOpened=()=>{if(this.lastFocusedElement=Uo(),!this.listElement)return;const t=this.listElement.items,e=xn.getActiveItem(t);switch(e&&"NONE"!==this.defaultFocus&&(e.item.active=!1),this.defaultFocus){case"FIRST_ITEM":const e=xn.getFirstActivatableItem(t);e&&(e.active=!0);break;case"LAST_ITEM":const i=xn.getLastActivatableItem(t);i&&(i.active=!0);break;case"LIST_ROOT":this.listElement?.focus()}this.quick?(this.dispatchEvent(new Event("opening")),this.dispatchEvent(new Event("opened"))):this.animateOpen()},this.beforeClose=async()=>{this.open=!1,this.skipRestoreFocus||this.lastFocusedElement?.focus?.(),this.quick||await this.animateClose()},this.onClosed=()=>{this.quick&&(this.dispatchEvent(new Event("closing")),this.dispatchEvent(new Event("closed")))},this.onWindowClick=t=>{this.stayOpenOnOutsideClick||t.composedPath().includes(this)||(this.open=!1)}}get openDirection(){return"START"===this.menuCorner.split("_")[0]?"DOWN":"UP"}get anchorElement(){return this.anchor?this.getRootNode().querySelector(`#${this.anchor}`):this.currentAnchorElement}set anchorElement(t){this.currentAnchorElement=t,this.requestUpdate("anchorElement")}get items(){const t=this.listElement;return t?t.items.filter((t=>t.hasAttribute("md-menu-item"))):[]}render(){return this.renderSurface()}renderSurface(){return W` <div class="menu ${Zi(this.getSurfaceClasses())}" style="${To(this.menuPositionController.surfaceStyles)}" @focusout="${this.handleFocusout}"> ${this.renderElevation()} ${this.renderList()} ${this.renderFocusRing()} </div> `}renderList(){const{ariaLabel:t}=this;return W` <md-list part="list" id="list" aria-label="${t||H}" type="${this.type}" listTabIndex="${this.listTabIndex}" @keydown="${this.handleListKeydown}"> ${this.renderMenuItems()} </md-list>`}renderMenuItems(){return W`<slot @close-menu="${this.onCloseMenu}" @deactivate-items="${this.onDeactivateItems}" @deactivate-typeahead="${this.handleDeactivateTypeahead}" @activate-typeahead="${this.handleActivateTypeahead}" @stay-open-on-focusout="${this.handleStayOpenOnFocusout}" @close-on-focusout="${this.handleCloseOnFocusout}"></slot>`}renderElevation(){return W`<md-elevation part="elevation"></md-elevation>`}renderFocusRing(){return W`<md-focus-ring part="focus-ring" for="list"></md-focus-ring>`}getSurfaceClasses(){return{open:this.open,fixed:this.fixed,"has-overflow":this.hasOverflow}}async handleFocusout(t){if(this.stayOpenOnFocusout)return;if(t.stopPropagation(),t.relatedTarget&&Do(t.relatedTarget,this))return;const e=this.skipRestoreFocus;this.skipRestoreFocus=!0,this.close(),await this.updateComplete,this.skipRestoreFocus=e}handleListKeydown(t){t.target===this.listElement&&!t.defaultPrevented&&Eo(t.code)&&(t.preventDefault(),this.close()),this.typeaheadController.onKeydown(t)}animateOpen(){const t=this.surfaceEl,e=this.slotEl;if(!t||!e)return;const i=this.openDirection;this.dispatchEvent(new Event("opening")),t.classList.toggle("animating",!0);const n=this.openCloseAnimationSignal.start(),r=t.offsetHeight,o="UP"===i,a=this.items,s=250/a.length,l=t.animate([{height:"0px"},{height:`${r}px`}],{duration:500,easing:Fi}),c=e.animate([{transform:o?`translateY(-${r}px)`:""},{transform:""}],{duration:500,easing:Fi}),d=t.animate([{opacity:0},{opacity:1}],50),u=[];for(let t=0;t<a.length;t++){const e=a[o?a.length-1-t:t],i=e.animate([{opacity:0},{opacity:1}],{duration:250,delay:s*t});e.classList.toggle("md-menu-hidden",!0),i.addEventListener("finish",(()=>{e.classList.toggle("md-menu-hidden",!1)})),u.push([e,i])}n.addEventListener("abort",(()=>{l.cancel(),c.cancel(),d.cancel(),u.forEach((([t,e])=>{t.classList.toggle("md-menu-hidden",!1),e.cancel()}))})),l.addEventListener("finish",(()=>{t.classList.toggle("animating",!1),this.openCloseAnimationSignal.finish(),this.dispatchEvent(new Event("opened"))}))}animateClose(){let t,e;const i=new Promise(((i,n)=>{t=i,e=n})),n=this.surfaceEl,r=this.slotEl;if(!n||!r)return e(),i;const o="UP"===this.openDirection;this.dispatchEvent(new Event("closing")),n.classList.toggle("animating",!0);const a=this.openCloseAnimationSignal.start(),s=n.offsetHeight,l=this.items,c=150,d=50/l.length,u=n.animate([{height:`${s}px`},{height:.35*s+"px"}],{duration:c,easing:Wi}),h=r.animate([{transform:""},{transform:o?`translateY(-${.65*s}px)`:""}],{duration:c,easing:Wi}),p=n.animate([{opacity:1},{opacity:0}],{duration:50,delay:100}),g=[];for(let t=0;t<l.length;t++){const e=l[o?t:l.length-1-t],i=e.animate([{opacity:1},{opacity:0}],{duration:50,delay:50+d*t});i.addEventListener("finish",(()=>{e.classList.toggle("md-menu-hidden",!0)})),g.push([e,i])}return a.addEventListener("abort",(()=>{u.cancel(),h.cancel(),p.cancel(),g.forEach((([t,e])=>{e.cancel(),t.classList.toggle("md-menu-hidden",!1)})),e()})),u.addEventListener("finish",(()=>{n.classList.toggle("animating",!1),g.forEach((([t])=>{t.classList.toggle("md-menu-hidden",!1)})),this.openCloseAnimationSignal.finish(),this.dispatchEvent(new Event("closed")),t(!0)})),i}connectedCallback(){super.connectedCallback(),window.addEventListener("click",this.onWindowClick,{capture:!0}),this.toggleAttribute("md-menu",!0)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("click",this.onWindowClick,{capture:!0})}onCloseMenu(){this.close()}onDeactivateItems(t){t.stopPropagation();const e=this.items;for(const t of e)t.active=!1,t.selected=!1}handleDeactivateTypeahead(t){t.stopPropagation(),this.typeaheadActive=!1}handleActivateTypeahead(t){t.stopPropagation(),this.typeaheadActive=!0}handleStayOpenOnFocusout(t){t.stopPropagation(),this.stayOpenOnFocusout=!0}handleCloseOnFocusout(t){t.stopPropagation(),this.stayOpenOnFocusout=!1}focus(){this.listElement?.focus()}close(){this.open=!1,this.items.forEach((t=>{t.close?.()}))}show(){this.open=!0}activateNextItem(){return this.listElement?.activateNextItem()??null}activatePreviousItem(){return this.listElement?.activatePreviousItem()??null}}Ci(Zo),i([wt("md-list")],Zo.prototype,"listElement",void 0),i([wt(".menu")],Zo.prototype,"surfaceEl",void 0),i([wt("slot")],Zo.prototype,"slotEl",void 0),i([vt()],Zo.prototype,"anchor",void 0),i([vt({type:Boolean})],Zo.prototype,"fixed",void 0),i([vt({type:Boolean})],Zo.prototype,"quick",void 0),i([vt({type:Boolean,attribute:"has-overflow"})],Zo.prototype,"hasOverflow",void 0),i([vt({type:Boolean,reflect:!0})],Zo.prototype,"open",void 0),i([vt({type:Number,attribute:"x-offset"})],Zo.prototype,"xOffset",void 0),i([vt({type:Number,attribute:"y-offset"})],Zo.prototype,"yOffset",void 0),i([vt({type:Number,attribute:"list-tabindex"})],Zo.prototype,"listTabIndex",void 0),i([vt()],Zo.prototype,"type",void 0),i([vt({type:Number,attribute:"typeahead-delay"})],Zo.prototype,"typeaheadDelay",void 0),i([vt({attribute:"anchor-corner"})],Zo.prototype,"anchorCorner",void 0),i([vt({attribute:"menu-corner"})],Zo.prototype,"menuCorner",void 0),i([vt({type:Boolean,attribute:"stay-open-on-outside-click"})],Zo.prototype,"stayOpenOnOutsideClick",void 0),i([vt({type:Boolean,attribute:"stay-open-on-focusout"})],Zo.prototype,"stayOpenOnFocusout",void 0),i([vt({type:Boolean,attribute:"skip-restore-focus"})],Zo.prototype,"skipRestoreFocus",void 0),i([vt({attribute:"default-focus"})],Zo.prototype,"defaultFocus",void 0),i([bt()],Zo.prototype,"typeaheadActive",void 0),i([xt({capture:!0})],Zo.prototype,"handleListKeydown",null);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const $o=h`:host{--_container-color:var(--md-menu-container-color, var(--md-sys-color-surface-container, #f3edf7));--_container-elevation:var(--md-menu-container-elevation, 2);--_container-shadow-color:var(--md-menu-container-shadow-color, var(--md-sys-color-shadow, #000));--_container-shape:var(--md-menu-container-shape, 4px);--md-list-container-color:var(--_container-color);--md-elevation-level:var(--_container-elevation);--md-elevation-shadow-color:var(--_container-shadow-color);min-width:300px}md-focus-ring{--md-focus-ring-shape:var(--_container-shape)}.menu{border-radius:var(--_container-shape);display:none;opacity:0;z-index:20;position:absolute;user-select:none;max-height:inherit;height:inherit;min-width:inherit}.fixed{position:fixed}md-list{height:inherit;max-height:inherit;display:block;overflow:auto;min-width:inherit;border-radius:inherit}.has-overflow md-list{overflow:visible}.animating md-list{overflow:hidden}.has-overflow.animating md-list{pointer-events:none}.animating ::slotted(.md-menu-hidden){opacity:0}slot{display:block;height:inherit;max-height:inherit}`
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let Fo=class extends Zo{};Fo.styles=[$o,So],Fo=i([ft("md-menu")],Fo);
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Wo=t=>null!=t?t:H
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
Copyright (c) 2020 Citizens Foundation Iceland / Citizens Foundation USA LitElement Port. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/;let Vo=class extends pt{constructor(){super(...arguments),this.src="",this.alt=void 0,this.crossorigin=void 0,this.preventLoad=!1,this.sizing=void 0,this.position="center",this.preload=!1,this.placeholder=void 0,this.fade=!1,this.loaded=!1,this.loading=!1,this.error=!1,this.width=void 0,this.height=void 0,this._resolvedSrc=void 0,this.ABS_URL=/(^\/[^\/])|(^#)|(^[\w-\d]*:)/,this.workingURL=void 0,this.resolveDoc=void 0}static get styles(){return[h`:host{display:inline-block;overflow:hidden;position:relative}#baseURIAnchor{display:none}#sizedImgDiv{position:absolute;top:0;right:0;bottom:0;left:0;display:none}#img{display:block;width:var(--yp-image-width,auto);height:var(--yp-image-height,auto)}:host([sizing]) #sizedImgDiv{display:block}:host([sizing]) #img{display:none}#placeholder{position:absolute;top:0;right:0;bottom:0;left:0;background-color:inherit;opacity:1}#placeholder.faded-out{transition:opacity .5s linear;opacity:0}`]}render(){return W` <a id="baseURIAnchor" href="#"></a> <div id="sizedImgDiv" role="img" ?hidden="${this._computeImgDivHidden}" aria-hidden="${this._computeImgDivARIAHidden}" aria-label="${Wo(this._computeImgDivARIALabel)}"></div> <img id="img" alt="${this.alt?this.alt:""}" ?hidden="${this._computeImgHidden}" crossorigin="${Wo(this.crossorigin)}" @load="${this._imgOnLoad}" @error="${this._imgOnError}"> <div id="placeholder" ?hidden="${this.computePlaceholderHidden}" class="${this._computePlaceholderClassName}"></div> `}$$(t){return this.shadowRoot?this.shadowRoot.querySelector(t):null}connectedCallback(){super.connectedCallback(),this._resolvedSrc=""}_imgOnLoad(){this.$$("img").src===this._resolveSrc(this.src)&&(this.loading=!1,this.loaded=!0,this.error=!1)}_imgOnError(){this.$$("img").src===this._resolveSrc(this.src)&&(this.$$("img").removeAttribute("src"),this.$$("#sizedImgDiv").style.backgroundImage="",this.loading=!1,this.loaded=!1,this.error=!0)}get computePlaceholderHidden(){return!this.preload||!this.fade&&!this.loading&&this.loaded}_computePlaceholderClassName(){return this.preload&&this.fade&&!this.loading&&this.loaded?"faded-out":""}get _computeImgDivHidden(){return!this.sizing}get _computeImgDivARIAHidden(){return""===this.alt}get _computeImgDivARIALabel(){if(null!==this.alt)return this.alt;if(""===this.src)return"";const t=this._resolveSrc(this.src);return t?t.replace(/[?|#].*/g,"").split("/").pop():""}get _computeImgHidden(){return!!this.sizing}_widthChanged(){this.width&&(this.style.width=this.width+"px")}_heightChanged(){this.style.height=this.height+"px"}_loadStateObserver(){const t=this._resolveSrc(this.src);t!==this._resolvedSrc&&(this._resolvedSrc="",this.$$("img").removeAttribute("src"),this.$$("#sizedImgDiv").style.backgroundImage="",""===this.src||this.preventLoad?(this.loading=!1,this.loaded=!1,this.error=!1):(this._resolvedSrc=t,this._resolvedSrc&&(this.$$("img").src=this._resolvedSrc),this.$$("#sizedImgDiv").style.backgroundImage='url("'+this._resolvedSrc+'")',this.loading=!0,this.loaded=!1,this.error=!1))}_placeholderChanged(){this.$$("#placeholder").style.backgroundImage=this.placeholder?'url("'+this.placeholder+'")':""}_transformChanged(){const t=this.$$("#sizedImgDiv").style,e=this.$$("#placeholder").style;this.sizing&&(t.backgroundSize=e.backgroundSize=this.sizing),t.backgroundPosition=e.backgroundPosition=this.sizing?this.position:"",t.backgroundRepeat=e.backgroundRepeat=this.sizing?"no-repeat":""}_resolveSrc(t){let e=this.resolveUrl(t,this.$$("#baseURIAnchor").href);return e&&e.length>=2&&"/"===e[0]&&"/"!==e[1]&&(e=(location.origin||location.protocol+"//"+location.host)+e),e}resolveUrl(t,e){if(t&&this.ABS_URL.test(t))return t;if("//"===t)return t;if(void 0===this.workingURL){this.workingURL=!1;try{const t=new URL("b","http://a");t.pathname="c%20d",this.workingURL="http://a/c%20d"===t.href}catch(t){}}if(e||(e=document.baseURI||window.location.href),this.workingURL)try{return new URL(t,e).href}catch(e){return t}}updated(t){super.updated(t),t.has("placeHolder")&&this._placeholderChanged(),t.has("width")&&this._widthChanged(),t.has("height")&&this._widthChanged(),(t.has("sizing")||t.has("position"))&&this._transformChanged(),(t.has("src")||t.has("preventLoad"))&&this._loadStateObserver()}};i([vt({type:String}),n("design:type",String)],Vo.prototype,"src",void 0),i([vt({type:String}),n("design:type",String)],Vo.prototype,"alt",void 0),i([vt({type:String}),n("design:type",String)],Vo.prototype,"crossorigin",void 0),i([vt({type:Boolean}),n("design:type",Object)],Vo.prototype,"preventLoad",void 0),i([vt({type:String,reflect:!0}),n("design:type",String)],Vo.prototype,"sizing",void 0),i([vt({type:String}),n("design:type",Object)],Vo.prototype,"position",void 0),i([vt({type:Boolean}),n("design:type",Object)],Vo.prototype,"preload",void 0),i([vt({type:String}),n("design:type",String)],Vo.prototype,"placeholder",void 0),i([vt({type:Boolean}),n("design:type",Object)],Vo.prototype,"fade",void 0),i([vt({type:Boolean}),n("design:type",Object)],Vo.prototype,"loaded",void 0),i([vt({type:Boolean}),n("design:type",Object)],Vo.prototype,"loading",void 0),i([vt({type:Boolean}),n("design:type",Object)],Vo.prototype,"error",void 0),i([vt({type:String}),n("design:type",String)],Vo.prototype,"width",void 0),i([vt({type:String}),n("design:type",String)],Vo.prototype,"height",void 0),Vo=i([ft("yp-image")],Vo);
/**
@license
Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const Yo=h`
  display: -ms-flexbox;
  display: -webkit-flex;
  display: flex;
`;h`
  box-sizing: border-box;
`;const Ho=h`
  display: -ms-inline-flexbox;
  display: -webkit-inline-flex;
  display: inline-flex;
`,Xo=h`
  -ms-flex-direction: row;
  -webkit-flex-direction: row;
  flex-direction: row;
`,Jo=h`
  -ms-flex-direction: column;
  -webkit-flex-direction: column;
  flex-direction: column;
`,Qo=h`
  -ms-flex-wrap: wrap;
  -webkit-flex-wrap: wrap;
  flex-wrap: wrap;
`,Ko=h`
  -ms-flex-wrap: nowrap;
  -webkit-flex-wrap: nowrap;
  flex-wrap: nowrap;
`,qo=h`
  -ms-flex: 1 1 0.000000001px;
  -webkit-flex: 1;
  flex: 1;
  -webkit-flex-basis: 0.000000001px;
  flex-basis: 0.000000001px;
`,ta=h`
  -ms-flex: 1 1 auto;
  -webkit-flex: 1 1 auto;
  flex: 1 1 auto;
`,ea=h`
  -ms-flex: 1 1 auto;
  -webkit-flex: 1 1 auto;
  flex: 1 1 auto;
`,ia=h`
  display: none !important;
`,na=h`
  -ms-flex: 2;
  -webkit-flex: 2;
  flex: 2;
`,ra=h`
  -ms-flex: 3;
  -webkit-flex: 3;
  flex: 3;
`,oa=h`
  -ms-flex: 4;
  -webkit-flex: 4;
  flex: 4;
`,aa=h`
  -ms-flex: 5;
  -webkit-flex: 5;
  flex: 5;
`,sa=h`
  -ms-flex: 6;
  -webkit-flex: 6;
  flex: 6;
`,la=h`
  -ms-flex: 7;
  -webkit-flex: 7;
  flex: 7;
`,ca=h`
  -ms-flex: 8;
  -webkit-flex: 8;
  flex: 8;
`,da=h`
  -ms-flex: 9;
  -webkit-flex: 9;
  flex: 9;
`,ua=h`
  -ms-flex: 10;
  -webkit-flex: 10;
  flex: 10;
`,ha=h`
  -ms-flex: 11;
  -webkit-flex: 11;
  flex: 11;
`,pa=h`
  -ms-flex: 12;
  -webkit-flex: 12;
  flex: 12;
`,fa=h`
  -ms-flex-direction: row-reverse;
  -webkit-flex-direction: row-reverse;
  flex-direction: row-reverse;
`,ma=h`
  -ms-flex-direction: column-reverse;
  -webkit-flex-direction: column-reverse;
  flex-direction: column-reverse;
`,va=h`
  -ms-flex-wrap: wrap-reverse;
  -webkit-flex-wrap: wrap-reverse;
  flex-wrap: wrap-reverse;
`,ba=h`
  display: block;
`,ya=h`
  visibility: hidden !important;
`,xa=h`
  position: relative;
`,wa=h`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
`,Ia=h`
  -webkit-overflow-scrolling: touch;
  overflow: auto;
`,Ca=h`
  position: fixed;
`,Aa=h`
  top: 0;
  left: 0;
  right: 0;
`,Sa=h`
  top: 0;
  right: 0;
  bottom: 0;
`,ka=h`
  top: 0;
  bottom: 0;
  left: 0;
`,_a=h`
  right: 0;
  bottom: 0;
  left: 0;
`,Ta=h`
  -ms-flex-align: start;
  -webkit-align-items: flex-start;
  align-items: flex-start;
`,Pa=h`
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
`,Ma=h`
  -ms-flex-align: end;
  -webkit-align-items: flex-end;
  align-items: flex-end;
`,Na=h`
  -ms-flex-align: baseline;
  -webkit-align-items: baseline;
  align-items: baseline;
`,La=h`
  -ms-flex-pack: start;
  -webkit-justify-content: flex-start;
  justify-content: flex-start;
`,Oa=h`
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
`,Ea=h`
  -ms-flex-pack: end;
  -webkit-justify-content: flex-end;
  justify-content: flex-end;
`,Da=h`
  -ms-flex-pack: distribute;
  -webkit-justify-content: space-around;
  justify-content: space-around;
`,za=h`
  -ms-flex-pack: justify;
  -webkit-justify-content: space-between;
  justify-content: space-between;
`,ja=h`
  -ms-align-self: flex-start;
  -webkit-align-self: flex-start;
  align-self: flex-start;
`,Ra=h`
  -ms-align-self: center;
  -webkit-align-self: center;
  align-self: center;
`,Ga=h`
  -ms-align-self: flex-end;
  -webkit-align-self: flex-end;
  align-self: flex-end;
`,Ba=h`
  -ms-align-self: stretch;
  -webkit-align-self: stretch;
  align-self: stretch;
`,Ua=h`
  -ms-align-self: baseline;
  -webkit-align-self: baseline;
  align-self: baseline;
`,Za=h`
  -ms-flex-line-pack: start; /* IE10 */
  -ms-align-content: flex-start;
  -webkit-align-content: flex-start;
  align-content: flex-start;
`,$a=h`
  -ms-flex-line-pack: end; /* IE10 */
  -ms-align-content: flex-end;
  -webkit-align-content: flex-end;
  align-content: flex-end;
`,Fa=h`
  -ms-flex-line-pack: center; /* IE10 */
  -ms-align-content: center;
  -webkit-align-content: center;
  align-content: center;
`,Wa=h`
  -ms-flex-line-pack: justify; /* IE10 */
  -ms-align-content: space-between;
  -webkit-align-content: space-between;
  align-content: space-between;
`,Va=h`
  -ms-flex-line-pack: distribute; /* IE10 */
  -ms-align-content: space-around;
  -webkit-align-content: space-around;
  align-content: space-around;
`,Ya=h`.layout.horizontal,.layout.vertical{${Yo}}.layout.inline{${Ho}}.layout.horizontal{${Xo}}.layout.vertical{${Jo}}.layout.wrap{${Qo}}.layout.no-wrap{${Ko}}.layout.center,.layout.center-center{${Pa}}.layout.center-center,.layout.center-justified{${Oa}}.flex{${qo}}.flex-auto{${ta}}.flex-none{${ea}}.none{${ia}}`;h`.flex,.flex-1{${ta}}.flex-2{${na}}.flex-3{${ra}}.flex-4{${oa}}.flex-5{${aa}}.flex-6{${sa}}.flex-7{${la}}.flex-8{${ca}}.flex-9{${da}}.flex-10{${ua}}.flex-11{${ha}}.flex-12{${pa}}`,h`.layout.horizontal-reverse,.layout.vertical-reverse{${Yo}}.layout.horizontal-reverse{${fa}}.layout.vertical-reverse{${ma}}.layout.wrap-reverse{${va}}`,h`.block{${ba}}[hidden]{${ia}}.invisible{${ya}}.relative{${xa}}.fit{${wa}}body.fullbleed{margin:0;height:100vh}.scroll{${Ia}}.fixed-bottom,.fixed-left,.fixed-right,.fixed-top{${Ca}}.fixed-top{${Aa}}.fixed-right{${Sa}}.fixed-bottom{${_a}}.fixed-left{${ka}}`,h`
  .layout.start {
    ${Ta}
  }

  .layout.center,
  .layout.center-center {
    ${Pa}
  }

  .layout.end {
    ${Ma}
  }

  .layout.baseline {
    ${Na}
  }

  .layout.start-justified {
    ${La}
  }

  .layout.center-justified,
  .layout.center-center {
    ${Oa}
  }

  .layout.end-justified {
    ${Ea}
  }

  .layout.around-justified {
    ${Da}
  }

  .layout.justified {
    ${za}
  }

  .self-start {
   ${ja}

  .self-center {
   ${Ra}
  }

  .self-end {
    ${Ga}
  }

  .self-stretch {
   ${Ba}
  }

  .self-baseline {
   ${Ua}
  }

  .layout.start-aligned {
   ${Za}
  }

  .layout.end-aligned {
    ${$a}
  }

  .layout.center-aligned {
   ${Fa}
  }

  .layout.between-aligned {
    ${Wa}
  }

  .layout.around-aligned {
    ${Va}
  }
`;class Ha extends pt{constructor(){super(...arguments),this.language="en",this.wide=!1,this.rtl=!1,this.largeFont=!1,this.themeColor="#FFE800"}static get styles(){return[Ya]}connectedCallback(){super.connectedCallback(),this.addGlobalListener("yp-language-loaded",this._languageEvent.bind(this)),this.addGlobalListener("yp-large-font",this._largeFont.bind(this)),this.addGlobalListener("yp-theme-color",this._changeThemeColor.bind(this)),this.addGlobalListener("yp-theme-dark-mode",this._changeThemeDarkMode.bind(this)),window.appGlobals&&window.appGlobals.i18nTranslation&&window.appGlobals.locale?(this.language=window.appGlobals.locale,this._setupRtl()):this.language="en",((t,e)=>{let i=window.matchMedia(t);i.addListener((t=>e(t.matches))),e(i.matches)})("(min-width: 960px)",(t=>{this.wide=t}))}disconnectedCallback(){super.disconnectedCallback(),this.removeGlobalListener("yp-language-loaded",this._languageEvent.bind(this)),this.removeGlobalListener("yp-large-font",this._largeFont.bind(this)),this.removeGlobalListener("yp-theme-color",this._changeThemeColor.bind(this)),this.removeGlobalListener("yp-theme-dark-mode",this._changeThemeDarkMode.bind(this))}get isAppleDevice(){return/Macintosh|iPhone|iPad/.test(navigator.userAgent)}_changeThemeColor(t){this.themeColor=t.detail}_changeThemeDarkMode(t){this.themeDarkMode=t.detail}updated(t){t.has("language")&&this.languageChanged()}static get rtlLanguages(){return["fa","ar","ar_EG"]}languageChanged(){}_setupRtl(){Ha.rtlLanguages.indexOf(this.language)>-1?this.rtl=!0:this.rtl=!1}_largeFont(t){this.largeFont=t.detail}_languageEvent(t){this.language=t.detail.language,window.appGlobals.locale=t.detail.language,void 0!==this.rtl&&this._setupRtl()}fire(t,e={},i=this){const n=new CustomEvent(t,{detail:e,bubbles:!0,composed:!0});i.dispatchEvent(n)}fireGlobal(t,e={}){this.fire(t,e,document)}addListener(t,e,i=this){i.addEventListener(t,e,!1)}addGlobalListener(t,e){this.addListener(t,e,document)}removeListener(t,e,i=this){i.removeEventListener(t,e)}removeGlobalListener(t,e){this.removeListener(t,e,document)}t(...t){const e=t[0];if(window.appGlobals&&window.appGlobals.i18nTranslation){let t=window.appGlobals.i18nTranslation.t(e);return t||(t=""),t}return e}$$(t){return this.shadowRoot?this.shadowRoot.querySelector(t):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function Xa(t,e){!e.bubbles||t.shadowRoot&&!e.composed||e.stopPropagation();const i=Reflect.construct(e.constructor,[e.type,e]),n=t.dispatchEvent(i);return n||e.preventDefault(),n}function Ja(t){const e=new MouseEvent("click",{bubbles:!0});return t.dispatchEvent(e),e}function Qa(t){return t.currentTarget===t.target&&(t.composedPath()[0]===t.target&&(!t.target.disabled&&!function(t){const e=Ka;e&&(t.preventDefault(),t.stopImmediatePropagation());return async function(){Ka=!0,await null,Ka=!1}
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(),e}(t)))}i([vt({type:String}),n("design:type",Object)],Ha.prototype,"language",void 0),i([vt({type:Boolean}),n("design:type",Object)],Ha.prototype,"wide",void 0),i([vt({type:Boolean}),n("design:type",Object)],Ha.prototype,"rtl",void 0),i([vt({type:Boolean}),n("design:type",Object)],Ha.prototype,"largeFont",void 0),i([vt({type:String}),n("design:type",Object)],Ha.prototype,"themeColor",void 0),i([vt({type:Boolean}),n("design:type",Boolean)],Ha.prototype,"themeDarkMode",void 0);let Ka=!1;class qa extends pt{get name(){return this.getAttribute("name")??""}set name(t){this.setAttribute("name",t)}get form(){return this.internals.form}get labels(){return this.internals.labels}get validity(){return this.syncValidity(),this.internals.validity}get validationMessage(){return this.syncValidity(),this.internals.validationMessage}get willValidate(){return this.syncValidity(),this.internals.willValidate}constructor(){super(),this.checked=!1,this.disabled=!1,this.indeterminate=!1,this.required=!1,this.value="on",this.prevChecked=!1,this.prevDisabled=!1,this.prevIndeterminate=!1,this.internals=this.attachInternals(),this.addEventListener("click",(t=>{Qa(t)&&(this.focus(),Ja(this.input))}))}checkValidity(){return this.syncValidity(),this.internals.checkValidity()}reportValidity(){return this.syncValidity(),this.internals.reportValidity()}setCustomValidity(t){this.internals.setValidity({customError:!!t},t,this.getInput())}update(t){(t.has("checked")||t.has("disabled")||t.has("indeterminate"))&&(this.prevChecked=t.get("checked")??this.checked,this.prevDisabled=t.get("disabled")??this.disabled,this.prevIndeterminate=t.get("indeterminate")??this.indeterminate);const e=this.checked&&!this.indeterminate,i=String(this.checked);this.internals.setFormValue(e?this.value:null,i),super.update(t)}render(){const t=!this.prevChecked&&!this.prevIndeterminate,e=this.prevChecked&&!this.prevIndeterminate,i=this.prevIndeterminate,n=this.checked&&!this.indeterminate,r=this.indeterminate,o=Zi({disabled:this.disabled,selected:n||r,unselected:!n&&!r,checked:n,indeterminate:r,"prev-unselected":t,"prev-checked":e,"prev-indeterminate":i,"prev-disabled":this.prevDisabled}),{ariaLabel:a,ariaInvalid:s}=this;return W` <div class="container ${o}"> <input type="checkbox" id="input" aria-checked="${r?"mixed":H}" aria-label="${a||H}" aria-invalid="${s||H}" ?disabled="${this.disabled}" ?required="${this.required}" .indeterminate="${this.indeterminate}" .checked="${this.checked}" @change="${this.handleChange}"> <div class="outline"></div> <div class="background"></div> <md-focus-ring part="focus-ring" for="input"></md-focus-ring> <md-ripple for="input" ?disabled="${this.disabled}"></md-ripple> <svg class="icon" viewBox="0 0 18 18" aria-hidden="true"> <rect class="mark short"/> <rect class="mark long"/> </svg> </div> `}updated(){this.syncValidity()}handleChange(t){const e=t.target;this.checked=e.checked,this.indeterminate=e.indeterminate,Xa(this,t)}syncValidity(){const t=this.getInput();this.internals.validity.customError?t.setCustomValidity(this.internals.validationMessage):t.setCustomValidity(""),this.internals.setValidity(t.validity,t.validationMessage,this.getInput())}getInput(){return this.input||(this.connectedCallback(),this.performUpdate()),this.isUpdatePending&&this.scheduleUpdate(),this.input}formResetCallback(){this.checked=this.hasAttribute("checked")}formStateRestoreCallback(t){this.checked="true"===t}}Ci(qa),qa.shadowRootOptions={...pt.shadowRootOptions,delegatesFocus:!0},qa.formAssociated=!0,i([vt({type:Boolean})],qa.prototype,"checked",void 0),i([vt({type:Boolean,reflect:!0})],qa.prototype,"disabled",void 0),i([vt({type:Boolean})],qa.prototype,"indeterminate",void 0),i([vt({type:Boolean})],qa.prototype,"required",void 0),i([vt()],qa.prototype,"value",void 0),i([bt()],qa.prototype,"prevChecked",void 0),i([bt()],qa.prototype,"prevDisabled",void 0),i([bt()],qa.prototype,"prevIndeterminate",void 0),i([wt("input")],qa.prototype,"input",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const ts=h`:host{--_container-shape:var(--md-checkbox-container-shape, 2px);--_container-size:var(--md-checkbox-container-size, 18px);--_icon-size:var(--md-checkbox-icon-size, 18px);--_selected-container-color:var(--md-checkbox-selected-container-color, var(--md-sys-color-primary, #6750a4));--_selected-disabled-container-color:var(--md-checkbox-selected-disabled-container-color, var(--md-sys-color-on-surface, #1d1b20));--_selected-disabled-container-opacity:var(--md-checkbox-selected-disabled-container-opacity, 0.38);--_selected-disabled-icon-color:var(--md-checkbox-selected-disabled-icon-color, var(--md-sys-color-surface, #fef7ff));--_selected-focus-container-color:var(--md-checkbox-selected-focus-container-color, var(--md-sys-color-primary, #6750a4));--_selected-focus-icon-color:var(--md-checkbox-selected-focus-icon-color, var(--md-sys-color-on-primary, #fff));--_selected-hover-container-color:var(--md-checkbox-selected-hover-container-color, var(--md-sys-color-primary, #6750a4));--_selected-hover-icon-color:var(--md-checkbox-selected-hover-icon-color, var(--md-sys-color-on-primary, #fff));--_selected-hover-state-layer-color:var(--md-checkbox-selected-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--_selected-hover-state-layer-opacity:var(--md-checkbox-selected-hover-state-layer-opacity, 0.08);--_selected-icon-color:var(--md-checkbox-selected-icon-color, var(--md-sys-color-on-primary, #fff));--_selected-pressed-container-color:var(--md-checkbox-selected-pressed-container-color, var(--md-sys-color-primary, #6750a4));--_selected-pressed-icon-color:var(--md-checkbox-selected-pressed-icon-color, var(--md-sys-color-on-primary, #fff));--_selected-pressed-state-layer-color:var(--md-checkbox-selected-pressed-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_selected-pressed-state-layer-opacity:var(--md-checkbox-selected-pressed-state-layer-opacity, 0.12);--_state-layer-shape:var(--md-checkbox-state-layer-shape, 9999px);--_state-layer-size:var(--md-checkbox-state-layer-size, 40px);--_disabled-container-opacity:var(--md-checkbox-disabled-container-opacity, 0.38);--_disabled-outline-color:var(--md-checkbox-disabled-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-outline-width:var(--md-checkbox-disabled-outline-width, 2px);--_focus-outline-color:var(--md-checkbox-focus-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_focus-outline-width:var(--md-checkbox-focus-outline-width, 2px);--_hover-outline-color:var(--md-checkbox-hover-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-outline-width:var(--md-checkbox-hover-outline-width, 2px);--_hover-state-layer-color:var(--md-checkbox-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-state-layer-opacity:var(--md-checkbox-hover-state-layer-opacity, 0.08);--_outline-color:var(--md-checkbox-outline-color, var(--md-sys-color-on-surface-variant, #49454f));--_outline-width:var(--md-checkbox-outline-width, 2px);--_pressed-outline-color:var(--md-checkbox-pressed-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_pressed-outline-width:var(--md-checkbox-pressed-outline-width, 2px);--_pressed-state-layer-color:var(--md-checkbox-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-opacity:var(--md-checkbox-pressed-state-layer-opacity, 0.12);--_container-shape-start-start:var( --md-checkbox-container-shape-start-start, var(--_container-shape) );--_container-shape-start-end:var( --md-checkbox-container-shape-start-end, var(--_container-shape) );--_container-shape-end-end:var( --md-checkbox-container-shape-end-end, var(--_container-shape) );--_container-shape-end-start:var( --md-checkbox-container-shape-end-start, var(--_container-shape) );border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-end-radius:var(--_container-shape-end-end);border-end-start-radius:var(--_container-shape-end-start);display:inline-flex;height:var(--_container-size);position:relative;vertical-align:top;width:var(--_container-size);-webkit-tap-highlight-color:transparent}:host([touch-target=wrapper]){margin:max(0,(48px - var(--_container-size))/2)}md-focus-ring{height:44px;inset:unset;width:44px}input{appearance:none;height:48px;margin:0;opacity:0;outline:0;position:absolute;width:48px;z-index:1}:host([touch-target=none]) input{height:100%;width:100%}.container{border-radius:inherit;display:flex;height:100%;place-content:center;place-items:center;position:relative;width:100%}.background,.icon,.outline{inset:0;position:absolute}.background,.outline{border-radius:inherit}.outline{border-color:var(--_outline-color);border-style:solid;border-width:var(--_outline-width);box-sizing:border-box}.background{background-color:var(--_selected-container-color)}.background,.icon{opacity:0;transition-duration:150ms,50ms;transition-property:transform,opacity;transition-timing-function:cubic-bezier(.3,0,.8,.15),linear;transform:scale(.6)}:where(.selected) :is(.background,.icon){opacity:1;transition-duration:350ms,50ms;transition-timing-function:cubic-bezier(.05,.7,.1,1),linear;transform:scale(1)}md-ripple{border-radius:var(--_state-layer-shape);height:var(--_state-layer-size);inset:unset;width:var(--_state-layer-size);--md-ripple-hover-color:var(--_hover-state-layer-color);--md-ripple-hover-opacity:var(--_hover-state-layer-opacity);--md-ripple-pressed-color:var(--_pressed-state-layer-color);--md-ripple-pressed-opacity:var(--_pressed-state-layer-opacity)}.selected md-ripple{--md-ripple-hover-color:var(--_selected-hover-state-layer-color);--md-ripple-hover-opacity:var(--_selected-hover-state-layer-opacity);--md-ripple-pressed-color:var(--_selected-pressed-state-layer-color);--md-ripple-pressed-opacity:var(--_selected-pressed-state-layer-opacity)}.icon{fill:var(--_selected-icon-color);height:var(--_icon-size);width:var(--_icon-size)}.mark.short{height:2px;transition-property:transform,height;width:2px}.mark.long{height:2px;transition-property:transform,width;width:10px}.mark{animation-duration:150ms;animation-timing-function:cubic-bezier(.3,0,.8,.15);transition-duration:150ms;transition-timing-function:cubic-bezier(.3,0,.8,.15)}.selected .mark{animation-duration:350ms;animation-timing-function:cubic-bezier(.05,.7,.1,1);transition-duration:350ms;transition-timing-function:cubic-bezier(.05,.7,.1,1)}.checked .mark,.prev-checked.unselected .mark{transform:scaleY(-1) translate(7px,-14px) rotate(45deg)}.checked .mark.short,.prev-checked.unselected .mark.short{height:5.6568542495px}.checked .mark.long,.prev-checked.unselected .mark.long{width:11.313708499px}.indeterminate .mark,.prev-indeterminate.unselected .mark{transform:scaleY(-1) translate(4px,-10px) rotate(0)}.prev-unselected .mark{transition-property:none}.prev-unselected.checked .mark.long{animation-name:prev-unselected-to-checked}@keyframes prev-unselected-to-checked{from{width:0}}:where(:hover) .outline{border-color:var(--_hover-outline-color);border-width:var(--_hover-outline-width)}:where(:hover) .background{background:var(--_selected-hover-container-color)}:where(:hover) .icon{fill:var(--_selected-hover-icon-color)}:where(:focus-within) .outline{border-color:var(--_focus-outline-color);border-width:var(--_focus-outline-width)}:where(:focus-within) .background{background:var(--_selected-focus-container-color)}:where(:focus-within) .icon{fill:var(--_selected-focus-icon-color)}:where(:active) .outline{border-color:var(--_pressed-outline-color);border-width:var(--_pressed-outline-width)}:where(:active) .background{background:var(--_selected-pressed-container-color)}:where(:active) .icon{fill:var(--_selected-pressed-icon-color)}:where(.disabled,.prev-disabled) :is(.background,.icon,.mark){animation-duration:0s;transition-duration:0s}:where(.disabled) .outline{border-color:var(--_disabled-outline-color);border-width:var(--_disabled-outline-width);opacity:var(--_disabled-container-opacity)}:where(.selected.disabled) .outline{visibility:hidden}:where(.selected.disabled) .background{background:var(--_selected-disabled-container-color);opacity:var(--_selected-disabled-container-opacity)}:where(.disabled) .icon{fill:var(--_selected-disabled-icon-color)}@media(forced-colors:active){.background{background-color:CanvasText}.selected.disabled .background{background-color:GrayText;opacity:1}.outline{border-color:CanvasText}.disabled .outline{border-color:GrayText;opacity:1}.icon{fill:Canvas}}`
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let es=class extends qa{};
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
var is;es.styles=[ts],es=i([ft("md-checkbox")],es);class ns extends pt{get name(){return this.getAttribute("name")??""}set name(t){this.setAttribute("name",t)}get form(){return this[kn].form}constructor(){super(),this.disabled=!1,this.href="",this.target="",this.trailingIcon=!1,this.hasIcon=!1,this.type="submit",this.value="",this[is]=this.attachInternals(),this.handleActivationClick=t=>{Qa(t)&&this.buttonElement&&(this.focus(),Ja(this.buttonElement))},this.addEventListener("click",this.handleActivationClick)}focus(){this.buttonElement?.focus()}blur(){this.buttonElement?.blur()}render(){const t=this.disabled&&!this.href,e=this.href?un`a`:un`button`,{ariaLabel:i,ariaHasPopup:n,ariaExpanded:r}=this;return pn`
      <${e}
        class="button ${Zi(this.getRenderClasses())}"
        ?disabled=${t}
        aria-label="${i||H}"
        aria-haspopup="${n||H}"
        aria-expanded="${r||H}"
        href=${this.href||H}
        target=${this.target||H}
      >${this.renderContent()}</${e}>`}getRenderClasses(){return{"button--icon-leading":!this.trailingIcon&&this.hasIcon,"button--icon-trailing":this.trailingIcon&&this.hasIcon}}renderContent(){const t=this.disabled&&!this.href,e=W`<slot name="icon" @slotchange="${this.handleSlotChange}"></slot>`;return W` ${this.renderElevation?.()} ${this.renderOutline?.()} <md-focus-ring part="focus-ring"></md-focus-ring> <md-ripple class="button__ripple" ?disabled="${t}"></md-ripple> <span class="touch"></span> ${this.trailingIcon?H:e} <span class="button__label"><slot></slot></span> ${this.trailingIcon?e:H} `}handleSlotChange(){this.hasIcon=this.assignedIcons.length>0}}is=kn,Ci(ns),_n(ns),ns.formAssociated=!0,ns.shadowRootOptions={mode:"open",delegatesFocus:!0},i([vt({type:Boolean,reflect:!0})],ns.prototype,"disabled",void 0),i([vt()],ns.prototype,"href",void 0),i([vt()],ns.prototype,"target",void 0),i([vt({type:Boolean,attribute:"trailing-icon"})],ns.prototype,"trailingIcon",void 0),i([vt({type:Boolean,attribute:"has-icon"})],ns.prototype,"hasIcon",void 0),i([vt()],ns.prototype,"type",void 0),i([vt()],ns.prototype,"value",void 0),i([wt(".button")],ns.prototype,"buttonElement",void 0),i([At({slot:"icon",flatten:!0})],ns.prototype,"assignedIcons",void 0);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class rs extends ns{renderOutline(){return W`<span class="button__outline"></span>`}}
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */const os=h`:host{--_container-height:var(--md-outlined-button-container-height, 40px);--_container-shape:var(--md-outlined-button-container-shape, 9999px);--_disabled-label-text-color:var(--md-outlined-button-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity:var(--md-outlined-button-disabled-label-text-opacity, 0.38);--_disabled-outline-color:var(--md-outlined-button-disabled-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-outline-opacity:var(--md-outlined-button-disabled-outline-opacity, 0.12);--_focus-label-text-color:var(--md-outlined-button-focus-label-text-color, var(--md-sys-color-primary, #6750a4));--_hover-label-text-color:var(--md-outlined-button-hover-label-text-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-color:var(--md-outlined-button-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-opacity:var(--md-outlined-button-hover-state-layer-opacity, 0.08);--_label-text-color:var(--md-outlined-button-label-text-color, var(--md-sys-color-primary, #6750a4));--_label-text-font:var(--md-outlined-button-label-text-font, var(--md-sys-typescale-label-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height:var(--md-outlined-button-label-text-line-height, var(--md-sys-typescale-label-large-line-height, 1.25rem));--_label-text-size:var(--md-outlined-button-label-text-size, var(--md-sys-typescale-label-large-size, 0.875rem));--_label-text-weight:var(--md-outlined-button-label-text-weight, var(--md-sys-typescale-label-large-weight, var(--md-ref-typeface-weight-medium, 500)));--_outline-color:var(--md-outlined-button-outline-color, var(--md-sys-color-outline, #79747e));--_outline-width:var(--md-outlined-button-outline-width, 1px);--_pressed-label-text-color:var(--md-outlined-button-pressed-label-text-color, var(--md-sys-color-primary, #6750a4));--_pressed-outline-color:var(--md-outlined-button-pressed-outline-color, var(--md-sys-color-outline, #79747e));--_pressed-state-layer-color:var(--md-outlined-button-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-opacity:var(--md-outlined-button-pressed-state-layer-opacity, 0.12);--_disabled-icon-color:var(--md-outlined-button-disabled-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-icon-opacity:var(--md-outlined-button-disabled-icon-opacity, 0.38);--_focus-icon-color:var(--md-outlined-button-focus-icon-color, var(--md-sys-color-primary, #6750a4));--_hover-icon-color:var(--md-outlined-button-hover-icon-color, var(--md-sys-color-primary, #6750a4));--_icon-color:var(--md-outlined-button-icon-color, var(--md-sys-color-primary, #6750a4));--_icon-size:var(--md-outlined-button-icon-size, 18px);--_pressed-icon-color:var(--md-outlined-button-pressed-icon-color, var(--md-sys-color-primary, #6750a4));--_leading-space:var(--md-outlined-button-leading-space, 24px);--_trailing-space:var(--md-outlined-button-trailing-space, 24px);--_with-leading-icon-leading-space:var(--md-outlined-button-with-leading-icon-leading-space, 16px);--_with-leading-icon-trailing-space:var(--md-outlined-button-with-leading-icon-trailing-space, 24px);--_with-trailing-icon-leading-space:var(--md-outlined-button-with-trailing-icon-leading-space, 24px);--_with-trailing-icon-trailing-space:var(--md-outlined-button-with-trailing-icon-trailing-space, 16px);--_container-color:none;--_disabled-container-color:none;--_disabled-container-opacity:0;--_container-shape-start-start:var( --md-outlined-button-container-shape-start-start, var(--_container-shape) );--_container-shape-start-end:var( --md-outlined-button-container-shape-start-end, var(--_container-shape) );--_container-shape-end-end:var( --md-outlined-button-container-shape-end-end, var(--_container-shape) );--_container-shape-end-start:var( --md-outlined-button-container-shape-end-start, var(--_container-shape) )}.button__outline{inset:0;border-style:solid;position:absolute;box-sizing:border-box;border-color:var(--_outline-color);border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end)}.button:active .button__outline{border-color:var(--_pressed-outline-color)}.button:disabled .button__outline{border-color:var(--_disabled-outline-color);opacity:var(--_disabled-outline-opacity)}@media(forced-colors:active){.button:disabled .button__outline{opacity:1}}.button__outline,.button__ripple{border-width:var(--_outline-width)}.button__ripple{inline-size:calc(100% - 2*var(--_outline-width));block-size:calc(100% - 2*var(--_outline-width));border-style:solid;border-color:transparent}`
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */,as=h`:host{display:inline-flex;height:var(--_container-height);outline:0;font-family:var(--_label-text-font);font-size:var(--_label-text-size);line-height:var(--_label-text-line-height);font-weight:var(--_label-text-weight);-webkit-tap-highlight-color:transparent;vertical-align:top;--md-ripple-hover-color:var(--_hover-state-layer-color);--md-ripple-pressed-color:var(--_pressed-state-layer-color);--md-ripple-hover-opacity:var(--_hover-state-layer-opacity);--md-ripple-pressed-opacity:var(--_pressed-state-layer-opacity)}:host([touch-target=wrapper]){margin:max(0,(48px - var(--_container-height))/2) 0}md-focus-ring{--md-focus-ring-shape-start-start:var(--_container-shape-start-start);--md-focus-ring-shape-start-end:var(--_container-shape-start-end);--md-focus-ring-shape-end-end:var(--_container-shape-end-end);--md-focus-ring-shape-end-start:var(--_container-shape-end-start)}:host([disabled]){cursor:default;pointer-events:none}.button{display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-inline-size:64px;border:none;outline:0;user-select:none;-webkit-appearance:none;vertical-align:middle;background:rgba(0,0,0,0);text-decoration:none;inline-size:100%;position:relative;z-index:0;height:100%;font:inherit;color:var(--_label-text-color);padding-inline-start:var(--_leading-space);padding-inline-end:var(--_trailing-space);gap:8px}.button::before{background-color:var(--_container-color);border-radius:inherit;content:"";inset:0;position:absolute}.button::-moz-focus-inner{padding:0;border:0}.button:hover{color:var(--_hover-label-text-color);cursor:pointer}.button:focus{color:var(--_focus-label-text-color)}.button:active{color:var(--_pressed-label-text-color);outline:0}.button:disabled .button__label{color:var(--_disabled-label-text-color);opacity:var(--_disabled-label-text-opacity)}.button:disabled::before{background-color:var(--_disabled-container-color);opacity:var(--_disabled-container-opacity)}@media(forced-colors:active){.button::before{content:"";box-sizing:border-box;border:1px solid CanvasText;border-radius:inherit;inset:0;pointer-events:none;position:absolute}.button:disabled{--_disabled-icon-opacity:1;--_disabled-container-opacity:1;--_disabled-label-text-opacity:1}}.button,.button__ripple{border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end)}.button::after,.button::before,.button__ripple,md-elevation{z-index:-1}.button--icon-leading{padding-inline-start:var(--_with-leading-icon-leading-space);padding-inline-end:var(--_with-leading-icon-trailing-space)}.button--icon-trailing{padding-inline-start:var(--_with-trailing-icon-leading-space);padding-inline-end:var(--_with-trailing-icon-trailing-space)}.link-button-wrapper{inline-size:100%}.button ::slotted([slot=icon]){display:inline-flex;position:relative;writing-mode:horizontal-tb;fill:currentColor;color:var(--_icon-color);font-size:var(--_icon-size);inline-size:var(--_icon-size);block-size:var(--_icon-size)}.button:hover ::slotted([slot=icon]){color:var(--_hover-icon-color)}.button:focus ::slotted([slot=icon]){color:var(--_focus-icon-color)}.button:active ::slotted([slot=icon]){color:var(--_pressed-icon-color)}.button:disabled ::slotted([slot=icon]){color:var(--_disabled-icon-color);opacity:var(--_disabled-icon-opacity)}.touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}:host([touch-target=none]) .touch{display:none}`
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let ss=class extends rs{};ss.styles=[as,os],ss=i([ft("md-outlined-button")],ss);
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class ls extends pt{constructor(){super(...arguments),this.value=0,this.max=1,this.indeterminate=!1,this.fourColor=!1}render(){const{ariaLabel:t}=this;return W` <div class="progress ${Zi(this.getRenderClasses())}" role="progressbar" aria-label="${t||H}" aria-valuemin="0" aria-valuemax="${this.max}" aria-valuenow="${this.indeterminate?H:this.value}">${this.renderIndicator()}</div> `}getRenderClasses(){return{indeterminate:this.indeterminate,"four-color":this.fourColor}}}Ci(ls),i([vt({type:Number})],ls.prototype,"value",void 0),i([vt({type:Number})],ls.prototype,"max",void 0),i([vt({type:Boolean})],ls.prototype,"indeterminate",void 0),i([vt({type:Boolean,attribute:"four-color"})],ls.prototype,"fourColor",void 0);
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class cs extends ls{renderIndicator(){return this.indeterminate?this.renderIndeterminateContainer():this.renderDeterminateContainer()}renderDeterminateContainer(){const t=100*(1-this.value/this.max);return W` <svg viewBox="0 0 4800 4800"> <circle class="track" pathLength="100"></circle> <circle class="active-track" pathLength="100" stroke-dashoffset="${t}"></circle> </svg> `}renderIndeterminateContainer(){return W` <div class="spinner"> <div class="left"> <div class="circle"></div> </div> <div class="right"> <div class="circle"></div> </div> </div>`}}
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */const ds=h`:host{--_active-indicator-color: var(--md-circular-progress-active-indicator-color, var(--md-sys-color-primary, #6750a4));--_active-indicator-width: var(--md-circular-progress-active-indicator-width, 10);--_four-color-active-indicator-four-color: var(--md-circular-progress-four-color-active-indicator-four-color, var(--md-sys-color-tertiary-container, #ffd8e4));--_four-color-active-indicator-one-color: var(--md-circular-progress-four-color-active-indicator-one-color, var(--md-sys-color-primary, #6750a4));--_four-color-active-indicator-three-color: var(--md-circular-progress-four-color-active-indicator-three-color, var(--md-sys-color-tertiary, #7d5260));--_four-color-active-indicator-two-color: var(--md-circular-progress-four-color-active-indicator-two-color, var(--md-sys-color-primary-container, #eaddff));--_size: var(--md-circular-progress-size, 48px);display:inline-flex;vertical-align:middle;min-block-size:var(--_size);min-inline-size:var(--_size);position:relative;align-items:center;justify-content:center;contain:strict;content-visibility:auto}.progress{flex:1;align-self:stretch;margin:4px}.progress,.spinner,.left,.right,.circle,svg,.track,.active-track{position:absolute;inset:0}svg{transform:rotate(-90deg)}circle{cx:50%;cy:50%;r:calc(50%*(1 - var(--_active-indicator-width)/100));stroke-width:calc(var(--_active-indicator-width)*1%);stroke-dasharray:100;fill:rgba(0,0,0,0)}.active-track{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1);stroke:var(--_active-indicator-color)}.track{stroke:rgba(0,0,0,0)}.progress.indeterminate{animation:linear infinite linear-rotate;animation-duration:1568.2352941176ms}.spinner{animation:infinite both rotate-arc;animation-duration:5332ms;animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.left{overflow:hidden;inset:0 50% 0 0}.right{overflow:hidden;inset:0 0 0 50%}.circle{box-sizing:border-box;border-radius:50%;border:solid calc(var(--_active-indicator-width)/100*(var(--_size) - 8px));border-color:var(--_active-indicator-color) var(--_active-indicator-color) rgba(0,0,0,0) rgba(0,0,0,0);animation:expand-arc;animation-iteration-count:infinite;animation-fill-mode:both;animation-duration:1333ms,5332ms;animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.four-color .circle{animation-name:expand-arc,four-color}.left .circle{rotate:135deg;inset:0 -100% 0 0}.right .circle{rotate:100deg;inset:0 0 0 -100%;animation-delay:-666.5ms,0ms}@media(forced-colors: active){.active-track{stroke:CanvasText}.circle{border-color:CanvasText CanvasText Canvas Canvas}}@keyframes expand-arc{0%{transform:rotate(265deg)}50%{transform:rotate(130deg)}100%{transform:rotate(265deg)}}@keyframes rotate-arc{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes linear-rotate{to{transform:rotate(360deg)}}@keyframes four-color{0%{border-top-color:var(--_four-color-active-indicator-one-color);border-right-color:var(--_four-color-active-indicator-one-color)}15%{border-top-color:var(--_four-color-active-indicator-one-color);border-right-color:var(--_four-color-active-indicator-one-color)}25%{border-top-color:var(--_four-color-active-indicator-two-color);border-right-color:var(--_four-color-active-indicator-two-color)}40%{border-top-color:var(--_four-color-active-indicator-two-color);border-right-color:var(--_four-color-active-indicator-two-color)}50%{border-top-color:var(--_four-color-active-indicator-three-color);border-right-color:var(--_four-color-active-indicator-three-color)}65%{border-top-color:var(--_four-color-active-indicator-three-color);border-right-color:var(--_four-color-active-indicator-three-color)}75%{border-top-color:var(--_four-color-active-indicator-four-color);border-right-color:var(--_four-color-active-indicator-four-color)}90%{border-top-color:var(--_four-color-active-indicator-four-color);border-right-color:var(--_four-color-active-indicator-four-color)}100%{border-top-color:var(--_four-color-active-indicator-one-color);border-right-color:var(--_four-color-active-indicator-one-color)}}/*# sourceMappingURL=circular-progress-styles.css.map */
`
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let us=class extends cs{};us.styles=[ds],us=i([ft("md-circular-progress")],us);class hs extends Ha{constructor(){super(...arguments),this.childType="solution",this.showEloRatings=!1,this.activeSubProblemIndex=null,this.activeSolutionIndex=null,this.activePolicyIndex=null,this.activePopulationIndex=0,this.firstTimeSubProblemClick=!0,this.activeGroupIndex=null,this.longDescriptions=!1,this.displayStates=new Map,this.subProblemListScrollPositionX=0,this.subProblemListScrollPositionY=0,this.subProblemColors=[],this.maxTopSearchQueries=4,this.maxUsedSearchResults=1e3}connectedCallback(){super.connectedCallback(),this.memory&&(2==this.memory.groupId&&(this.maxTopSearchQueries=4,this.maxUsedSearchResults=1e3),2===this.memory.groupId&&(this.longDescriptions=!0),this.memory.subProblemClientColors?this.subProblemColors=this.memory.subProblemClientColors:this.subProblemColors=["#0b60b9","#ee782d","#face2d","#50c363","#cf1103","#e9a633","#87559b","#3f5fce"])}updateRoutes(){this.fire("update-route",{activeSolutionIndex:this.activeSolutionIndex,activeSubProblemIndex:this.activeSubProblemIndex,activePopulationIndex:this.activePopulationIndex})}updated(t){super.updated(t),(t.has("activeSolutionIndex")||t.has("activePolicyIndex")||t.has("activeSubProblemIndex")||t.has("activePopulationIndex"))&&this.updateRoutes(),t.has("activeSubProblemIndex")&&null!==this.activeSubProblemIndex&&this.setSubProblemColor(this.activeSubProblemIndex)}exitSubProblemScreen(){window.scrollTo(this.subProblemListScrollPositionX,this.subProblemListScrollPositionY)}async toggleDisplayState(t){const e=window.scrollY,i=this.displayStates.get(t);this.displayStates.set(t,!i),this.requestUpdate(),await this.updateComplete,window.scrollTo(0,e)}toggleScores(){const t=this.$$("#showScores");this.showEloRatings=t.checked,window.appGlobals.activity("View memory - toggle scores "+(this.showEloRatings?"on":"off"))}fixImageUrlIfNeeded(t){return t.startsWith("https")?t:`https://${t}`}static get styles(){return[super.styles,h`.topContainer{margin-right:32px;margin-top:24px;margin-bottom:64px}.topContainer[is-header]{width:100%;max-width:100%}.subProblemImage[is-header]{margin-bottom:32px;margin-top:0}.subProblemImage[not-header]{margin-bottom:16px;margin-top:-16px;margin-left:8px;margin-right:8px}.problemStatement{font-size:22px;padding:16px;margin:16px 0;border-radius:16px;line-height:1.5;background-color:var(--md-sys-color-surface);color:var(--md-sys-color-on-surface);max-width:960px;margin-bottom:0;padding-top:8px}.problemStatementText{padding:16px;font-size:26px}.subProblemStatement,.subProblemTitle{font-size:22px;padding:8px;margin:8px;border-radius:12px;line-height:1.4;max-width:960px}.subProblemStatement{padding-left:0;padding-right:16px}.subProblemStatement[not-header]{background-color:var(--md-sys-color-surface);color:var(--md-sys-color-on-surface)}.subProblemStatement[is-header]{font-size:18px}.subProblemTitle{font-size:26px;padding-bottom:0;font-family:'Roboto Condensed',sans-serif}.subProblemMainTitle{font-size:32px;margin-left:8px}.subProblemMainTitle[is-header]{margin-left:8px}.headerContainer[is-header]{position:relative;width:100%}.subProblem{opacity:1;border-radius:12px;padding:16px;margin:16px 0;background-color:var(--md-sys-color-primary-container);color:var(--md-sys-color-on-primary-container);margin-bottom:8px;padding-bottom:16px}.subProblem[is-header]{cursor:default;background-color:var(--md-sys-color-secondary-container);color:var(--md-sys-color-on-secondary-container);max-height:206px;margin:0;max-width:960px;margin-top:24px}.subProblem[is-wordy]{max-height:300px}.headerContainer[is-wordy]{padding-bottom:28px}.subProblem[not-header]{cursor:pointer;background-color:var(--md-sys-color-surface);color:var(--md-sys-color-on-surface);max-width:450px;margin-top:16px;margin-bottom:16px;padding-top:0;margin-right:16px;margin-left:16px}.navButton[is-header]{position:absolute;bottom:0;left:0}.title{font-family:'Roboto Condensed',sans-serif;font-size:32px;margin-bottom:8px;color:var(--md-sys-color-secondary);background-color:var(--md-sys-color-on-secondary);text-align:center;padding:16px;border-radius:16px;max-width:960px;margin-top:32px;width:100%}.smallerTitle{font-size:22px}.subProblem.lessProminent{opacity:.55}.profileImage{width:50px;height:50px;min-height:50px;min-width:50px;margin-right:8px}.searchResults{background-color:var(--md-sys-color-surface);color:var(--md-sys-color-on-surface)}.row{padding:8px;margin:8px;border-radius:16px;background-color:var(--md-sys-color-on-primary);color:var(--md-sys-color-primary);min-width:350px;width:550px;font-size:16px;vertical-align:center;padding-bottom:16px}.row[current-user]{background-color:var(--md-sys-color-teriary);color:var(--md-sys-color-on-primary)}.column{padding:8px;padding-bottom:0}.index{font-size:16px}.ideaName{padding-bottom:0;width:100%}.nameAndScore{width:100%}.subProblemContainer{width:100%}.scores{margin-top:16px;padding:16px;padding-top:12px;padding-bottom:12px;margin-bottom:0;text-align:center;background-color:var(--md-sys-color-surface-variant);color:var(--md-sys-color-on-surface-variant);border-radius:24px;font-size:14px;line-height:1.2}.checkboxText{color:var(--md-sys-color-primary);margin-top:14px}md-checkbox{padding-bottom:8px}.loading{display:flex;justify-content:center;align-items:center;width:100%;height:100vh}.scores[hidden]{display:none}.winLosses{margin-top:4px}.scoreAndNameContainer{width:100%}.exportButton{margin-bottom:128px;margin-top:32px}.queryType{font-size:18px;margin-top:16px;margin-bottom:8px}.query{font-size:16px;margin-bottom:0;opacity:.7}.queryUsed{font-weight:500;opacity:1}.card{padding:16px;padding-top:0;margin:8px;border-radius:8px;width:100%;max-width:960px;color:var(--md-sys-color-on-surface)}.searchItem{opacity:.5}a{color:var(--md-sys-color-on-surface)}.selectedSearchItem{opacity:1}.searchTitle{margin-top:16px}.url{margin-bottom:16px;margin-top:4px}.problemStatementImage{margin-top:24px}@media (max-width:960px){.problemStatementText{font-size:22px}.headerContainer[is-wordy]{padding-bottom:16px}.subProblemMainTitle{font-size:28px;line-height:1.3}.subProblemStatement,.subProblemTitle{font-size:18px;max-width:100%}.subProblemStatement{padding-left:8px;padding-right:8px}.subProblem{max-width:100%!important;height:100%;max-height:100%;padding:8px;padding-bottom:0}.subProblemStatement{padding:0;padding-bottom:32px}.subProblem[is-header]{max-width:100%!important;height:100%;max-height:100%}.subProblemMainTitle[is-header]{margin:8px;font-size:24px}.navButton[is-header]{position:absolute;bottom:0;right:0}.subProblemImage[is-header]{margin-bottom:8px}.title{margin-top:16px;max-width:100%;margin-right:8px;margin-left:8px;font-size:26px;border-radius:16px;max-width:100%}.smallerTitle{font-size:16px;max-width:320px}.topContainer{margin-left:16px;margin-right:16px}.problemStatement{font-size:18px;max-width:100%;margin-bottom:16px}.queryType{font-size:16px;margin-top:12px;margin-bottom:6px}.query{font-size:14px;margin-bottom:3px}}@media (min-width:960px){.questionTitle{margin-bottom:16px}}@media (max-width:960px){.loading{width:100vw;height:100vh}.searchTitle{max-width:320px}.problemStatement{padding-left:0;padding-right:0;padding-bottom:0;margin:0;margin-top:8px;margin-bottom:16px}.problemStatementText{margin-top:0;padding-top:0;margin-bottom:0;padding-bottom:0;font-size:16px}}`]}isUsedSearch(t,e){return e<this.maxUsedSearchResults||t.position&&t.position<=this.maxUsedSearchResults||t.originalPosition&&t.originalPosition<=this.maxUsedSearchResults?"selectedSearchItem":""}closeSubProblem(t){this.activeSubProblemIndex=null,t.stopPropagation(),this.fire("yp-theme-color",this.subProblemColors[7])}setSubProblemColor(t){t<7&&this.fire("yp-theme-color",this.subProblemColors[t])}setSubProblem(t){this.activeSubProblemIndex=t,this.subProblemListScrollPositionX=window.scrollX,this.subProblemListScrollPositionY=window.scrollY,window.scrollTo(0,0),(this.firstTimeSubProblemClick||null===this.activePopulationIndex)&&(this.firstTimeSubProblemClick=!1,this.memory.subProblems.length>0&&this.memory.subProblems[this.activeSubProblemIndex].solutions&&(this.activePopulationIndex=this.memory.subProblems[this.activeSubProblemIndex].solutions.populations.length-1)),this.updateRoutes(),window.appGlobals.activity("Sub Problem - click")}toggleDarkMode(){this.fire("yp-theme-dark-mode",!this.themeDarkMode),window.appGlobals.activity("Solutions - toggle darkmode")}renderThemeToggle(){return W`<div class="layout vertical center-center"> ${this.themeDarkMode?W` <md-outlined-icon-button class="darkModeButton" @click="${this.toggleDarkMode}"><md-icon>light_mode</md-icon></md-outlined-icon-button> `:W` <md-outlined-icon-button class="darkModeButton" @click="${this.toggleDarkMode}"><md-icon>dark_mode</md-icon></md-outlined-icon-button> `} </div> `}renderProblemStatement(t=void 0){return W` ${this.wide?H:W` ${this.renderThemeToggle()} `} ${this.memory.problemStatement.imageUrl?W` <img class="problemStatementImage" alt="${this.memory.problemStatement.imagePrompt}" title="${this.memory.problemStatement.imagePrompt}" width="${this.wide?650:340}" height="${this.wide?371:194}" src="${this.memory.problemStatement.imageUrl}"> `:W` <div class="title"> ${t||this.t("Problem Statement")} </div> `} <div class="problemStatement"> <div class="problemStatementText"> ${this.memory.problemStatement.description} </div> </div> `}renderSubProblemList(t,e=this.t("Sub Problems")){return W` <div class="topContainer layout vertical center-center"> ${this.renderProblemStatement()} <div class="title">${e}</div> <div class="subProblemContainer layout horizontal center-justified wrap"> ${t.map(((t,e)=>{const i=e>=7;return this.renderSubProblem(t,i,e)}))} </div> </div> `}getImgHeight(t){return this.wide?t?170:275:t?177:193}getImgWidth(t){return this.wide?t?298:481:t?310:350}renderSubProblemImageUrl(t,e){return W` <div class="layout horizontal ${t?"":"center-center"} subProblemImage"> <img loading="lazy" title="${e.imagePrompt}" alt="${e.imagePrompt}" ?is-header="${t}" ?not-header="${!t}" class="subProblemImage" height="${this.getImgHeight(t)}" width="${this.getImgWidth(t)}" src="${this.fixImageUrlIfNeeded(e.imageUrl)}"> </div> `}renderSubProblem(t,e,i,n=!1,r=!1,o=!1){return W` <div ?is-wordy="${n&&this.longDescriptions}" ?not-header="${!n}" ?is-header="${n}" class="subProblem ${e?"lessProminent":""}" @click="${()=>{n||this.setSubProblem(i)}}"> <div class="subProblemTitle layout ${n?this.wide?"horizontal":"vertical":"vertical center-center"}"> ${t.imageUrl&&!n||!this.wide?this.renderSubProblemImageUrl(n,t):H} <div ?is-wordy="${this.longDescriptions}" ?is-header="${n}" ?not-header="${!n}" class="layout headerContainer ${"horizontal"}"> <div class="layout vertical"> <div class="subProblemMainTitle" ?is-header="${n}"> ${t.title} </div> <div ?hidden="${!n}" ?is_header="${n}" class="subProblemStatement"> ${t.displayDescription||t.description} </div> </div> ${t.imageUrl&&n&&this.wide?this.renderSubProblemImageUrl(n,t):H} <div ?is-header="${n}" class="navButton ${n?"horizontal flex":""}"> ${n&&!o?W` <md-icon-button aria-label="Previous" .disabled="${0===this.activeSubProblemIndex}" @click="${t=>{t.stopPropagation(),this.activeSubProblemIndex>0&&(this.activeSubProblemIndex-=1,this.setSubProblemColor(this.activeSubProblemIndex),this.activeGroupIndex=null,window.appGlobals.activity("Sub Problem - click previous"))}}"> <md-icon>navigate_before</md-icon> </md-icon-button> <md-icon-button id="nextButton" aria-label="Next" .disabled="${6===this.activeSubProblemIndex}" @click="${t=>{t.stopPropagation(),!this.$$("#nextButton").disabled&&this.activeSubProblemIndex<6&&(this.activeSubProblemIndex+=1,this.setSubProblemColor(this.activeSubProblemIndex),this.activeGroupIndex=null,window.appGlobals.activity("Sub Problem - click next"))}}"> <md-icon>navigate_next</md-icon> </md-icon-button> <md-icon-button aria-label="Close" @click="${t=>{t.stopPropagation(),this.activeSubProblemIndex=null,this.fire("yp-theme-color",this.subProblemColors[7]),this.exitSubProblemScreen(),this.activeGroupIndex=null,window.appGlobals.activity("Sub Problem - exit")}}"> <md-icon>close</md-icon> </md-icon-button> `:H} </div> </div> </div> <div ?hidden="${n}" class="subProblemStatement"> ${t.displayDescription||t.description} </div> ${r&&!n?W` <div class="subProblemStatement"> ${t.whyIsSubProblemImportant} </div> `:H} </div> `}renderSearchQueries(t,e){return e?W` <div class="title smallerTitle layout horizontal center-center" @click="${e=>{e.stopPropagation(),this.toggleDisplayState(t)}}"> <div class="flex"></div> <div>${t}</div> <div class="flex"></div> <md-icon-button><md-icon>expand_more</md-icon></md-icon-button> </div> <div class="searchResults layout vertical self-start"> ${this.displayStates.get(t)?Object.entries(e).map((([t,e])=>0===e.length?H:W` <div class="queryType">${t}</div> ${e.map(((t,e)=>W` <div class="column"> <div class="query ${e<this.maxTopSearchQueries?"queryUsed":""}"> ${t} </div> </div> `))} `)):H} </div> `:H}getUrlInRightSize(t){return!this.wide&&t.length>30?`${t.substring(0,30)}...`:t}renderSearchResults(t,e){return e&&e.pages?W` <div class="title smallerTitle layout horizontal" @click="${e=>{e.stopPropagation(),this.toggleDisplayState(t)}}"> <div class="flex"></div> <div>${t}</div> <div class="flex"></div> <md-icon-button><md-icon>expand_more</md-icon></md-icon-button> </div> <div class="searchResults"> ${this.displayStates.get(t)?Object.entries(e.pages).map((([t,e])=>0===e.length?H:W` <div class="queryType">${t}</div> <div class="card"> ${e.map(((t,e)=>W` <div class="searchItem ${this.isUsedSearch(t,e)}"> <div class="searchTitle">${t.title}</div> <div class="url"> <a target="blank" href="${t.url||t.link}" target="_blank"> ${this.getUrlInRightSize(t.url||t.link)} </a> </div> </div> `))} </div> `)):H} </div> `:H}}i([vt({type:Object}),n("design:type",Object)],hs.prototype,"memory",void 0),i([vt({type:String}),n("design:type",String)],hs.prototype,"childType",void 0),i([vt({type:Boolean}),n("design:type",Object)],hs.prototype,"showEloRatings",void 0),i([vt({type:Number}),n("design:type",Number)],hs.prototype,"activeSubProblemIndex",void 0),i([vt({type:Number}),n("design:type",Number)],hs.prototype,"activeSolutionIndex",void 0),i([vt({type:Number}),n("design:type",Number)],hs.prototype,"activePolicyIndex",void 0),i([vt({type:Number}),n("design:type",Object)],hs.prototype,"activePopulationIndex",void 0),i([vt({type:Boolean}),n("design:type",Object)],hs.prototype,"firstTimeSubProblemClick",void 0),i([vt({type:Number}),n("design:type",Number)],hs.prototype,"activeGroupIndex",void 0),i([vt({type:Boolean}),n("design:type",Object)],hs.prototype,"longDescriptions",void 0),i([vt({type:Object}),n("design:type",kr)],hs.prototype,"router",void 0),i([bt(),n("design:type",Object)],hs.prototype,"displayStates",void 0);const ps=.03/1e3,gs=.06/1e3,fs=4e4,ms=200;class vs{static simplifyEvidenceType(t){let e=t.replace(/allPossible/g,"").replace(/IdentifiedInTextContext/g,"");return e=e.charAt(0).toLowerCase()+e.slice(1),e}}vs.createSubProblemsModel={name:"gpt-4",temperature:.7,maxOutputTokens:4500,tokenLimit:8192,inTokenCostUSD:ps,outTokenCostUSD:gs,limitTPM:fs,limitRPM:ms,verbose:!0},vs.policiesSeedModel={name:"gpt-4",temperature:.7,maxOutputTokens:4096,tokenLimit:8192,inTokenCostUSD:ps,outTokenCostUSD:gs,limitTPM:fs,limitRPM:ms,verbose:!1},vs.analyseExternalSolutionsModel={name:"gpt-4",temperature:0,maxOutputTokens:256,tokenLimit:8192,inTokenCostUSD:ps,outTokenCostUSD:gs,limitTPM:fs,limitRPM:ms,verbose:!1},vs.createEntitiesModel={name:"gpt-4",temperature:.7,maxOutputTokens:2048,tokenLimit:8192,inTokenCostUSD:ps,outTokenCostUSD:gs,limitTPM:fs,limitRPM:ms,verbose:!0},vs.topicMapSolutionsModel={inTokenCostsUSD:1e-4},vs.createSolutionImagesModel={name:"gpt-4",temperature:.7,maxOutputTokens:256,tokenLimit:8192,inTokenCostUSD:ps,outTokenCostUSD:gs,limitTPM:fs,limitRPM:ms,verbose:!1},vs.createSearchQueriesModel={name:"gpt-4",temperature:.7,maxOutputTokens:1024,tokenLimit:8192,inTokenCostUSD:ps,outTokenCostUSD:gs,limitTPM:fs,limitRPM:ms,verbose:!0},vs.createEvidenceSearchQueriesModel={name:"gpt-4",temperature:.5,maxOutputTokens:1024,tokenLimit:8192,inTokenCostUSD:ps,outTokenCostUSD:gs,limitTPM:fs,limitRPM:ms,verbose:!1},vs.searchQueryRankingsModel={name:"gpt-4",temperature:0,maxOutputTokens:2,tokenLimit:8192,inTokenCostUSD:ps,outTokenCostUSD:gs,limitTPM:fs,limitRPM:ms,verbose:!0},vs.searchResultsRankingsModel={name:"gpt-4",temperature:0,maxOutputTokens:2,tokenLimit:8192,inTokenCostUSD:ps,outTokenCostUSD:gs,limitTPM:fs,limitRPM:ms,verbose:!1},vs.subProblemsRankingsModel={name:"gpt-4",temperature:0,maxOutputTokens:2,tokenLimit:8192,inTokenCostUSD:ps,outTokenCostUSD:gs,limitTPM:fs,limitRPM:ms,verbose:!0},vs.entitiesRankingsModel={name:"gpt-4",temperature:0,maxOutputTokens:2,tokenLimit:8192,inTokenCostUSD:ps,outTokenCostUSD:gs,limitTPM:fs,limitRPM:ms,verbose:!0},vs.solutionsRankingsModel={name:"gpt-4",temperature:0,maxOutputTokens:2,tokenLimit:8192,inTokenCostUSD:ps,outTokenCostUSD:gs,limitTPM:fs,limitRPM:ms,verbose:!1},vs.prosConsRankingsModel={name:"gpt-3.5-turbo",temperature:0,maxOutputTokens:2,tokenLimit:8192,inTokenCostUSD:15e-7,outTokenCostUSD:2e-6,limitTPM:18e4,limitRPM:3500,verbose:!1},vs.getPageAnalysisModel={name:"gpt-3.5-turbo-16k",temperature:0,maxOutputTokens:2048,tokenLimit:16385,inTokenCostUSD:3e-6,outTokenCostUSD:4e-6,limitTPM:75e4,limitRPM:1e4,verbose:!1},vs.rankWebSolutionsModel={name:"gpt-4",temperature:0,maxOutputTokens:2048,tokenLimit:4096,inTokenCostUSD:ps,outTokenCostUSD:gs,limitTPM:fs,limitRPM:ms,verbose:!1},vs.rateWebEvidenceModel={name:"gpt-4",temperature:0,maxOutputTokens:2048,tokenLimit:4096,inTokenCostUSD:ps,outTokenCostUSD:gs,limitTPM:fs,limitRPM:ms,verbose:!1},vs.rankWebEvidenceModel={name:"gpt-4",temperature:0,maxOutputTokens:2048,tokenLimit:4096,inTokenCostUSD:ps,outTokenCostUSD:gs,limitTPM:fs,limitRPM:ms,verbose:!1},vs.getRefinedEvidenceModel={name:"gpt-4",temperature:0,maxOutputTokens:1750,tokenLimit:8192,inTokenCostUSD:ps,outTokenCostUSD:gs,limitTPM:fs,limitRPM:ms,verbose:!1},vs.reapSolutionsModel={name:"gpt-4",temperature:0,maxOutputTokens:128,tokenLimit:8192,inTokenCostUSD:ps,outTokenCostUSD:gs,limitTPM:fs,limitRPM:ms,verbose:!1},vs.groupSolutionsModel={name:"gpt-4",temperature:0,maxOutputTokens:2048,tokenLimit:8192,inTokenCostUSD:ps,outTokenCostUSD:gs,limitTPM:fs,limitRPM:ms,verbose:!1},vs.rateSolutionsModel={name:"gpt-4",temperature:0,maxOutputTokens:1024,tokenLimit:8192,inTokenCostUSD:ps,outTokenCostUSD:gs,limitTPM:fs,limitRPM:ms,verbose:!1},vs.createSolutionsModel={name:"gpt-4",temperature:.5,maxOutputTokens:1200,tokenLimit:8192,inTokenCostUSD:ps,outTokenCostUSD:gs,limitTPM:fs,limitRPM:ms,verbose:!1},vs.evolveSolutionsModel={name:"gpt-4",temperature:.5,maxOutputTokens:1200,tokenLimit:8192,inTokenCostUSD:ps,outTokenCostUSD:gs,limitTPM:fs,limitRPM:ms,verbose:!1},vs.createProsConsModel={name:"gpt-4",temperature:.7,maxOutputTokens:2048,tokenLimit:8192,inTokenCostUSD:ps,outTokenCostUSD:gs,limitTPM:fs,limitRPM:ms,verbose:!1},vs.evolutionMutateModel={name:"gpt-4",temperature:.7,maxOutputTokens:1024,tokenLimit:8192,inTokenCostUSD:ps,outTokenCostUSD:gs,limitTPM:fs,limitRPM:ms,verbose:!1},vs.evolutionRecombineModel={name:"gpt-4",temperature:.7,maxOutputTokens:1024,tokenLimit:8192,inTokenCostUSD:ps,outTokenCostUSD:gs,limitTPM:fs,limitRPM:ms,verbose:!1},vs.getPageCacheExpiration=14515200,vs.maxSubProblems=7,vs.maxNumberGeneratedOfEntities=7,vs.maxStabilityRetryCount=14,vs.mainLLMmaxRetryCount=40,vs.limitedLLMmaxRetryCount=10,vs.rankingLLMmaxRetryCount=40,vs.maxTopEntitiesToSearch=4,vs.maxTopEntitiesToRender=3,vs.maxTopQueriesToSearchPerType=4,vs.maxTopEvidenceQueriesToSearchPerType=4,vs.mainSearchRetryCount=40,vs.maxDalleRetryCount=7,vs.maxTopWebPagesToGet=10,vs.maxWebPagesToGetByTopSearchPosition=10,vs.maxEvidenceWebPagesToGetByTopSearchPosition=10,vs.maxBingSearchResults=10,vs.maxTopProsConsUsedForRating=2,vs.maxNumberGeneratedProsConsForSolution=3,vs.minSleepBeforeBrowserRequest=50,vs.maxAdditionalRandomSleepBeforeBrowserRequest=100,vs.numberOfSearchTypes=4,vs.webPageNavTimeout=6e4,vs.currentUserAgent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36",vs.topItemsToKeepForTopicClusterPruning=5,vs.chances={createSolutions:{searchQueries:{useMainProblemSearchQueries:.01,useOtherSubProblemSearchQueries:.09,useSubProblemSearchQueries:.45,useRandomEntitySearchQueries:.45},webSolutions:{top:.2,topThree:.45,topSeven:.25,all:.1},notUsingTopSearchQueries:.5,vectorSearchAcrossAllProblems:.01}},vs.maxTopSearchQueriesForSolutionCreation=8,vs.limits={webPageVectorResultsForNewSolutions:14,useRandomTopFromVectorSearchResults:14},vs.enable={refine:{createSubProblems:!0,createEntities:!0,createSolutions:!0,createProsCons:!0,policiesSeed:!0}},vs.evolution={populationSize:80,limitTopTopicClusterElitesToEloRating:850,keepElitePercent:.1,randomImmigrationPercent:.4,mutationOffspringPercent:.4,crossoverPercent:.1,lowMutationRate:.4,mediumMutationRate:.4,highMutationRate:.2,selectParentTournamentSize:7,crossoverMutationPercent:.1},vs.maxPercentOfEloMatched=.75,vs.minimumNumberOfPairwiseVotesForPopulation=8,vs.maxNumberOfPairwiseRankingPrompts=vs.evolution.populationSize*vs.minimumNumberOfPairwiseVotesForPopulation,vs.maxTopSolutionsToCreatePolicies=3,vs.maxTopPoliciesToProcess=1,vs.maxEvidenceToUseForRatingEvidence=5,vs.policyEvidenceFieldTypes=["allPossiblePositiveEvidenceIdentifiedInTextContext","allPossibleNegativeEvidenceIdentifiedInTextContext","allPossibleNeutralEvidenceIdentifiedInTextContext","allPossibleEconomicEvidenceIdentifiedInTextContext","allPossibleScientificEvidenceIdentifiedInTextContext","allPossibleCulturalEvidenceIdentifiedInTextContext","allPossibleEnvironmentalEvidenceIdentifiedInTextContext","allPossibleLegalEvidenceIdentifiedInTextContext","allPossibleTechnologicalEvidenceIdentifiedInTextContext","allPossibleGeopoliticalEvidenceIdentifiedInTextContext","allPossibleCaseStudiesIdentifiedInTextContext","allPossibleStakeholderOpinionsIdentifiedInTextContext","allPossibleExpertOpinionsIdentifiedInTextContext","allPossiblePublicOpinionsIdentifiedInTextContext","allPossibleHistoricalContextIdentifiedInTextContext","allPossibleEthicalConsiderationsIdentifiedInTextContext","allPossibleLongTermImpactIdentifiedInTextContext","allPossibleShortTermImpactIdentifiedInTextContext","allPossibleLocalPerspectiveIdentifiedInTextContext","allPossibleGlobalPerspectiveIdentifiedInTextContext","allPossibleCostAnalysisIdentifiedInTextContext","allPossibleImplementationFeasibilityIdentifiedInTextContext"];let bs=class extends hs{constructor(){super(...arguments),this.maxNumberOfTopEntities=4}async connectedCallback(){super.connectedCallback(),window.appGlobals.activity("Web research - open"),1===this.memory.groupId&&(this.maxNumberOfTopEntities=3)}updated(t){super.updated(t)}disconnectedCallback(){super.disconnectedCallback(),window.appGlobals.activity("Web research - close")}static get styles(){return[super.styles,h`.subProblemContainer{margin-top:64px}.entity{width:940px;max-width:100%;color:var(--md-sys-color-on-surface);background-color:var(--md-sys-color-surface)}.entity[not-scanned]{opacity:.5}.entityName{margin-top:24px;margin-bottom:8px;width:100%;font-size:20px;font-weight:700}.entityName[not-scanned]{font-weight:300}.negPos{width:100%;margin-top:16px}@media (max-width:960px){.entity{width:100%}.entityName{font-size:18px}}`]}render(){return W` <div class="topContainer layout vertical center-center"> ${this.renderProblemStatement(this.t("Automated Web Research"))} ${this.renderSearchQueries(this.t("Search queries for problem statement"),this.memory.problemStatement.searchQueries)} ${this.renderSearchResults(this.t("Webpages scanned for solutions to problem statement"),this.memory.problemStatement.searchResults)} ${this.renderSubProblemsWithAll()} </div> `}renderEntities(t){return W` ${t.entities.map(((t,e)=>{const i=e>=this.maxNumberOfTopEntities;return W` <div class="layout vertical center-center"> <div class="entity ${i?"lessProminent":""}" ?not-scanned="${i}"> <div class="entityName" ?not-scanned="${i}"> ${t.name} </div> <div class="negPos"> ${t.negativeEffects?.length>0?W` <div> Negative Effects: <ul> ${t.negativeEffects?.map((t=>W` <li>${t}</li> `))} </ul> </div> `:H} ${t.positiveEffects?.length>0?W` <div> Positive Effects: <ul> ${t.positiveEffects?.map((t=>W` <li>${t}</li> `))} </ul> </div> `:H} ${i?H:W` ${this.renderSearchQueries(this.t("Search queries for entity"),t.searchQueries)} ${this.renderSearchResults(this.t("Webpages scanned for solutions to entites problems"),t.searchResults)} `} </div> </div> </div> `}))} `}renderSubProblemsWithAll(){const t=this.memory.subProblems.slice(0,vs.maxSubProblems);return W` ${t.map((t=>W` <div class="subProblemContainer layout vertical center-center"> ${this.renderSubProblem(t,!1,0,!0,!0,!0)} ${this.renderSearchQueries(this.t("Search queries for sub problem"),t.searchQueries)} ${this.renderSearchResults(this.t("Webpages scanned for solutions to sub problem"),t.searchResults)} ${this.renderEntities(t)} </div> `))} `}};bs=i([ft("cps-web-research")],bs);class ys{constructor(){this.addGlobalListener("yp-language-loaded",this._languageEvent.bind(this)),window.appGlobals&&window.appGlobals.i18nTranslation&&window.appGlobals.locale?this.language=window.appGlobals.locale:this.language="en"}_languageEvent(t){const e=t.detail;this.language=e.language,window.appGlobals.locale=e.language}fire(t,e={},i){const n=new CustomEvent(t,{detail:e,bubbles:!0,composed:!0});i.dispatchEvent(n)}fireGlobal(t,e={}){this.fire(t,e,document)}addListener(t,e,i){i.addEventListener(t,e,!1)}addGlobalListener(t,e){this.addListener(t,e,document)}showToast(t,e=4e3){window.appDialogs.getDialogAsync("masterToast",(i=>{i.labelText=t,i.timeoutMs=e,i.open=!0}))}removeListener(t,e,i){i.removeEventListener(t,e)}removeGlobalListener(t,e){this.removeListener(t,e,document)}t(...t){const e=t[0];if(window.appGlobals.i18nTranslation){let t=window.appGlobals.i18nTranslation.t(e);return t||(t=""),t}return""}}class xs extends ys{constructor(){super(...arguments),this.baseUrlPath="/api"}static transformCollectionTypeToApi(t){let e;switch(t){case"domain":e="domains";break;case"community":e="communities";break;case"group":e="groups";break;case"post":e="posts";break;case"user":e="users";break;default:e="",console.error(`Cant find collection type transform for ${t}`)}return e}async fetchWrapper(t,e={},i=!0,n=void 0){if(e.headers||(e.headers={"Content-Type":"application/json"}),e.method,navigator.onLine||"POST"!==e.method||void 0===window.fetch){if(!navigator.onLine&&["POST","PUT","DELETE"].indexOf(e.method)>-1)throw this.showToast(this.t("youAreOfflineCantSend")),new Error("offlineSendLater");{const r=await fetch(t,e);return this.handleResponse(r,i,n)}}throw window.appGlobals.offline.sendWhenOnlineNext({body:e.body,method:e.method,headers:e.headers,params:{},url:t}),new Error("offlineSendLater")}async handleResponse(t,e,i=void 0){if(t.ok){let n=null;try{n=await t.json()}catch(n){200===t.status&&"OK"===t.statusText||this.fireGlobal("yp-network-error",{response:t,jsonError:n,showUserError:e,errorId:i})}return null===n||n}return this.fireGlobal("yp-network-error",{response:t,showUserError:e,errorId:i}),null}}class ws extends xs{constructor(t="/api"){super(),this.baseUrlPath=t}boot(){return this.fetchWrapper(this.baseUrlPath+"/domains")}isloggedin(){return this.fetchWrapper(this.baseUrlPath+"/users/loggedInUser/isloggedin")}getAdminRights(){return this.fetchWrapper(this.baseUrlPath+"/users/loggedInUser/adminRights")}getMemberships(){return this.fetchWrapper(this.baseUrlPath+"/users/loggedInUser/memberships")}getAdminRightsWithNames(){return this.fetchWrapper(this.baseUrlPath+"/users/loggedInUser/adminRightsWithNames")}getMembershipsWithNames(){return this.fetchWrapper(this.baseUrlPath+"/users/loggedInUser/membershipsWithNames")}logout(){return this.fetchWrapper(this.baseUrlPath+"/users/logout",{method:"POST"})}setLocale(t){return this.fetchWrapper(this.baseUrlPath+"/users/loggedInUser/setLocale",{method:"PUT",body:JSON.stringify(t)},!1)}getRecommendationsForGroup(t){return this.fetchWrapper(this.baseUrlPath+`/recommendations/groups/${t}/getPostRecommendations`,{method:"PUT",body:JSON.stringify({})})}hasVideoUploadSupport(){return this.fetchWrapper(this.baseUrlPath+"/videos/hasVideoUploadSupport")}hasAudioUploadSupport(){return this.fetchWrapper(this.baseUrlPath+"/audios/hasAudioUploadSupport")}sendVideoView(t){return this.fetchWrapper(this.baseUrlPath+"/videos/videoView",{method:"PUT",body:JSON.stringify(t)},!1)}sendAudioView(t){return this.fetchWrapper(this.baseUrlPath+"/audios/videoView",{method:"PUT",body:JSON.stringify(t)},!1)}createActivityFromApp(t){return this.fetchWrapper(this.baseUrlPath+"/users/createActivityFromApp",{method:"POST",body:JSON.stringify(t)},!1)}marketingTrackingOpen(t,e){return this.fetchWrapper(this.baseUrlPath+`/groups/${t}/marketingTrackingOpen`,{method:"POST",body:JSON.stringify(e)},!1)}createApiKey(){return this.fetchWrapper(this.baseUrlPath+"/users/createApiKey",{method:"POST",body:JSON.stringify({})},!1)}triggerTrackingGoal(t,e){return this.fetchWrapper(this.baseUrlPath+`/groups/${t}/triggerTrackingGoal`,{method:"POST",body:JSON.stringify(e)},!1)}getCollection(t,e){return this.fetchWrapper(this.baseUrlPath+`/${ws.transformCollectionTypeToApi(t)}/${e}`)}getCategoriesCount(t,e){return this.fetchWrapper(this.baseUrlPath+`/groups/${t}/categories_count/${e}`)}getGroupPosts(t){return this.fetchWrapper(t)}getPost(t){return this.fetchWrapper(this.baseUrlPath+`/posts/${t}`)}getGroup(t){return this.fetchWrapper(this.baseUrlPath+`/groups/${t}`)}endorsePost(t,e,i){return this.fetchWrapper(this.baseUrlPath+`/posts/${t}/endorse`,{method:e,body:JSON.stringify(i)},!1)}getHasNonOpenPosts(t){return this.fetchWrapper(this.baseUrlPath+`/groups/${t}/checkNonOpenPosts`)}getHelpPages(t,e){return this.fetchWrapper(this.baseUrlPath+`/${ws.transformCollectionTypeToApi(t)}/${e}/pages`)}getTranslation(t){return this.fetchWrapper(t)}getTranslatedRegistrationQuestions(t,e){return this.fetchWrapper(this.baseUrlPath+`/groups/${t}/translatedRegistrationQuestions?targetLanguage=${e}`)}sendRegistrationQuestions(t){return this.fetchWrapper(this.baseUrlPath+"/users/setRegistrationAnswers",{method:"PUT",body:JSON.stringify({registration_answers:t})},!0)}savePostTranscript(t,e){return this.fetchWrapper(this.baseUrlPath+`/posts/${t}/editTranscript`,{method:"PUT",body:JSON.stringify(e)},!1)}getPostTranscriptStatus(t,e){return this.fetchWrapper(this.baseUrlPath+`/groups/${t}/categories_count/${e}`)}addPoint(t,e){return this.fetchWrapper(this.baseUrlPath+`/points/${t}`,{method:"POST",body:JSON.stringify(e)},!1)}completeMediaPoint(t,e,i){return this.fetchWrapper(this.baseUrlPath+`/${t}/${e}/completeAndAddToPoint`,{method:"POST",body:JSON.stringify(i)},!1)}completeMediaPost(t,e,i,n){return this.fetchWrapper(this.baseUrlPath+`/${t}/${i}/completeAndAddToPost`,{method:e,body:JSON.stringify(n)},!1)}getPoints(t){return this.fetchWrapper(this.baseUrlPath+`/posts/${t}/points`)}getMorePoints(t,e,i){return this.fetchWrapper(this.baseUrlPath+`/posts/${t}/points?offsetUp=${e}&offsetDown=${i}`)}getNewPoints(t,e){return this.fetchWrapper(this.baseUrlPath+`/posts/${t}/newPoints?latestPointCreatedAt=${e}`)}getSurveyTranslations(t,e){return this.fetchWrapper(this.baseUrlPath+`/posts/${t.id}/translatedSurvey?targetLanguage=${e}&groupId=${t.Group.id}`)}getVideoFormatsAndImages(t){return this.fetchWrapper(this.baseUrlPath+`/videos/${t}/formatsAndImages`)}getGroupConfiguration(t){return this.fetchWrapper(this.baseUrlPath+`/groups/${t}/configuration`)}setVideoCover(t,e){return this.fetchWrapper(this.baseUrlPath+`/videos/${t}/setVideoCover`,{method:"PUT",body:JSON.stringify(e)},!1)}getTranscodingJobStatus(t,e,i){return this.fetchWrapper(this.baseUrlPath+`/${t}/${e}/getTranscodingJobStatus`,{method:"PUT",body:JSON.stringify({jobId:i})})}startTranscoding(t,e,i,n){return this.fetchWrapper(this.baseUrlPath+`/${t}/${e}/${i}`,{method:"POST",body:JSON.stringify(n)},!1)}createPresignUrl(t,e={}){return this.fetchWrapper(t,{method:"POST",body:JSON.stringify(e)},!1)}updatePoint(t,e){return this.fetchWrapper(this.baseUrlPath+`/points/${t}`,{method:"PUT",body:JSON.stringify(e)},!1)}updatePointAdminComment(t,e,i){return this.fetchWrapper(this.baseUrlPath+`/groups/${t}/${e}/adminComment`,{method:"PUT",body:JSON.stringify(i)},!1)}deletePoint(t){return this.fetchWrapper(this.baseUrlPath+`/points/${t}`,{method:"DELETE",body:JSON.stringify({})},!1)}checkPointTranscriptStatus(t,e){return this.fetchWrapper(this.baseUrlPath+`/$points/${e}/${t}`)}registerUser(t){return this.fetchWrapper(this.baseUrlPath+"/users/register",{method:"POST",body:JSON.stringify(t)},!1)}loginUser(t){return this.fetchWrapper(this.baseUrlPath+"/users/login",{method:"POST",body:JSON.stringify(t)},!1)}submitForm(t,e,i,n){return this.fetchWrapper(this.baseUrlPath+t,{method:e,headers:i,body:n},!1,"formError")}getSurveyGroup(t){return this.fetchWrapper(this.baseUrlPath+`/groups/${t}/survey`)}postSurvey(t,e){return this.fetchWrapper(this.baseUrlPath+`/groups/${t}/survey`,{method:"POST",body:JSON.stringify(e)},!1)}deleteActivity(t,e,i){return this.fetchWrapper(this.baseUrlPath+`/${t}/${e}/${i}/delete_activity`,{method:"DELETE",body:JSON.stringify({})},!1)}getAcActivities(t){return this.fetchWrapper(t)}getRecommendations(t,e){return this.fetchWrapper(this.baseUrlPath+`/recommendations/${t}/${e}`)}setNotificationsAsViewed(t){return this.fetchWrapper(this.baseUrlPath+"/notifications/setIdsViewed",{method:"PUT",body:JSON.stringify(t)},!1)}setNotificationsAllAsViewed(){return this.fetchWrapper(this.baseUrlPath+"/notifications/markAllViewed",{method:"PUT",body:JSON.stringify({})},!1)}getAcNotifications(t){return this.fetchWrapper(t)}getComments(t,e){return this.fetchWrapper(this.baseUrlPath+`/${t}/${e}/comments`)}getCommentsCount(t,e){return this.fetchWrapper(this.baseUrlPath+`/${t}/${e}/commentsCount`)}postComment(t,e,i){return this.fetchWrapper(this.baseUrlPath+`/${t}/${e}/comment`,{method:"POST",body:JSON.stringify(i)},!1)}setPointQuality(t,e,i){return this.fetchWrapper(this.baseUrlPath+`/points/${t}/pointQuality`,{method:e,body:JSON.stringify(i)},!1)}postNewsStory(t,e){return this.fetchWrapper(t,{method:"POST",body:JSON.stringify(e)},!1)}pointUrlPreview(t){return this.fetchWrapper(this.baseUrlPath+`/points/url_preview?${t}`)}disconnectSamlLogin(){return this.fetchWrapper(this.baseUrlPath+"/users/disconnectSamlLogin",{method:"DELETE",body:JSON.stringify({})},!1)}disconnectFacebookLogin(){return this.fetchWrapper(this.baseUrlPath+"/users/disconnectFacebookLogin",{method:"DELETE",body:JSON.stringify({})},!1)}deleteUser(){return this.fetchWrapper(this.baseUrlPath+"/users/delete_current_user",{method:"DELETE",body:JSON.stringify({})},!1)}anonymizeUser(){return this.fetchWrapper(this.baseUrlPath+"/users/anonymize_current_user",{method:"DELETE",body:JSON.stringify({})},!1)}resetPassword(t,e){return this.fetchWrapper(this.baseUrlPath+`/users/reset/${t}`,{method:"POST",body:JSON.stringify(e)},!1)}setEmail(t){return this.fetchWrapper(this.baseUrlPath+"/users/missingEmail/setEmail",{method:"PUT",body:JSON.stringify(t)},!1)}linkAccounts(t){return this.fetchWrapper(this.baseUrlPath+"/users/missingEmail/linkAccounts",{method:"PUT",body:JSON.stringify(t)},!1)}confirmEmailShown(){return this.fetchWrapper(this.baseUrlPath+"/users/missingEmail/emailConfirmationShown",{method:"PUT",body:JSON.stringify({})},!1,"forgotPassword")}forgotPassword(t){return this.fetchWrapper(this.baseUrlPath+"/users/forgot_password",{method:"PUT",body:JSON.stringify(t)},!1)}acceptInvite(t){return this.fetchWrapper(this.baseUrlPath+`/users/accept_invite/${t}`,{method:"POST",body:JSON.stringify({})},!1,"acceptInvite")}getInviteSender(t){return this.fetchWrapper(this.baseUrlPath+`/users/get_invite_info/${t}`,{method:"GET"},!1,"acceptInvite")}getPostLocations(t,e){return this.fetchWrapper(this.baseUrlPath+`/${t}/${e}/post_locations`)}hasAutoTranslation(){return this.fetchWrapper(this.baseUrlPath+"/users/has/AutoTranslation")}apiAction(t,e,i){return this.fetchWrapper(t,{method:e,body:JSON.stringify(i)},!1)}getImages(t){return this.fetchWrapper(this.baseUrlPath+`/images/${t}/user_images`)}postRating(t,e,i){return this.fetchWrapper(this.baseUrlPath+`/ratings/${t}/${e}`,{method:"POST",body:JSON.stringify(i)},!1)}deleteRating(t,e){return this.fetchWrapper(this.baseUrlPath+`/ratings/${t}/${e}`,{method:"DELETE",body:JSON.stringify({})},!1)}}class Is extends ws{constructor(t="/api"){super(),this.baseUrlPath=t}async getProject(t,e,i){return await this.fetchWrapper(this.baseUrlPath+`/projects/${t}${i?"/new":""}${e?`?trm=${e}`:""}`)}async getMiddleSolutions(t,e){return await this.fetchWrapper(this.baseUrlPath+`/projects/${t}/${e}/middle/solutions`)}async getRawEvidence(t,e,i){return await this.fetchWrapper(this.baseUrlPath+`/projects/${t}/${e}/${i}/rawEvidence`)}}function Cs(t){return Cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(t)}function As(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ss(t){var e=function(t,e){if("object"!==Cs(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==Cs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Cs(e)?e:String(e)}function ks(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ss(n.key),n)}}function _s(t,e,i){return e&&ks(t.prototype,e),i&&ks(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ts(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ps(t,e){return Ps=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ps(t,e)}function Ms(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ps(t,e)}function Ns(t,e){if(e&&("object"===Cs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ts(t)}function Ls(t){return Ls=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ls(t)}function Os(t,e,i){return(e=Ss(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Es(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function Ds(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Es(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Es(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zs(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function js(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?zs(Object(i),!0).forEach((function(e){Os(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):zs(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Rs={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){console&&console[t]&&console[t].apply(console,e)}},Gs=new(function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};As(this,t),this.init(e,i)}return _s(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||Rs,this.options=e,this.debug=e.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,e,i,n){return n&&!this.debug?null:("string"==typeof t[0]&&(t[0]="".concat(i).concat(this.prefix," ").concat(t[0])),this.logger[e](t))}},{key:"create",value:function(e){return new t(this.logger,js(js({},{prefix:"".concat(this.prefix,":").concat(e,":")}),this.options))}},{key:"clone",value:function(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new t(this.logger,e)}}]),t}()),Bs=function(){function t(){As(this,t),this.observers={}}return _s(t,[{key:"on",value:function(t,e){var i=this;return t.split(" ").forEach((function(t){i.observers[t]=i.observers[t]||[],i.observers[t].push(e)})),this}},{key:"off",value:function(t,e){this.observers[t]&&(e?this.observers[t]=this.observers[t].filter((function(t){return t!==e})):delete this.observers[t])}},{key:"emit",value:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];this.observers[t]&&[].concat(this.observers[t]).forEach((function(t){t.apply(void 0,i)}));this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(e){e.apply(e,[t].concat(i))}))}}]),t}();function Us(){var t,e,i=new Promise((function(i,n){t=i,e=n}));return i.resolve=t,i.reject=e,i}function Zs(t){return null==t?"":""+t}function $s(t,e,i){function n(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function r(){return!t||"string"==typeof t}for(var o="string"!=typeof e?[].concat(e):e.split(".");o.length>1;){if(r())return{};var a=n(o.shift());!t[a]&&i&&(t[a]=new i),t=Object.prototype.hasOwnProperty.call(t,a)?t[a]:{}}return r()?{}:{obj:t,k:n(o.shift())}}function Fs(t,e,i){var n=$s(t,e,Object);n.obj[n.k]=i}function Ws(t,e){var i=$s(t,e),n=i.obj,r=i.k;if(n)return n[r]}function Vs(t,e,i){var n=Ws(t,i);return void 0!==n?n:Ws(e,i)}function Ys(t,e,i){for(var n in e)"__proto__"!==n&&"constructor"!==n&&(n in t?"string"==typeof t[n]||t[n]instanceof String||"string"==typeof e[n]||e[n]instanceof String?i&&(t[n]=e[n]):Ys(t[n],e[n],i):t[n]=e[n]);return t}function Hs(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Xs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Js(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,(function(t){return Xs[t]})):t}var Qs="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,Ks=[" ",",","?","!",";"];function qs(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function tl(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?qs(Object(i),!0).forEach((function(e){Os(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):qs(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function el(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Ls(t);if(e){var r=Ls(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return Ns(this,i)}}function il(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(t){if(t[e])return t[e];for(var n=e.split(i),r=t,o=0;o<n.length;++o){if(!r)return;if("string"==typeof r[n[o]]&&o+1<n.length)return;if(void 0===r[n[o]]){for(var a=2,s=n.slice(o,o+a).join(i),l=r[s];void 0===l&&n.length>o+a;)a++,l=r[s=n.slice(o,o+a).join(i)];if(void 0===l)return;if(null===l)return null;if(e.endsWith(s)){if("string"==typeof l)return l;if(s&&"string"==typeof l[s])return l[s]}var c=n.slice(o+a).join(i);return c?il(l,c,i):void 0}r=r[n[o]]}return r}}var nl=function(t){Ms(i,Bs);var e=el(i);function i(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return As(this,i),n=e.call(this),Qs&&Bs.call(Ts(n)),n.data=t||{},n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),void 0===n.options.ignoreJSONStructure&&(n.options.ignoreJSONStructure=!0),n}return _s(i,[{key:"addNamespaces",value:function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,o=void 0!==n.ignoreJSONStructure?n.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[t,e];i&&"string"!=typeof i&&(a=a.concat(i)),i&&"string"==typeof i&&(a=a.concat(r?i.split(r):i)),t.indexOf(".")>-1&&(a=t.split("."));var s=Ws(this.data,a);return s||!o||"string"!=typeof i?s:il(this.data&&this.data[t]&&this.data[t][e],i,r)}},{key:"addResource",value:function(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[t,e];i&&(a=a.concat(o?i.split(o):i)),t.indexOf(".")>-1&&(n=e,e=(a=t.split("."))[1]),this.addNamespaces(e),Fs(this.data,a,n),r.silent||this.emit("added",t,e,i,n)}},{key:"addResources",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in i)"string"!=typeof i[r]&&"[object Array]"!==Object.prototype.toString.apply(i[r])||this.addResource(t,e,r,i[r],{silent:!0});n.silent||this.emit("added",t,e,i)}},{key:"addResourceBundle",value:function(t,e,i,n,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[t,e];t.indexOf(".")>-1&&(n=i,i=e,e=(a=t.split("."))[1]),this.addNamespaces(e);var s=Ws(this.data,a)||{};n?Ys(s,i,r):s=tl(tl({},s),i),Fs(this.data,a,s),o.silent||this.emit("added",t,e,i)}},{key:"removeResourceBundle",value:function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}},{key:"hasResourceBundle",value:function(t,e){return void 0!==this.getResource(t,e)}},{key:"getResourceBundle",value:function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?tl(tl({},{}),this.getResource(t,e)):this.getResource(t,e)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"hasLanguageSomeTranslations",value:function(t){var e=this.getDataByLanguage(t);return!!(e&&Object.keys(e)||[]).find((function(t){return e[t]&&Object.keys(e[t]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),i}(),rl={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,i,n,r){var o=this;return t.forEach((function(t){o.processors[t]&&(e=o.processors[t].process(e,i,n,r))})),e}};function ol(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function al(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ol(Object(i),!0).forEach((function(e){Os(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ol(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function sl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Ls(t);if(e){var r=Ls(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return Ns(this,i)}}var ll={},cl=function(t){Ms(i,Bs);var e=sl(i);function i(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return As(this,i),n=e.call(this),Qs&&Bs.call(Ts(n)),function(t,e,i){t.forEach((function(t){e[t]&&(i[t]=e[t])}))}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,Ts(n)),n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=Gs.create("translator"),n}return _s(i,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==t)return!1;var i=this.resolve(t,e);return i&&void 0!==i.res}},{key:"extractFromKey",value:function(t,e){var i=void 0!==e.nsSeparator?e.nsSeparator:this.options.nsSeparator;void 0===i&&(i=":");var n=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,r=e.ns||this.options.defaultNS||[],o=i&&t.indexOf(i)>-1,a=!(this.options.userDefinedKeySeparator||e.keySeparator||this.options.userDefinedNsSeparator||e.nsSeparator||function(t,e,i){e=e||"",i=i||"";var n=Ks.filter((function(t){return e.indexOf(t)<0&&i.indexOf(t)<0}));if(0===n.length)return!0;var r=new RegExp("(".concat(n.map((function(t){return"?"===t?"\\?":t})).join("|"),")")),o=!r.test(t);if(!o){var a=t.indexOf(i);a>0&&!r.test(t.substring(0,a))&&(o=!0)}return o}(t,i,n));if(o&&!a){var s=t.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:t,namespaces:r};var l=t.split(i);(i!==n||i===n&&this.options.ns.indexOf(l[0])>-1)&&(r=l.shift()),t=l.join(n)}return"string"==typeof r&&(r=[r]),{key:t,namespaces:r}}},{key:"translate",value:function(t,e,n){var r=this;if("object"!==Cs(e)&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),e||(e={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);var o=void 0!==e.returnDetails?e.returnDetails:this.options.returnDetails,a=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,s=this.extractFromKey(t[t.length-1],e),l=s.key,c=s.namespaces,d=c[c.length-1],u=e.lng||this.language,h=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&"cimode"===u.toLowerCase()){if(h){var p=e.nsSeparator||this.options.nsSeparator;return o?{res:"".concat(d).concat(p).concat(l),usedKey:l,exactUsedKey:l,usedLng:u,usedNS:d}:"".concat(d).concat(p).concat(l)}return o?{res:l,usedKey:l,exactUsedKey:l,usedLng:u,usedNS:d}:l}var g=this.resolve(t,e),f=g&&g.res,m=g&&g.usedKey||l,v=g&&g.exactUsedKey||l,b=Object.prototype.toString.apply(f),y=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject;if(x&&f&&("string"!=typeof f&&"boolean"!=typeof f&&"number"!=typeof f)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(b)<0&&("string"!=typeof y||"[object Array]"!==b)){if(!e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var w=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,f,al(al({},e),{},{ns:c})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");return o?(g.res=w,g):w}if(a){var I="[object Array]"===b,C=I?[]:{},A=I?v:m;for(var S in f)if(Object.prototype.hasOwnProperty.call(f,S)){var k="".concat(A).concat(a).concat(S);C[S]=this.translate(k,al(al({},e),{joinArrays:!1,ns:c})),C[S]===k&&(C[S]=f[S])}f=C}}else if(x&&"string"==typeof y&&"[object Array]"===b)(f=f.join(y))&&(f=this.extendTranslation(f,t,e,n));else{var _=!1,T=!1,P=void 0!==e.count&&"string"!=typeof e.count,M=i.hasDefaultValue(e),N=P?this.pluralResolver.getSuffix(u,e.count,e):"",L=e["defaultValue".concat(N)]||e.defaultValue;!this.isValidLookup(f)&&M&&(_=!0,f=L),this.isValidLookup(f)||(T=!0,f=l);var O=(e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&T?void 0:f,E=M&&L!==f&&this.options.updateMissing;if(T||_||E){if(this.logger.log(E?"updateKey":"missingKey",u,d,l,E?L:f),a){var D=this.resolve(l,al(al({},e),{},{keySeparator:!1}));D&&D.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var z=[],j=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&j&&j[0])for(var R=0;R<j.length;R++)z.push(j[R]);else"all"===this.options.saveMissingTo?z=this.languageUtils.toResolveHierarchy(e.lng||this.language):z.push(e.lng||this.language);var G=function(t,i,n){var o=M&&n!==f?n:O;r.options.missingKeyHandler?r.options.missingKeyHandler(t,d,i,o,E,e):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(t,d,i,o,E,e),r.emit("missingKey",t,d,i,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&P?z.forEach((function(t){r.pluralResolver.getSuffixes(t,e).forEach((function(i){G([t],l+i,e["defaultValue".concat(i)]||L)}))})):G(z,l,L))}f=this.extendTranslation(f,t,e,g,n),T&&f===l&&this.options.appendNamespaceToMissingKey&&(f="".concat(d,":").concat(l)),(T||_)&&this.options.parseMissingKeyHandler&&(f="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(d,":").concat(l):l,_?f:void 0):this.options.parseMissingKeyHandler(f))}return o?(g.res=f,g):f}},{key:"extendTranslation",value:function(t,e,i,n,r){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,al(al({},this.options.interpolation.defaultVariables),i),n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init(al(al({},i),{interpolation:al(al({},this.options.interpolation),i.interpolation)}));var a,s="string"==typeof t&&(i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var l=t.match(this.interpolator.nestingRegexp);a=l&&l.length}var c=i.replace&&"string"!=typeof i.replace?i.replace:i;if(this.options.interpolation.defaultVariables&&(c=al(al({},this.options.interpolation.defaultVariables),c)),t=this.interpolator.interpolate(t,c,i.lng||this.language,i),s){var d=t.match(this.interpolator.nestingRegexp);a<(d&&d.length)&&(i.nest=!1)}!1!==i.nest&&(t=this.interpolator.nest(t,(function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r&&r[0]===n[0]&&!i.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(n[0]," in key: ").concat(e[0])),null):o.translate.apply(o,n.concat([e]))}),i)),i.interpolation&&this.interpolator.reset()}var u=i.postProcess||this.options.postProcess,h="string"==typeof u?[u]:u;return null!=t&&h&&h.length&&!1!==i.applyPostProcessor&&(t=rl.handle(h,t,e,this.options&&this.options.postProcessPassResolved?al({i18nResolved:n},i):i,this)),t}},{key:"resolve",value:function(t){var e,i,n,r,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof t&&(t=[t]),t.forEach((function(t){if(!a.isValidLookup(e)){var l=a.extractFromKey(t,s),c=l.key;i=c;var d=l.namespaces;a.options.fallbackNS&&(d=d.concat(a.options.fallbackNS));var u=void 0!==s.count&&"string"!=typeof s.count,h=u&&!s.ordinal&&0===s.count&&a.pluralResolver.shouldUseIntlApi(),p=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,g=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);d.forEach((function(t){a.isValidLookup(e)||(o=t,!ll["".concat(g[0],"-").concat(t)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(o)&&(ll["".concat(g[0],"-").concat(t)]=!0,a.logger.warn('key "'.concat(i,'" for languages "').concat(g.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach((function(i){if(!a.isValidLookup(e)){r=i;var o,l=[c];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(l,c,i,t,s);else{var d;u&&(d=a.pluralResolver.getSuffix(i,s.count,s));var g="".concat(a.options.pluralSeparator,"zero");if(u&&(l.push(c+d),h&&l.push(c+g)),p){var f="".concat(c).concat(a.options.contextSeparator).concat(s.context);l.push(f),u&&(l.push(f+d),h&&l.push(f+g))}}for(;o=l.pop();)a.isValidLookup(e)||(n=o,e=a.getResource(i,t,o,s))}})))}))}})),{res:e,usedKey:i,exactUsedKey:n,usedLng:r,usedNS:o}}},{key:"isValidLookup",value:function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}},{key:"getResource",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,i,n):this.resourceStore.getResource(t,e,i,n)}}],[{key:"hasDefaultValue",value:function(t){var e="defaultValue";for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&e===i.substring(0,12)&&void 0!==t[i])return!0;return!1}}]),i}();function dl(t){return t.charAt(0).toUpperCase()+t.slice(1)}var ul=function(){function t(e){As(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Gs.create("languageUtils")}return _s(t,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),"x"===e[e.length-1].toLowerCase()?null:this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],i=t.split("-");return this.options.lowerCaseLng?i=i.map((function(t){return t.toLowerCase()})):2===i.length?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),e.indexOf(i[1].toLowerCase())>-1&&(i[1]=dl(i[1].toLowerCase()))):3===i.length&&(i[0]=i[0].toLowerCase(),2===i[1].length&&(i[1]=i[1].toUpperCase()),"sgn"!==i[0]&&2===i[2].length&&(i[2]=i[2].toUpperCase()),e.indexOf(i[1].toLowerCase())>-1&&(i[1]=dl(i[1].toLowerCase())),e.indexOf(i[2].toLowerCase())>-1&&(i[2]=dl(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isSupportedCode",value:function(t){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}},{key:"getBestMatchFromCodes",value:function(t){var e,i=this;return t?(t.forEach((function(t){if(!e){var n=i.formatLanguageCode(t);i.options.supportedLngs&&!i.isSupportedCode(n)||(e=n)}})),!e&&this.options.supportedLngs&&t.forEach((function(t){if(!e){var n=i.getLanguagePartFromCode(t);if(i.isSupportedCode(n))return e=n;e=i.options.supportedLngs.find((function(t){if(0===t.indexOf(n))return t}))}})),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e):null}},{key:"getFallbackCodes",value:function(t,e){if(!t)return[];if("function"==typeof t&&(t=t(e)),"string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var i=t[e];return i||(i=t[this.getScriptPartFromCode(e)]),i||(i=t[this.formatLanguageCode(e)]),i||(i=t[this.getLanguagePartFromCode(e)]),i||(i=t.default),i||[]}},{key:"toResolveHierarchy",value:function(t,e){var i=this,n=this.getFallbackCodes(e||this.options.fallbackLng||[],t),r=[],o=function(t){t&&(i.isSupportedCode(t)?r.push(t):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(t)))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(t))):"string"==typeof t&&o(this.formatLanguageCode(t)),n.forEach((function(t){r.indexOf(t)<0&&o(i.formatLanguageCode(t))})),r}}]),t}(),hl=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],pl={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0==t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0==t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0==t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1==t?0:2==t?1:(t<0||t>10)&&t%10==0?2:3)}},gl=["v1","v2","v3"],fl={zero:0,one:1,two:2,few:3,many:4,other:5};var ml=function(){function t(e){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};As(this,t),this.languageUtils=e,this.options=n,this.logger=Gs.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(i={},hl.forEach((function(t){t.lngs.forEach((function(e){i[e]={numbers:t.nr,plurals:pl[t.fc]}}))})),i)}return _s(t,[{key:"addRule",value:function(t,e){this.rules[t]=e}},{key:"getRule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(t,{type:e.ordinal?"ordinal":"cardinal"})}catch(t){return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(t,e);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(t,i).map((function(t){return"".concat(e).concat(t)}))}},{key:"getSuffixes",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(t,i);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((function(t,e){return fl[t]-fl[e]})).map((function(t){return"".concat(e.options.prepend).concat(t)})):n.numbers.map((function(n){return e.getSuffix(t,n,i)})):[]}},{key:"getSuffix",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.getRule(t,i);return n?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(n.select(e)):this.getSuffixRetroCompatible(n,e):(this.logger.warn("no plural rule found for: ".concat(t)),"")}},{key:"getSuffixRetroCompatible",value:function(t,e){var i=this,n=t.noAbs?t.plurals(e):t.plurals(Math.abs(e)),r=t.numbers[n];this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]&&(2===r?r="plural":1===r&&(r=""));var o=function(){return i.options.prepend&&r.toString()?i.options.prepend+r.toString():r.toString()};return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?"_plural_".concat(r.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]?o():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}},{key:"shouldUseIntlApi",value:function(){return!gl.includes(this.options.compatibilityJSON)}}]),t}();function vl(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function bl(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?vl(Object(i),!0).forEach((function(e){Os(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):vl(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var yl=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};As(this,t),this.logger=Gs.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return _s(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escape=void 0!==e.escape?e.escape:Js,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?Hs(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?Hs(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?Hs(e.nestingPrefix):e.nestingPrefixEscaped||Hs("$t("),this.nestingSuffix=e.nestingSuffix?Hs(e.nestingSuffix):e.nestingSuffixEscaped||Hs(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator?e.nestingOptionsSeparator:e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var e="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(e,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(t,e,i,n){var r,o,a,s=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(t){return t.replace(/\$/g,"$$$$")}var d=function(t){if(t.indexOf(s.formatSeparator)<0){var r=Vs(e,l,t);return s.alwaysFormat?s.format(r,void 0,i,bl(bl(bl({},n),e),{},{interpolationkey:t})):r}var o=t.split(s.formatSeparator),a=o.shift().trim(),c=o.join(s.formatSeparator).trim();return s.format(Vs(e,l,a),c,i,bl(bl(bl({},n),e),{},{interpolationkey:a}))};this.resetRegExp();var u=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler,h=n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(t){return c(t)}},{regex:this.regexp,safeValue:function(t){return s.escapeValue?c(s.escape(t)):c(t)}}].forEach((function(e){for(a=0;r=e.regex.exec(t);){var i=r[1].trim();if(void 0===(o=d(i)))if("function"==typeof u){var l=u(t,r,n);o="string"==typeof l?l:""}else if(n&&Object.prototype.hasOwnProperty.call(n,i))o="";else{if(h){o=r[0];continue}s.logger.warn("missed to pass in variable ".concat(i," for interpolating ").concat(t)),o=""}else"string"==typeof o||s.useRawValueToEscape||(o=Zs(o));var c=e.safeValue(o);if(t=t.replace(r[0],c),h?(e.regex.lastIndex+=o.length,e.regex.lastIndex-=r[0].length):e.regex.lastIndex=0,++a>=s.maxReplaces)break}})),t}},{key:"nest",value:function(t,e){var i,n,r,o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function s(t,e){var i=this.nestingOptionsSeparator;if(t.indexOf(i)<0)return t;var n=t.split(new RegExp("".concat(i,"[ ]*{"))),o="{".concat(n[1]);t=n[0];var a=(o=this.interpolate(o,r)).match(/'/g),s=o.match(/"/g);(a&&a.length%2==0&&!s||s.length%2!=0)&&(o=o.replace(/'/g,'"'));try{r=JSON.parse(o),e&&(r=bl(bl({},e),r))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),e),"".concat(t).concat(i).concat(o)}return delete r.defaultValue,t}for(;i=this.nestingRegexp.exec(t);){var l=[];(r=(r=bl({},a)).replace&&"string"!=typeof r.replace?r.replace:r).applyPostProcessor=!1,delete r.defaultValue;var c=!1;if(-1!==i[0].indexOf(this.formatSeparator)&&!/{.*}/.test(i[1])){var d=i[1].split(this.formatSeparator).map((function(t){return t.trim()}));i[1]=d.shift(),l=d,c=!0}if((n=e(s.call(this,i[1].trim(),r),r))&&i[0]===t&&"string"!=typeof n)return n;"string"!=typeof n&&(n=Zs(n)),n||(this.logger.warn("missed to resolve ".concat(i[1]," for nesting ").concat(t)),n=""),c&&(n=l.reduce((function(t,e){return o.format(t,e,a.lng,bl(bl({},a),{},{interpolationkey:i[1].trim()}))}),n.trim())),t=t.replace(i[0],n),this.regexp.lastIndex=0}return t}}]),t}();function xl(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function wl(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?xl(Object(i),!0).forEach((function(e){Os(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):xl(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Il(t){var e={};return function(i,n,r){var o=n+JSON.stringify(r),a=e[o];return a||(a=t(n,r),e[o]=a),a(i)}}var Cl=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};As(this,t),this.logger=Gs.create("formatter"),this.options=e,this.formats={number:Il((function(t,e){var i=new Intl.NumberFormat(t,wl({},e));return function(t){return i.format(t)}})),currency:Il((function(t,e){var i=new Intl.NumberFormat(t,wl(wl({},e),{},{style:"currency"}));return function(t){return i.format(t)}})),datetime:Il((function(t,e){var i=new Intl.DateTimeFormat(t,wl({},e));return function(t){return i.format(t)}})),relativetime:Il((function(t,e){var i=new Intl.RelativeTimeFormat(t,wl({},e));return function(t){return i.format(t,e.range||"day")}})),list:Il((function(t,e){var i=new Intl.ListFormat(t,wl({},e));return function(t){return i.format(t)}}))},this.init(e)}return _s(t,[{key:"init",value:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||","}},{key:"add",value:function(t,e){this.formats[t.toLowerCase().trim()]=e}},{key:"addCached",value:function(t,e){this.formats[t.toLowerCase().trim()]=Il(e)}},{key:"format",value:function(t,e,i){var n=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.split(this.formatSeparator).reduce((function(t,e){var o=function(t){var e=t.toLowerCase().trim(),i={};if(t.indexOf("(")>-1){var n=t.split("(");e=n[0].toLowerCase().trim();var r=n[1].substring(0,n[1].length-1);"currency"===e&&r.indexOf(":")<0?i.currency||(i.currency=r.trim()):"relativetime"===e&&r.indexOf(":")<0?i.range||(i.range=r.trim()):r.split(";").forEach((function(t){if(t){var e=Ds(t.split(":")),n=e[0],r=e.slice(1).join(":").trim().replace(/^'+|'+$/g,"");i[n.trim()]||(i[n.trim()]=r),"false"===r&&(i[n.trim()]=!1),"true"===r&&(i[n.trim()]=!0),isNaN(r)||(i[n.trim()]=parseInt(r,10))}}))}return{formatName:e,formatOptions:i}}(e),a=o.formatName,s=o.formatOptions;if(n.formats[a]){var l=t;try{var c=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},d=c.locale||c.lng||r.locale||r.lng||i;l=n.formats[a](t,d,wl(wl(wl({},s),r),c))}catch(t){n.logger.warn(t)}return l}return n.logger.warn("there was no format function for ".concat(a)),t}),t);return o}}]),t}();function Al(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Sl(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Al(Object(i),!0).forEach((function(e){Os(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Al(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function kl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Ls(t);if(e){var r=Ls(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return Ns(this,i)}}var _l=function(t){Ms(i,Bs);var e=kl(i);function i(t,n,r){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return As(this,i),o=e.call(this),Qs&&Bs.call(Ts(o)),o.backend=t,o.store=n,o.services=r,o.languageUtils=r.languageUtils,o.options=a,o.logger=Gs.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=a.maxParallelReads||10,o.readingCalls=0,o.maxRetries=a.maxRetries>=0?a.maxRetries:5,o.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(r,a.backend,a),o}return _s(i,[{key:"queueLoad",value:function(t,e,i,n){var r=this,o={},a={},s={},l={};return t.forEach((function(t){var n=!0;e.forEach((function(e){var s="".concat(t,"|").concat(e);!i.reload&&r.store.hasResourceBundle(t,e)?r.state[s]=2:r.state[s]<0||(1===r.state[s]?void 0===a[s]&&(a[s]=!0):(r.state[s]=1,n=!1,void 0===a[s]&&(a[s]=!0),void 0===o[s]&&(o[s]=!0),void 0===l[e]&&(l[e]=!0)))})),n||(s[t]=!0)})),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}},{key:"loaded",value:function(t,e,i){var n=t.split("|"),r=n[0],o=n[1];e&&this.emit("failedLoading",r,o,e),i&&this.store.addResourceBundle(r,o,i),this.state[t]=e?-1:2;var a={};this.queue.forEach((function(i){!function(t,e,i,n){var r=$s(t,e,Object),o=r.obj,a=r.k;o[a]=o[a]||[],n&&(o[a]=o[a].concat(i)),n||o[a].push(i)}(i.loaded,[r],o),function(t,e){void 0!==t.pending[e]&&(delete t.pending[e],t.pendingCount--)}(i,t),e&&i.errors.push(e),0!==i.pendingCount||i.done||(Object.keys(i.loaded).forEach((function(t){a[t]||(a[t]={});var e=i.loaded[t];e.length&&e.forEach((function(e){void 0===a[t][e]&&(a[t][e]=!0)}))})),i.done=!0,i.errors.length?i.callback(i.errors):i.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(t){return!t.done}))}},{key:"read",value:function(t,e,i){var n=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!t.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads)this.waitingReads.push({lng:t,ns:e,fcName:i,tried:r,wait:o,callback:a});else{this.readingCalls++;var s=function(s,l){if(n.readingCalls--,n.waitingReads.length>0){var c=n.waitingReads.shift();n.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}s&&l&&r<n.maxRetries?setTimeout((function(){n.read.call(n,t,e,i,r+1,2*o,a)}),o):a(s,l)},l=this.backend[i].bind(this.backend);if(2!==l.length)return l(t,e,s);try{var c=l(t,e);c&&"function"==typeof c.then?c.then((function(t){return s(null,t)})).catch(s):s(null,c)}catch(t){s(t)}}}},{key:"prepareLoading",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var o=this.queueLoad(t,e,n,r);if(!o.toLoad.length)return o.pending.length||r(),null;o.toLoad.forEach((function(t){i.loadOne(t)}))}},{key:"load",value:function(t,e,i){this.prepareLoading(t,e,{},i)}},{key:"reload",value:function(t,e,i){this.prepareLoading(t,e,{reload:!0},i)}},{key:"loadOne",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.split("|"),r=n[0],o=n[1];this.read(r,o,"read",void 0,void 0,(function(n,a){n&&e.logger.warn("".concat(i,"loading namespace ").concat(o," for language ").concat(r," failed"),n),!n&&a&&e.logger.log("".concat(i,"loaded namespace ").concat(o," for language ").concat(r),a),e.loaded(t,n,a)}))}},{key:"saveMissing",value:function(t,e,i,n,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e))this.logger.warn('did not save key "'.concat(i,'" as the namespace "').concat(e,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=i&&""!==i){if(this.backend&&this.backend.create){var s=Sl(Sl({},o),{},{isUpdate:r}),l=this.backend.create.bind(this.backend);if(l.length<6)try{var c;(c=5===l.length?l(t,e,i,n,s):l(t,e,i,n))&&"function"==typeof c.then?c.then((function(t){return a(null,t)})).catch(a):a(null,c)}catch(t){a(t)}else l(t,e,i,n,a,s)}t&&t[0]&&this.store.addResource(t[0],e,i,n)}}}]),i}();function Tl(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};if("object"===Cs(t[1])&&(e=t[1]),"string"==typeof t[1]&&(e.defaultValue=t[1]),"string"==typeof t[2]&&(e.tDescription=t[2]),"object"===Cs(t[2])||"object"===Cs(t[3])){var i=t[3]||t[2];Object.keys(i).forEach((function(t){e[t]=i[t]}))}return e},interpolation:{escapeValue:!0,format:function(t,e,i,n){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Pl(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function Ml(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Nl(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ml(Object(i),!0).forEach((function(e){Os(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ml(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Ll(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Ls(t);if(e){var r=Ls(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return Ns(this,i)}}function Ol(){}var El=function(t){Ms(i,Bs);var e=Ll(i);function i(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(As(this,i),t=e.call(this),Qs&&Bs.call(Ts(t)),t.options=Pl(r),t.services={},t.logger=Gs,t.modules={external:[]},n=Ts(t),Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach((function(t){"function"==typeof n[t]&&(n[t]=n[t].bind(n))})),o&&!t.isInitialized&&!r.isClone){if(!t.options.initImmediate)return t.init(r,o),Ns(t,Ts(t));setTimeout((function(){t.init(r,o)}),0)}return t}return _s(i,[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;"function"==typeof e&&(i=e,e={}),!e.defaultNS&&!1!==e.defaultNS&&e.ns&&("string"==typeof e.ns?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));var n=Tl();function r(t){return t?"function"==typeof t?new t:t:null}if(this.options=Nl(Nl(Nl({},n),this.options),Pl(e)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=Nl(Nl({},n.interpolation),this.options.interpolation)),void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator),!this.options.isClone){var o;this.modules.logger?Gs.init(r(this.modules.logger),this.options):Gs.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!=typeof Intl&&(o=Cl);var a=new ul(this.options);this.store=new nl(this.options.resources,this.options);var s=this.services;s.logger=Gs,s.resourceStore=this.store,s.languageUtils=a,s.pluralResolver=new ml(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format||(s.formatter=r(o),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new yl(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new _l(r(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];t.emit.apply(t,[e].concat(n))})),this.modules.languageDetector&&(s.languageDetector=r(this.modules.languageDetector),s.languageDetector.init&&s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=r(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new cl(this.services,this.options),this.translator.on("*",(function(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];t.emit.apply(t,[e].concat(n))})),this.modules.external.forEach((function(e){e.init&&e.init(t)}))}if(this.format=this.options.interpolation.format,i||(i=Ol),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&"dev"!==l[0]&&(this.options.lng=l[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(e){t[e]=function(){var i;return(i=t.store)[e].apply(i,arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(e){t[e]=function(){var i;return(i=t.store)[e].apply(i,arguments),t}}));var c=Us(),d=function(){var e=function(e,n){t.isInitialized&&!t.initializedStoreOnce&&t.logger.warn("init: i18next is already initialized. You should call init just once!"),t.isInitialized=!0,t.options.isClone||t.logger.log("initialized",t.options),t.emit("initialized",t.options),c.resolve(n),i(e,n)};if(t.languages&&"v1"!==t.options.compatibilityAPI&&!t.isInitialized)return e(null,t.t.bind(t));t.changeLanguage(t.options.lng,e)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),c}},{key:"loadResources",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ol,n="string"==typeof t?t:this.language;if("function"==typeof t&&(i=t),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase())return i();var r=[],o=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach((function(t){r.indexOf(t)<0&&r.push(t)}))};if(n)o(n);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(t){return o(t)}));this.options.preload&&this.options.preload.forEach((function(t){return o(t)})),this.services.backendConnector.load(r,this.options.ns,(function(t){t||e.resolvedLanguage||!e.language||e.setResolvedLanguage(e.language),i(t)}))}else i(null)}},{key:"reloadResources",value:function(t,e,i){var n=Us();return t||(t=this.languages),e||(e=this.options.ns),i||(i=Ol),this.services.backendConnector.reload(t,e,(function(t){n.resolve(),i(t)})),n}},{key:"use",value:function(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&rl.addPostProcessor(t),"formatter"===t.type&&(this.modules.formatter=t),"3rdParty"===t.type&&this.modules.external.push(t),this}},{key:"setResolvedLanguage",value:function(t){if(t&&this.languages&&!(["cimode","dev"].indexOf(t)>-1))for(var e=0;e<this.languages.length;e++){var i=this.languages[e];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}},{key:"changeLanguage",value:function(t,e){var i=this;this.isLanguageChangingTo=t;var n=Us();this.emit("languageChanging",t);var r=function(t){i.language=t,i.languages=i.services.languageUtils.toResolveHierarchy(t),i.resolvedLanguage=void 0,i.setResolvedLanguage(t)},o=function(o){t||o||!i.services.languageDetector||(o=[]);var a="string"==typeof o?o:i.services.languageUtils.getBestMatchFromCodes(o);a&&(i.language||r(a),i.translator.language||i.translator.changeLanguage(a),i.services.languageDetector&&i.services.languageDetector.cacheUserLanguage&&i.services.languageDetector.cacheUserLanguage(a)),i.loadResources(a,(function(t){!function(t,o){o?(r(o),i.translator.changeLanguage(o),i.isLanguageChangingTo=void 0,i.emit("languageChanged",o),i.logger.log("languageChanged",o)):i.isLanguageChangingTo=void 0,n.resolve((function(){return i.t.apply(i,arguments)})),e&&e(t,(function(){return i.t.apply(i,arguments)}))}(t,a)}))};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t):o(this.services.languageDetector.detect()),n}},{key:"getFixedT",value:function(t,e,i){var n=this,r=function t(e,r){var o;if("object"!==Cs(r)){for(var a=arguments.length,s=new Array(a>2?a-2:0),l=2;l<a;l++)s[l-2]=arguments[l];o=n.options.overloadTranslationOptionHandler([e,r].concat(s))}else o=Nl({},r);o.lng=o.lng||t.lng,o.lngs=o.lngs||t.lngs,o.ns=o.ns||t.ns,o.keyPrefix=o.keyPrefix||i||t.keyPrefix;var c,d=n.options.keySeparator||".";return c=o.keyPrefix&&Array.isArray(e)?e.map((function(t){return"".concat(o.keyPrefix).concat(d).concat(t)})):o.keyPrefix?"".concat(o.keyPrefix).concat(d).concat(e):e,n.t(c,o)};return"string"==typeof t?r.lng=t:r.lngs=t,r.ns=e,r.keyPrefix=i,r}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var n=this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;var a=function(t,i){var n=e.services.backendConnector.state["".concat(t,"|").concat(i)];return-1===n||2===n};if(i.precheck){var s=i.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(n,t)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!a(n,t)||r&&!a(o,t)))}},{key:"loadNamespaces",value:function(t,e){var i=this,n=Us();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach((function(t){i.options.ns.indexOf(t)<0&&i.options.ns.push(t)})),this.loadResources((function(t){n.resolve(),e&&e(t)})),n):(e&&e(),Promise.resolve())}},{key:"loadLanguages",value:function(t,e){var i=Us();"string"==typeof t&&(t=[t]);var n=this.options.preload||[],r=t.filter((function(t){return n.indexOf(t)<0}));return r.length?(this.options.preload=n.concat(r),this.loadResources((function(t){i.resolve(),e&&e(t)})),i):(e&&e(),Promise.resolve())}},{key:"dir",value:function(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";var e=this.services&&this.services.languageUtils||new ul(Tl());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(e.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ol,r=Nl(Nl(Nl({},this.options),e),{isClone:!0}),o=new i(r);void 0===e.debug&&void 0===e.prefix||(o.logger=o.logger.clone(e));return["store","services","language"].forEach((function(e){o[e]=t[e]})),o.services=Nl({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new cl(o.services,o.options),o.translator.on("*",(function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];o.emit.apply(o,[t].concat(i))})),o.init(r,n),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),i}();Os(El,"createInstance",(function(){return new El(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}));var Dl=El.createInstance();function zl(t){return zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(t)}Dl.createInstance=El.createInstance,Dl.createInstance,Dl.dir,Dl.init,Dl.loadResources,Dl.reloadResources,Dl.use,Dl.changeLanguage,Dl.getFixedT,Dl.t,Dl.exists,Dl.setDefaultNamespace,Dl.hasLoadedNamespace,Dl.loadNamespaces,Dl.loadLanguages;var jl,Rl=[],Gl=Rl.forEach,Bl=Rl.slice;function Ul(t){return Gl.call(Bl.call(arguments,1),(function(e){if(e)for(var i in e)void 0===t[i]&&(t[i]=e[i])})),t}function Zl(){return"function"==typeof XMLHttpRequest||"object"===("undefined"==typeof XMLHttpRequest?"undefined":zl(XMLHttpRequest))}if("function"==typeof fetch&&(jl="undefined"!=typeof global&&global.fetch?global.fetch:"undefined"!=typeof window&&window.fetch?window.fetch:fetch),"undefined"!=typeof require&&("undefined"==typeof window||void 0===window.document)){var $l=jl||require("cross-fetch");$l.default&&($l=$l.default),exports.default=$l,module.exports=exports.default}var Fl,Wl,Vl,Yl=Object.freeze({__proto__:null});function Hl(t){return Hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(t)}"function"==typeof fetch&&(Fl="undefined"!=typeof global&&global.fetch?global.fetch:"undefined"!=typeof window&&window.fetch?window.fetch:fetch),Zl()&&("undefined"!=typeof global&&global.XMLHttpRequest?Wl=global.XMLHttpRequest:"undefined"!=typeof window&&window.XMLHttpRequest&&(Wl=window.XMLHttpRequest)),"function"==typeof ActiveXObject&&("undefined"!=typeof global&&global.ActiveXObject?Vl=global.ActiveXObject:"undefined"!=typeof window&&window.ActiveXObject&&(Vl=window.ActiveXObject)),Fl||!Yl||Wl||Vl||(Fl=Yl),"function"!=typeof Fl&&(Fl=void 0);var Xl=function(t,e){if(e&&"object"===Hl(e)){var i="";for(var n in e)i+="&"+encodeURIComponent(n)+"="+encodeURIComponent(e[n]);if(!i)return t;t=t+(-1!==t.indexOf("?")?"&":"?")+i.slice(1)}return t},Jl=function(t,e,i){Fl(t,e).then((function(t){if(!t.ok)return i(t.statusText||"Error",{status:t.status});t.text().then((function(e){i(null,{status:t.status,data:e})})).catch(i)})).catch(i)},Ql=!1,Kl=function(t,e,i,n){return"function"==typeof i&&(n=i,i=void 0),n=n||function(){},Fl&&0!==e.indexOf("file:")?function(t,e,i,n){t.queryStringParams&&(e=Xl(e,t.queryStringParams));var r=Ul({},"function"==typeof t.customHeaders?t.customHeaders():t.customHeaders);i&&(r["Content-Type"]="application/json");var o="function"==typeof t.requestOptions?t.requestOptions(i):t.requestOptions,a=Ul({method:i?"POST":"GET",body:i?t.stringify(i):void 0,headers:r},Ql?{}:o);try{Jl(e,a,n)}catch(t){if(!o||0===Object.keys(o).length||!t.message||t.message.indexOf("not implemented")<0)return n(t);try{Object.keys(o).forEach((function(t){delete a[t]})),Jl(e,a,n),Ql=!0}catch(t){n(t)}}}(t,e,i,n):Zl()||"function"==typeof ActiveXObject?function(t,e,i,n){i&&"object"===Hl(i)&&(i=Xl("",i).slice(1)),t.queryStringParams&&(e=Xl(e,t.queryStringParams));try{var r;(r=Wl?new Wl:new Vl("MSXML2.XMLHTTP.3.0")).open(i?"POST":"GET",e,1),t.crossDomain||r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.withCredentials=!!t.withCredentials,i&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.overrideMimeType&&r.overrideMimeType("application/json");var o=t.customHeaders;if(o="function"==typeof o?o():o)for(var a in o)r.setRequestHeader(a,o[a]);r.onreadystatechange=function(){r.readyState>3&&n(r.status>=400?r.statusText:null,{status:r.status,data:r.responseText})},r.send(i)}catch(t){console&&console.log(t)}}(t,e,i,n):void n(new Error("No fetch and no xhr implementation found!"))};function ql(t){return ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(t)}function tc(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ec(n.key),n)}}function ec(t){var e=function(t,e){if("object"!==ql(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==ql(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ql(e)?e:String(e)}var ic=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(t){return JSON.parse(t)},stringify:JSON.stringify,parsePayload:function(t,e,i){return function(t,e,i){return(e=ec(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}({},e,i||"")},request:Kl,reloadInterval:"undefined"==typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},nc=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.services=e,this.options=i,this.allOptions=n,this.type="backend",this.init(e,i,n)}var e,i,n;return e=t,i=[{key:"init",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=t,this.options=Ul(i,this.options||{},ic()),this.allOptions=n,this.services&&this.options.reloadInterval&&setInterval((function(){return e.reload()}),this.options.reloadInterval)}},{key:"readMulti",value:function(t,e,i){this._readAny(t,t,e,e,i)}},{key:"read",value:function(t,e,i){this._readAny([t],t,[e],e,i)}},{key:"_readAny",value:function(t,e,i,n,r){var o,a=this,s=this.options.loadPath;"function"==typeof this.options.loadPath&&(s=this.options.loadPath(t,i)),(s=function(t){return!!t&&"function"==typeof t.then}(o=s)?o:Promise.resolve(o)).then((function(o){if(!o)return r(null,{});var s=a.services.interpolator.interpolate(o,{lng:t.join("+"),ns:i.join("+")});a.loadUrl(s,r,e,n)}))}},{key:"loadUrl",value:function(t,e,i,n){var r=this;this.options.request(this.options,t,void 0,(function(o,a){if(a&&(a.status>=500&&a.status<600||!a.status))return e("failed loading "+t+"; status code: "+a.status,!0);if(a&&a.status>=400&&a.status<500)return e("failed loading "+t+"; status code: "+a.status,!1);if(!a&&o&&o.message&&o.message.indexOf("Failed to fetch")>-1)return e("failed loading "+t+": "+o.message,!0);if(o)return e(o,!1);var s,l;try{s="string"==typeof a.data?r.options.parse(a.data,i,n):a.data}catch(e){l="failed parsing "+t+" to json"}if(l)return e(l,!1);e(null,s)}))}},{key:"create",value:function(t,e,i,n,r){var o=this;if(this.options.addPath){"string"==typeof t&&(t=[t]);var a=this.options.parsePayload(e,i,n),s=0,l=[],c=[];t.forEach((function(i){var n=o.options.addPath;"function"==typeof o.options.addPath&&(n=o.options.addPath(i,e));var d=o.services.interpolator.interpolate(n,{lng:i,ns:e});o.options.request(o.options,d,a,(function(e,i){s+=1,l.push(e),c.push(i),s===t.length&&"function"==typeof r&&r(l,c)}))}))}}},{key:"reload",value:function(){var t=this,e=this.services,i=e.backendConnector,n=e.languageUtils,r=e.logger,o=i.language;if(!o||"cimode"!==o.toLowerCase()){var a=[],s=function(t){n.toResolveHierarchy(t).forEach((function(t){a.indexOf(t)<0&&a.push(t)}))};s(o),this.allOptions.preload&&this.allOptions.preload.forEach((function(t){return s(t)})),a.forEach((function(e){t.allOptions.ns.forEach((function(t){i.read(e,t,"read",null,null,(function(n,o){n&&r.warn("loading namespace ".concat(t," for language ").concat(e," failed"),n),!n&&o&&r.log("loaded namespace ".concat(t," for language ").concat(e),o),i.loaded("".concat(e,"|").concat(t),n,o)}))}))}))}}}],i&&tc(e.prototype,i),n&&tc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();nc.type="backend";class rc{static redirectTo(t){console.error("not redirecting to",t),document.dispatchEvent(new CustomEvent("yp-pause-media-playback",{bubbles:!0,detail:{}}))}static goToPost(t,e=void 0,i=void 0,n=void 0,r=!1){if(void 0===t)return void console.error("Can't find post id for goToPost");let o="/post/"+t;void 0!==e&&(o+="/"+e);const a=window.location.href;i&&(window.appGlobals.cache.cachedActivityItem=i),n&&n.Group&&n.Group.Community&&(window.appGlobals.cache.cachedPostItem=n),-1==a.indexOf(o)&&(window.appGlobals.activity("open","post",o,{id:t,modelType:"post"}),!0!==r&&window.app.setKeepOpenForPostsOn(window.location.pathname),setTimeout((()=>{this.redirectTo(o)})))}}class oc extends ys{constructor(t){super(),this.recommendationsGroupCache={},this.recommendationCallbacks={},this.lastRecommendationResponseLengths={},this.currentlyDownloadingIds={},this.preCacheLimit=3,this.serverApi=t}getNextRecommendationForGroup(t,e,i){if(this.currentPostId=e,this.recommendationCallbacks[t]=i,this.recommendationsGroupCache[t])if(this.recommendationsGroupCache[t].length>0){const e=this._getSelectedPost(t);e&&window.appGlobals.showRecommendationInfoIfNeeded(),i(e)}else i(null);else this._getRecommendationsForGroup(t)}_preCacheMediaForPost(t){setTimeout((()=>{let e=null;t.cover_media_type&&"none"!==t.cover_media_type||t.Category?t.cover_media_type&&"none"!==t.cover_media_type||!t.Category?"image"===t.cover_media_type&&(e=this._getImageFormatUrl(t.PostHeaderImages,0)):e=this._getCategoryImagePath(t):e="https://i.imgur.com/sdsFAoT.png",e&&((new Image).src=e)}))}_getImageFormatUrl(t,e){if(!(t&&t.length>0))return"";{const i=JSON.parse(t[t.length-1].formats);if(i&&i.length>0)return i[e]}}_getCategoryImagePath(t){return t&&t.Category&&t.Category.CategoryIconImages?this._getImageFormatUrl(t.Category.CategoryIconImages,0):""}_downloadItemToCache(t){setTimeout((()=>{this.currentlyDownloadingIds[t]?console.warn("Recommendation already downloading: "+t):(this.currentlyDownloadingIds[t]=!0,console.log("Recommendation downloading for cache: "+t),fetch("/api/posts/"+t).then((e=>(this.currentlyDownloadingIds[t]=!1,e.json()))).then((e=>{e?this._preCacheMediaForPost(e):console.error("Recommendation no post to save to cache"),window.appGlobals.cache.postItemsCache[t]=e})).catch((e=>{console.error("Recommendation: Error in getting post for cache",e),this.currentlyDownloadingIds[t]=!1})))}))}_ensureNextItemsAreCached(t){for(let e=0;e<Math.min(this.recommendationsGroupCache[t].length-1,this.preCacheLimit);e++)window.appGlobals.cache.postItemsCache[this.recommendationsGroupCache[t][e].id]||this._downloadItemToCache(this.recommendationsGroupCache[t][e].id)}async _getRecommendationsForGroup(t){const e=await this.serverApi.getRecommendationsForGroup(t);e&&(this.lastRecommendationResponseLengths[t]=e.length,this.recommendationsGroupCache[t]?this.recommendationsGroupCache[t]=this.recommendationsGroupCache[t].concat(e):this.recommendationsGroupCache[t]=e,this.recommendationCallbacks[t]&&(this.recommendationCallbacks[t](this._getSelectedPost(t)),delete this.recommendationCallbacks[t]))}_getSelectedPost(t){if(this.recommendationsGroupCache[t]){let e=this.recommendationsGroupCache[t][0];return e?(e.id===this.currentPostId&&(this.recommendationsGroupCache[t].shift(),e=this.recommendationsGroupCache[t].length>0?this.recommendationsGroupCache[t][0]:null),e&&this._ensureNextItemsAreCached(t),e):(console.warn("Recommendation no post for getSelectedPost, groupId: "+t),null)}return null}reset(){this.recommendationsSeenPostIds={},this.lastRecommendationResponseLengths={},this.recommendationCallbacks={},this.recommendationsGroupCache={}}}class ac extends ys{constructor(){super(...arguments),this.backToDomainCommunityItems={},this.backToCommunityGroupItems={},this.communityItemsCache={},this.groupItemsCache={},this.postItemsCache={},this.autoTranslateCache={}}addPostsToCacheLater(t){const e=Math.floor(1e3*Math.random())+750;setTimeout((()=>{this.addPostsToCache(t)}),e)}addPostsToCache(t){if(t)for(let e=0;e<t.length;e++)this.postItemsCache[t[e].id]||(this.postItemsCache[t[e].id]=t[e]);else console.error("No posts for cache")}getPostFromCache(t){return this.postItemsCache[t]}updatePostInCache(t){this.postItemsCache[t.id]=t}}class sc extends ys{_onlineEvent(){this.showToast(this.t("youAreOnline")),this._checkContentToSend()}_offlineEvent(){this.showToast(this.t("youAreNowOffline"))}_urlWithQuery(t,e){const i=Object.keys(e).filter((t=>void 0!==e[t]&&"object"!=typeof e[t])).map((t=>encodeURIComponent(t)+"="+encodeURIComponent(e[t]))).join("&");return t+=(-1===t.indexOf("?")?"?":"&")+i}_getItemsFromLocalStorage(){const t=[];for(let e=0;e<localStorage.length;e++){const i=localStorage.key(e);i&&i.indexOf(this.sendLaterStoragePrefix)>-1&&t.push({key:i,content:JSON.parse(localStorage.getItem(i))})}return t}_sendItems(t){t.forEach((t=>{const e=t.content;fetch(e.url,{method:e.method,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e.body)}).then((()=>{this.showToast(this.t("storedDataSent")),localStorage.removeItem(t.key)})).catch((t=>{console.error(t),this.showToast(this.t("errorSendingContentWhenOnline"))}))}))}_checkContentToSend(){setTimeout((()=>{const t=this._getItemsFromLocalStorage();t.length>0?navigator.onLine?window.appUser.user?this._sendItems(t):this.showToast(this.t("notLoggedInContentSentWhenLoggedIn")):this.showToast(this.t("offlineContentSentWhenOnline")):navigator.onLine||this.showToast(this.t("youAreOffline"))}),4e3)}checkContentToSendForLoggedInUser(){this._checkContentToSend()}sendWhenOnlineNext(t){setTimeout((()=>{const e=this.sendLaterStoragePrefix+(new Date).getTime();localStorage.setItem(e,JSON.stringify(t)),this.showToast(this.t("offlineContentSentWhenOnline"))}))}constructor(){super(),this.sendLaterStoragePrefix="yp-send-later-",window.addEventListener("online",this._onlineEvent.bind(this)),window.addEventListener("offline",this._offlineEvent.bind(this)),this._checkContentToSend()}}class lc extends ys{constructor(){super(...arguments),this.communityTrackerIds={}}setupGoogleAnalytics(t){t.public_api_keys&&t.public_api_keys&&t.public_api_keys.google&&t.public_api_keys.google.analytics_tracking_id?ga("create",t.public_api_keys.google.analytics_tracking_id,"auto"):t.google_analytics_code&&""!=t.google_analytics_code&&ga("create",t.google_analytics_code,"auto"),"function"==typeof ga?(ga("set","anonymizeIp",!0),ga("send","pageview",location.pathname),ga("set","nonInteraction",!0),setTimeout((()=>{ga("set","nonInteraction",!1)}),900)):console.warn("Can't find Google Analytics object")}facebookPixelTracking(t,e=void 0){if(this.pixelTrackerId&&t){let i;i="pageview"===t?"PageView":"event"===t&&e?e:t;new Image(1,1).src="https://www.facebook.com/tr?id="+this.pixelTrackerId+"&ev="+i+"&noscript=1",console.debug("Have sent to Facebook pixel: "+i)}}setCommunityPixelTracker(t){if(t&&""!==t)if(null!=localStorage.getItem("consentGivenForFacebookPixelTracking")){const e=this.pixelTrackerId;this.pixelTrackerId=t,t!==e&&this.facebookPixelTracking("pageview")}else localStorage.getItem("disableFacebookPixelTracking")?console.log("Facebook tracking disabled"):this.fireGlobal("yp-open-pixel-cookie-confirm",t);else this.pixelTrackerId=void 0}setCommunityAnalyticsTracker(t){if(t=t?.trim(),t&&t.length>5){const e=this.communityTrackerId;this.communityTrackerId=t,t!==e&&this.sendToAnalyticsTrackers("sendOnlyCommunity","pageview",location.pathname)}else this.communityTrackerId=void 0}sendToAnalyticsTrackers(t,e,i,n=void 0,r=void 0,o=void 0){if("function"==typeof ga){if("sendOnlyCommunity"!=t&&(ga("send",e,i,n,r,o),console.debug("Analytics global: send "+e+" "+i+" "+n)),this.communityTrackerId){let t="tracker"+this.communityTrackerId.replace(/-/g,"");this.communityTrackerIds[this.communityTrackerId]||(ga("create",this.communityTrackerId,"auto",t),this.communityTrackerIds[this.communityTrackerId]=!0,console.debug("Created tracker: "+t)),t+=".send",console.debug("Analytics: "+t+": "+e+" "+i+" "+n),ga(t,e,i,n,r,o)}}else console.warn("Google analytics message not sent for a:"+t+" b:"+e+" c:"+i+" d:"+n+" e:"+r+" f:"+o);"sendOnlyCommunity"!=t&&this.facebookPixelTracking(e,i)}sendLoginAndSignup(t,e,i,n=void 0){if("function"==typeof ga){let r;t&&ga("set","&uid",t);let o=i;switch(e){case"Signup Success":r={dimension1:t,dimension2:"Yes",dimension3:i,metric1:"1"};break;case"Signup Fail":r={dimension3:i,metric2:"1"},o+=": "+n;break;case"Signup Submit":r={dimension3:i,metric3:"1"};break;case"Login Success":r={dimension1:t,dimension2:"Yes",dimension3:i,metric4:"1"};break;case"Login Fail":r={dimension3:i,metric5:"1"},o+=": "+n;break;case"Login Submit":r={dimension3:i,metric6:"1"};break;case"Signup/Login Opened":r={metric7:"1"}}this.sendToAnalyticsTrackers("send","event","Login and Signup",e,o,r)}}}class cc{constructor(){this.themes=[],this.setLoadingStyles(),this.themes.push({name:"Reykjavík","--mdc-theme-background":"#f7f7f7","--mdc-theme-primary":"#103458","--mdc-theme-secondary":"#ff6500"}),this.themes.push({name:"Basalt Gray","--mdc-theme-background":"#f7f7f7","--mdc-theme-primary":"#37474f","--mdc-theme-secondary":"#ff6500"}),this.themes.push({name:"Green Moss","--mdc-theme-background":"#dcedc8","--mdc-theme-primary":"#558b2f","--mdc-theme-secondary":"#c51162"}),this.themes.push({name:"Google Blue","--mdc-theme-background":"#e3f2fd","--mdc-theme-primary":"#1565c0","--mdc-theme-secondary":"#ff3d00"}),this.themes.push({name:"Red Rhubarb","--mdc-theme-background":"#f1f8e9","--mdc-theme-primary":"#c62828","--mdc-theme-secondary":"#ffd600"}),this.themes.push({name:"Mountain Roses","--mdc-theme-background":"#f1f8e9","--mdc-theme-primary":"#2e7d32","--mdc-theme-secondary":"#d50000"}),this.themes.push({name:"Purple Wizards","--mdc-theme-background":"#ede7f6","--mdc-theme-primary":"#4527a0","--mdc-theme-secondary":"#d50000"}),this.themes.push({name:"Kópavogur","--mdc-theme-background":"#F0F0F0","--mdc-theme-primary":"#004E24","--mdc-theme-secondary":"#ff6500"}),this.themes.push({name:"Forbrukerrådet","--mdc-theme-background":"#f5f5f5","--mdc-theme-primary":"#4b7179","--mdc-theme-secondary":"#d0672f"}),this.themes.push({name:"Forbrukerrådet Fonts","--mdc-theme-background":"#f5f5f5","--mdc-theme-primary":"#4b7179","--mdc-theme-secondary":"#d0672f",fonts:{htmlImport:"/styles/fonts/forbrukerradet-font.html",fontName:"FFClanWebBook"}}),this.themes.push({name:"I choose Malta","--mdc-theme-background":"#cfd8dc","--mdc-theme-primary":"#001a4b","--mdc-theme-secondary":"#d71920"}),this.themes.push({name:"Reykjavík Blue","--mdc-theme-background":"#f7f7f7","--mdc-theme-primary":"#084F71","--mdc-theme-secondary":"#ff6500"}),this.themes.push({name:"Unicorn 1","--mdc-theme-background":"#f7f7f7","--mdc-theme-primary":"#aa3319","--mdc-theme-secondary":"#112e4c"}),this.themes.push({name:"Unicorn 2","--mdc-theme-background":"#f7f7f7","--mdc-theme-primary":"#282828","--mdc-theme-secondary":"#aa3319"}),this.themes.push({name:"Mount Air","--mdc-theme-background":"#f7f7f7","--mdc-theme-primary":"#0d3c55","--mdc-theme-secondary":"#f16c20"}),this.themes.push({name:"Snjallborg","--mdc-theme-background":"#cfd8dc","--mdc-theme-primary":"#1e9ac8","--mdc-theme-secondary":"#ee7aa2"}),this.themes.push({name:"Black","--mdc-theme-background":"#f7f7f7","--mdc-theme-primary":"#282828","--mdc-theme-secondary":"#ff6500"}),this.themes.push({name:"Nesið Okkar","--mdc-theme-background":"#cfd8dc","--mdc-theme-primary":"#525254","--mdc-theme-secondary":"#e0701e"}),this.themes.push({disabled:!0,name:"Snjallborg","--mdc-theme-background":"#cfd8dc","--mdc-theme-primary":"#1e9ac8","--mdc-theme-secondary":"#ee7aa2"}),this.themes.push({disabled:!0,name:"Black","--mdc-theme-background":"#cfd8dc","--mdc-theme-primary":"#282828","--mdc-theme-secondary":"#ff6500"}),this.themes.push({disabled:!0,name:"Nesið Okkar","--mdc-theme-background":"#cfd8dc","--mdc-theme-primary":"#525254","--mdc-theme-secondary":"#e0701e"}),this.themes.push({name:"Iceland","--mdc-theme-background":"#cfd8dc","--mdc-theme-primary":"#282828","--mdc-theme-secondary":"#dc1e35"}),this.themes.push({name:"The Westbourne","--mdc-theme-background":"#f1f8e9","--mdc-theme-primary":"#c62828","--mdc-theme-secondary":"#fbba00"}),this.themes.push({name:"Amsterdam","--mdc-theme-background":"#cfd8dc","--mdc-theme-primary":"#164995","--mdc-theme-secondary":"#ed1b24"}),this.themes.push({name:"AS Roma","--mdc-theme-background":"#DDDBDA","--mdc-theme-primary":"#970a2c","--mdc-theme-secondary":"#fbba00"}),this.themes.push({name:"AS Roma Inverted","--mdc-theme-background":"#DDDBDA","--mdc-theme-primary":"#970a2c","--mdc-theme-secondary":"#1D1D1B"}),this.themes.push({name:"New Jersey","--mdc-theme-background":"#f7f7f7","--mdc-theme-primary":"#56920C","--mdc-theme-secondary":"#1880c7"}),this.themes.push({name:"New Jersey Inverted","--mdc-theme-background":"#f7f7f7","--mdc-theme-primary":"#1880c7","--mdc-theme-secondary":"#56920C"}),this.themes.push({name:"Scottish Parliament","--mdc-theme-background":"#f7f7f7","--mdc-theme-primary":"#500778","--mdc-theme-secondary":"#E87722"}),this.themes.push({name:"RoStartup","--mdc-theme-background":"#F7F7F7","--mdc-theme-primary":"#154164","--mdc-theme-secondary":"#1f52a5","--app-header-font-weight":"500","--app-tags-text-color":"#1f52a5","--app-tags-font-weight":"500",fonts:{htmlImport:"/styles/fonts/rostartup-font.html",fontName:"Montserrat"}}),this.themes.push({name:"wienExtra","--mdc-theme-background":"#F7F7F7","--mdc-theme-primary":"#292929","--mdc-theme-secondary":"#ff0000",fonts:{htmlImport:"/styles/fonts/junges-wien-font.html",fontName:"WienerMelange"}}),this.themes.push({name:"Frumbjörg","--mdc-theme-background":"#fefefe","--mdc-theme-primary":"#17263e","--mdc-theme-secondary":"#1f5d04c3ca5",fonts:{htmlImport:"/styles/fonts/frumbjorg-font.html",fontName:"Merriweather"}})}_setupOverrideTheme(t,e,i){return i||(i="#cfd8dc"),{"--mdc-theme-background":i,"--mdc-theme-primary":t,"--mdc-theme-secondary":e}}setLoadingStyles(){this.updateStyles({"--mdc-theme-background":"#7f7f7f","--mdc-theme-primary":"#333","--mdc-theme-secondary":"#333","--mdc-theme-surface":"#FFF","--mdc-theme-on-primary":"#FFF","--mdc-theme-on-secondary":"#FFF","--mdc-theme-on-surface":"#111","--mdc-theme-on-surface-lighter":"#888","--mdc-typography-headline1-font-size":"22px","--mdc-typography-headline1-font-weight":"700","--mdc-typography-headline2-font-size":"18px","--mdc-typography-headline2-font-weight":"700"})}updateStyles(t){for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&window.app&&window.app.style.setProperty(e,t[e])}_onlyGetStylesFromTheme(t){const e={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&"name"!==i&&"disabled"!==i&&(e[i]=t[i]);return e}setTheme(t,e=void 0){if(e&&e.themeOverrideColorPrimary&&e.themeOverrideColorPrimary.length>5&&e.themeOverrideColorAccent&&e.themeOverrideColorAccent.length>5?(6===e.themeOverrideColorPrimary.length&&(e.themeOverrideColorPrimary="#"+e.themeOverrideColorPrimary),6===e.themeOverrideColorAccent.length&&(e.themeOverrideColorAccent="#"+e.themeOverrideColorAccent),e.themeOverrideBackgroundColor&&6===e.themeOverrideBackgroundColor.length&&(e.themeOverrideBackgroundColor="#"+e.themeOverrideBackgroundColor),this.updateStyles(this._setupOverrideTheme(e.themeOverrideColorPrimary,e.themeOverrideColorAccent,e.themeOverrideBackgroundColor))):void 0!==t&&this.themes[t]&&this.updateStyles(this._onlyGetStylesFromTheme(this.themes[t])),t&&this.themes[t]&&("wienExtra"===this.themes[t].originalName||"RoStartup"===this.themes[t].originalName||"Frumbjörg"===this.themes[t].originalName)){const t=new CustomEvent("yp-large-font",{detail:!0,bubbles:!0,composed:!0});document.dispatchEvent(t)}else if(t&&this.themes[t]){const t=new CustomEvent("yp-large-font",{detail:!1,bubbles:!0,composed:!0});document.dispatchEvent(t)}}}class dc extends ys{constructor(t,e=!1){super(),this.seenWelcome=!1,this.resetSeenWelcome=!1,this.disableWelcome=!1,this.activityHost="",this.groupConfigOverrides={},this.currentForceSaml=!1,this.disableFacebookLoginForGroup=!1,this.originalQueryParameters={},this.externalGoalCounter=0,this.autoTranslate=!1,this.goalTriggerEvents=["Voting - left","Voting - right","New Idea - added"],this.haveLoadedLanguages=!1,this.hasTranscriptSupport=!1,this.hasVideoUpload=!1,this.hasAudioUpload=!1,this.groupLoadNewPost=!1,this.appStartTime=new Date,this.serverApi=t,e||(this.recommendations=new oc(t),this.cache=new ac,this.analytics=new lc,this.theme=new cc,this.offline=new sc,this.boot(),this.hasVideoUploadSupport(),this.hasAudioUploadSupport(),this.fireGlobal("app-ready"),this.parseQueryString(),this.addGlobalListener("yp-logged-in",this._userLoggedIn.bind(this)))}showRecommendationInfoIfNeeded(){localStorage.getItem("ypHaveShownRecommendationInfo")||(localStorage.setItem("ypHaveShownRecommendationInfo","1"),this.fireGlobal("yp-notify-dialog",{text:this.t("recommendationToastInfo")}))}showSpeechToTextInfoIfNeeded(){window.appGlobals.hasTranscriptSupport&&!localStorage.getItem("haveShownTranscriptInfo")&&(localStorage.setItem("haveShownTranscriptInfo","1"),this.fireGlobal("yp-notify-dialog",{text:this.t("speechToTextInfo")}))}async hasVideoUploadSupport(){const t=await this.serverApi.hasVideoUploadSupport();t&&(window.appGlobals.hasVideoUpload=t.hasVideoUploadSupport,window.appGlobals.hasTranscriptSupport=t.hasTranscriptSupport,this.fireGlobal("yp-has-video-upload"))}sendVideoView(t){this.serverApi.sendVideoView({videoId:t}),this.activity("view","video",t)}sendLongVideoView(t){this.serverApi.sendVideoView({videoId:t,longPlaytime:!0}),this.activity("view","videoLong",t)}async hasAudioUploadSupport(){const t=await this.serverApi.hasAudioUploadSupport();t&&(window.appGlobals.hasAudioUpload=t.hasAudioUploadSupport,this.fireGlobal("yp-has-audio-upload"))}sendAudioListen(t){this.serverApi.sendAudioView({audioId:t}),this.activity("view","audio",t)}sendLongAudioListen(t){this.serverApi.sendAudioView({audioId:t,longPlaytime:!0}),this.activity("view","audioLong",t)}changeLocaleIfNeededAfterWait(t,e){!0===window.appGlobals.haveLoadedLanguages&&t&&this.language!=t&&(!e&&localStorage.getItem("yp-user-locale")||Dl.changeLanguage(t,(()=>{this.fireGlobal("yp-language-loaded",{language:t}),this.fireGlobal("language-loaded",{language:t})})))}setHighlightedLanguages(t){this.highlightedLanguages=t,this.fireGlobal("yp-refresh-language-selection")}changeLocaleIfNeeded(t,e=!1){window.appGlobals.haveLoadedLanguages?this.changeLocaleIfNeededAfterWait(t,e):setTimeout((()=>{console.warn("Locales not loaded while trying to load languages, trying again in 100 ms"),this.changeLocaleIfNeeded(t,e)}),100)}parseQueryString(){const t=(window.location.search||"?").substr(1),e={};t.split("&").forEach((t=>{const i=t.split("="),n=decodeURIComponent(i[0]),r=decodeURIComponent(i.length>1?i[1]:"");e[n]=r})),this.originalQueryParameters=e}setAnonymousUser(t){this.currentAnonymousUser=t}setRegistrationQuestionGroup(t){t&&t.configuration&&t.configuration.registrationQuestionsJson?(this.registrationQuestionsGroup=t,window.appUser.checkRegistrationAnswersCurrent()):this.registrationQuestionsGroup=void 0}setAnonymousGroupStatus(t){t&&t.configuration&&(t.configuration.allowAnonymousUsers||t.configuration.allowOneTimeLoginWithName)?(this.currentAnonymousGroup=t,!window.appUser.user&&this.currentAnonymousUser?window.appUser.setLoggedInUser(this.currentAnonymousUser):window.appUser&&!window.appUser.user&&t.configuration.allowAnonymousAutoLogin&&this.originalQueryParameters&&this.originalQueryParameters.autoLogin&&window.appUser.autoAnonymousLogin()):(window.appUser&&window.appUser.user&&window.appUser.user.profile_data&&window.appUser.user.profile_data.isAnonymousUser&&window.appUser.removeAnonymousUser(),this.currentAnonymousGroup=void 0)}_domainChanged(t){t&&this.fireGlobal("yp-domain-changed",{domain:t})}notifyUserViaToast(t){this.fireGlobal("yp-open-toast",{text:t})}reBoot(){this.boot()}_userLoggedIn(t){const e=t.detail;e&&setTimeout((()=>{"function"==typeof ga&&ga("set","&uid",e.id)}),250),this.recommendations.reset()}setupTranslationSystem(t=""){const e=window.location.hostname;let i="en";if(e.indexOf("betrireykjavik")>-1)i="is";else if(e.indexOf("betraisland")>-1)i="is";else if(e.indexOf("forbrukerradet")>-1)i="no";else{const t=e.substring(e.lastIndexOf("."));i={".fr":"fr",".hr":"hr",".hu":"hu",".is":"is",".nl":"nl",".no":"no",".pl":"pl",".tw":"zh_TW"}[t]||"en"}const n=localStorage.getItem("yp-user-locale");let r;n&&(i=n),window.appGlobals.originalQueryParameters&&window.appGlobals.originalQueryParameters.locale&&(r=window.appGlobals.originalQueryParameters.locale),window.appGlobals.originalQueryParameters&&window.appGlobals.originalQueryParameters.startAutoTranslate&&setTimeout((()=>{this.startTranslation()}),2500),r&&r.length>1&&(i=r,localStorage.setItem("yp-user-locale",r)),Dl.use(nc).init({lng:i,fallbackLng:"en",backend:{loadPath:`${t}/locales/{{lng}}/{{ns}}.json`}},(()=>{window.appGlobals.locale=i,window.appGlobals.i18nTranslation=Dl,window.appGlobals.haveLoadedLanguages=!0,this.fireGlobal("yp-language-loaded",{language:i}),this.fireGlobal("language-loaded",{language:i})}))}startTranslation(){window.appGlobals.autoTranslate=!0,this.fireGlobal("yp-auto-translate",!0),window.appDialogs.getDialogAsync("masterToast",(t=>{t.labelText=this.t("autoTranslationStarted"),t.open=!0}))}stopTranslation(){window.appGlobals.autoTranslate=!1,this.fireGlobal("yp-auto-translate",!1),window.appDialogs.getDialogAsync("masterToast",(t=>{t.labelText=this.t("autoTranslationStopped"),t.open=!0})),sessionStorage.setItem("dontPromptForAutoTranslation","1")}async boot(){const t=await this.serverApi.boot();t&&(this.domain=t.domain,this._domainChanged(this.domain),"/"==window.location.pathname&&(t.community&&t.community.configuration&&t.community.configuration.redirectToGroupId?rc.redirectTo("/group/"+t.community.configuration.redirectToGroupId):t.community&&!t.community.is_community_folder?rc.redirectTo("/community/"+t.community.id):t.community&&t.community.is_community_folder?rc.redirectTo("/community_folder/"+t.community.id):(rc.redirectTo("/domain/"+this.domain.id),this.fireGlobal("yp-change-header",{headerTitle:this.domain.domain_name,headerDescription:this.domain.description}))))}setupGroupConfigOverride(t,e){const i={};e.split(";").forEach((function(t){const e=t.split("=");i[e[0]]=e[1]})),this.groupConfigOverrides[t]=i,i.ln&&this.changeLocaleIfNeeded(i.ln,!0)}overrideGroupConfigIfNeeded(t,e){e||(e={});const i=this.groupConfigOverrides[t];return i?(i.hg&&(e.hideGroupHeader=Boolean(i.hg)),i.ht&&(e.hideAllTabs=Boolean(i.ht)),i.hh&&(e.hideHelpIcon=Boolean(i.hh)),i.rn&&(e.customBackName=i.rn),i.ru&&(e.customBackURL=i.ru),e):e}checkExternalGoalTrigger(t){this.externalGoalTriggerUrl&&this.originalQueryParameters&&this.originalQueryParameters.goalThreshold&&this.goalTriggerEvents.indexOf(t)>-1&&(this.externalGoalCounter+=1,this.externalGoalCounter==this.originalQueryParameters.goalThreshold&&this.fireGlobal("yp-external-goal-trigger"))}activity(t,e,i=void 0,n=void 0){let r;r=window.appUser&&window.appUser.user?window.appUser.user.id:"-1";let o="activity stream: "+r+" "+t+" "+e;console.log(o),i&&(o+=" "+i),"open"==t?setTimeout((()=>{this.analytics.sendToAnalyticsTrackers("send","event",e,t)}),25):this.analytics.sendToAnalyticsTrackers("send","event",e,t),this.serverApi.createActivityFromApp({actor:r,type:t,object:e,target:JSON.stringify(n),context:i||"",path_name:location.pathname,event_time:(new Date).toISOString(),session_id:this.getSessionFromCookie(),user_agent:navigator.userAgent}),"Voting - left"!==t&&"Voting - right"!==t&&"New Idea - added"!==t||this.checkExternalGoalTrigger(t)}setSeenWelcome(){this.seenWelcome=!0,localStorage.setItem("yrpri-welcome-status","1")}getSessionFromCookie(){const t=document.cookie.split(";");let e="";for(let i=0;i<t.length;i++){const n=t[i].split("=")[0],r=t[i].split("=")[1];" connect.sid"==n&&(e=r)}return e}}class uc extends dc{constructor(t){super(t,!0),this.disableParentConstruction=!0,this.getEarlName=()=>{const t=new URLSearchParams(window.location.search);if(t.has("name"))return t.get("name");{const t=window.location.pathname.split("/");if(t.length>=2&&t[1])return t[1]}return console.error(`Earl name not found in URL or path: ${window.location.href}`),null},this.setIds=t=>{this.questionId=t.detail.questionId,this.earlId=t.detail.earlId,this.promptId=t.detail.promptId},this.parseQueryString=()=>{const t=(window.location.search||"?").substr(1);let e={};const i=/([^&=]+)=?([^&]*)(?:&+|$)/g;let n;for(;n=i.exec(t);){const t=n[1],i=n[2];e[t]=i}this.originalQueryParameters=e},this.getSessionFromCookie=()=>{const t=document.cookie.split(";");let e="";for(let i=0;i<t.length;i++){let n=t[i].split("=")[0],r=t[i].split("=")[1];"_all_our_ideas_session"===n.trim()&&(e=r)}return e},this.activity=(t,e)=>{let i;window.appUser&&window.appUser.user||(i="-1");const n=new Date,r={actor:i,type:t,object:e,path_name:location.pathname,event_time:n.toISOString(),session_id:this.getSessionFromCookie(),originalQueryString:this.getOriginalQueryString(),originalReferrer:this.originalReferrer,questionId:this.questionId,earlId:this.earlId,promptId:this.promptId,earlName:this.earlName,userLocale:window.locale,userAutoTranslate:window.autoTranslate,user_agent:navigator.userAgent,referrer:document.referrer,url:location.href,screen_width:window.innerWidth};"function"==typeof gtag&&gtag("event",t);try{fetch("/api/analytics/createActivityFromApp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((e=>{e.ok?"Voting - left"!==t&&"Voting - right"!==t&&"New Idea - added"!==t||this.checkExternalGoalTrigger(t):console.error(`HTTP error! status: ${e.status}`)})).catch((t=>{console.error("There has been a problem with your fetch operation:",t)}))}catch(t){console.error(t)}},this.parseQueryString(),this.originalReferrer=document.referrer,document.addEventListener("set-ids",this.setIds.bind(this))}getOriginalQueryString(){return this.originalQueryParameters?new URLSearchParams(this.originalQueryParameters).toString():null}}function hc(t,e,i,n){if("string"!=typeof t&&"dynamic"!==i||"object"!=typeof t&&"dynamic"===i)throw new Error("color / scheme type mismatch");let r;if("tonal"===i)r=new bo(Jr.fromInt(wo(t)),e,n);else if("fidelity"===i)r=new fo(Jr.fromInt(wo(t)),e,n);else if("vibrant"===i)r=new yo(Jr.fromInt(wo(t)),e,n);else if("expressive"===i)r=new go(Jr.fromInt(wo(t)),e,n);else if("content"===i)r=new po(Jr.fromInt(wo(t)),e,n);else if("neutral"===i)r=new vo(Jr.fromInt(wo(t)),e,n);else if("monochrome"===i)r=new mo(Jr.fromInt(wo(t)),e,n);else if("dynamic"===i&&"object"==typeof t){console.log(t);const i=Jr.fromInt(wo(t.primary)),o=Jr.fromInt(wo(t.secondary)),a=Jr.fromInt(wo(t.tertiary)),s=Jr.fromInt(wo(t.neutral));console.log(t.primary),r=new co({sourceColorArgb:wo(t.primary),variant:5,contrastLevel:n,isDark:e,primaryPalette:so.fromHueAndChroma(i.hue,i.chroma),secondaryPalette:so.fromHueAndChroma(o.hue,o.chroma),tertiaryPalette:so.fromHueAndChroma(a.hue,a.chroma),neutralPalette:so.fromHueAndChroma(s.hue,s.chroma),neutralVariantPalette:so.fromHueAndChroma(s.hue,s.chroma/8+4)})}return function(t){const e=function(t){return{"highest-surface":ao.highestSurface(t),background:ao.background,"on-background":ao.onBackground,surface:ao.surface,"surface-dim":ao.surfaceDim,"surface-bright":ao.surfaceBright,"surface-container-lowest":ao.surfaceContainerLowest,"surface-container-low":ao.surfaceContainerLow,"surface-container":ao.surfaceContainer,"surface-container-high":ao.surfaceContainerHigh,"surface-container-highest":ao.surfaceContainerHighest,"on-surface":ao.onSurface,"surface-variant":ao.surfaceVariant,"on-surface-variant":ao.onSurfaceVariant,"inverse-surface":ao.inverseSurface,"inverse-on-surface":ao.inverseOnSurface,outline:ao.outline,"outline-variant":ao.outlineVariant,shadow:ao.shadow,scrim:ao.scrim,"surface-tint":ao.surfaceTintColor,primary:ao.primary,"on-primary":ao.onPrimary,"primary-container":ao.primaryContainer,"on-primary-container":ao.onPrimaryContainer,"inverse-primary":ao.inversePrimary,"inverse-on-primary":ao.inverseOnPrimary,secondary:ao.secondary,"on-secondary":ao.onSecondary,"secondary-container":ao.secondaryContainer,"on-secondary-container":ao.onSecondaryContainer,tertiary:ao.tertiary,"on-tertiary":ao.onTertiary,"tertiary-container":ao.tertiaryContainer,"on-tertiary-container":ao.onTertiaryContainer,error:ao.error,"on-error":ao.onError,"error-container":ao.errorContainer,"on-error-container":ao.onErrorContainer}}(t),i={};for(const[n,r]of Object.entries(e))i[n]=xo(r.getArgb(t));return i}(r)}function pc(t,e,i="material-theme"){let n=":root{";for(const[t,i]of Object.entries(e))n+=`--md-sys-color-${t}:${i};`;n+="}",function(t,e,i){let n=window[i];n||(n=new CSSStyleSheet,t.adoptedStyleSheets.push(n),window[i]=n);n.replace(e)}(t,n,i)}class gc{static _hasAdminRights(t,e){return null!=e.find((e=>e.id==t))}static _hasAccess(t,e,i){return t?!(!window.appUser||!window.appUser.user)&&(window.appUser.user.id==t.user_id||(!(!t.User||window.appUser.user.id!=t.User.id)||!!window.appUser.adminRights&&this._hasAdminRights(e,i))):!!window.appUser&&(console.warn("No object in hasAccess"),!1)}static hasImageAccess(t,e){return!!(t&&e&&window.appUser&&window.appUser.adminRights)&&this._hasAccess(t,e.group_id,window.appUser.adminRights.GroupAdmins)}static checkPostAccess(t){return t&&window.appUser&&window.appUser.adminRights?this._hasAccess(t,t.group_id,window.appUser.adminRights.GroupAdmins):t&&t.User&&window.appUser&&window.appUser.user?t.User.id===window.appUser.user.id:(t||console.warn("No post in hasAccess"),!1)}static checkPointAccess(t){return t&&t.Post&&window.appUser&&window.appUser.adminRights?this._hasAccess(t,t.Post.group_id,window.appUser.adminRights.GroupAdmins):!!(t&&window.appUser&&window.appUser.user&&window.appUser.user.id==t.user_id)}static checkPostAdminOnlyAccess(t){return t&&window.appUser&&window.appUser.adminRights?this._hasAdminRights(t.group_id,window.appUser.adminRights.GroupAdmins):(t||console.warn("No post in hasAccess"),!1)}static checkGroupAccess(t){return t&&window.appUser&&window.appUser.adminRights?this._hasAccess(t,t.id,window.appUser.adminRights.GroupAdmins):(t||console.warn("No group in hasAccess"),!1)}static checkCommunityAccess(t){return t&&window.appUser&&window.appUser.adminRights?this._hasAccess(t,t.id,window.appUser.adminRights.CommunityAdmins):(t||console.warn("No community in hasAccess"),!1)}static checkDomainAccess(t){return t&&window.appUser&&window.appUser.adminRights?this._hasAccess(t,t.id,window.appUser.adminRights.DomainAdmins):(t||console.warn("No domain in hasAccess"),!1)}static hasUserAccess(t){return!!(t&&window.appUser&&window.appUser.user&&window.appUser.user.id==t.id)}}var fc="3.4.1";function mc(t,e){return new Promise((function(i){return setTimeout(i,t,e)}))}function vc(t){return!!t&&"function"==typeof t.then}function bc(t,e){try{var i=t();vc(i)?i.then((function(t){return e(!0,t)}),(function(t){return e(!1,t)})):e(!0,i)}catch(t){e(!1,t)}}function yc(t,e,i){return void 0===i&&(i=16),r(this,void 0,void 0,(function(){var n,r,a;return o(this,(function(o){switch(o.label){case 0:n=Date.now(),r=0,o.label=1;case 1:return r<t.length?(e(t[r],r),(a=Date.now())>=n+i?(n=a,[4,mc(0)]):[3,3]):[3,4];case 2:o.sent(),o.label=3;case 3:return++r,[3,1];case 4:return[2]}}))}))}function xc(t){t.then(void 0,(function(){}))}function wc(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var i=[0,0,0,0];return i[3]+=t[3]+e[3],i[2]+=i[3]>>>16,i[3]&=65535,i[2]+=t[2]+e[2],i[1]+=i[2]>>>16,i[2]&=65535,i[1]+=t[1]+e[1],i[0]+=i[1]>>>16,i[1]&=65535,i[0]+=t[0]+e[0],i[0]&=65535,[i[0]<<16|i[1],i[2]<<16|i[3]]}function Ic(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var i=[0,0,0,0];return i[3]+=t[3]*e[3],i[2]+=i[3]>>>16,i[3]&=65535,i[2]+=t[2]*e[3],i[1]+=i[2]>>>16,i[2]&=65535,i[2]+=t[3]*e[2],i[1]+=i[2]>>>16,i[2]&=65535,i[1]+=t[1]*e[3],i[0]+=i[1]>>>16,i[1]&=65535,i[1]+=t[2]*e[2],i[0]+=i[1]>>>16,i[1]&=65535,i[1]+=t[3]*e[1],i[0]+=i[1]>>>16,i[1]&=65535,i[0]+=t[0]*e[3]+t[1]*e[2]+t[2]*e[1]+t[3]*e[0],i[0]&=65535,[i[0]<<16|i[1],i[2]<<16|i[3]]}function Cc(t,e){return 32===(e%=64)?[t[1],t[0]]:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e|t[0]>>>32-e]:(e-=32,[t[1]<<e|t[0]>>>32-e,t[0]<<e|t[1]>>>32-e])}function Ac(t,e){return 0===(e%=64)?t:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e]:[t[1]<<e-32,0]}function Sc(t,e){return[t[0]^e[0],t[1]^e[1]]}function kc(t){return t=Sc(t,[0,t[0]>>>1]),t=Sc(t=Ic(t,[4283543511,3981806797]),[0,t[0]>>>1]),t=Sc(t=Ic(t,[3301882366,444984403]),[0,t[0]>>>1])}function _c(t){return parseInt(t)}function Tc(t){return parseFloat(t)}function Pc(t,e){return"number"==typeof t&&isNaN(t)?e:t}function Mc(t){return t.reduce((function(t,e){return t+(e?1:0)}),0)}function Nc(t,e){if(void 0===e&&(e=1),Math.abs(e)>=1)return Math.round(t/e)*e;var i=1/e;return Math.round(t*i)/i}function Lc(t){return t&&"object"==typeof t&&"message"in t?t:{message:t}}function Oc(t,e,i){var n=Object.keys(t).filter((function(t){return!function(t,e){for(var i=0,n=t.length;i<n;++i)if(t[i]===e)return!0;return!1}(i,t)})),a=Array(n.length);return yc(n,(function(i,n){a[n]=function(t,e){var i=new Promise((function(i){var n=Date.now();bc(t.bind(null,e),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Date.now()-n;if(!t[0])return i((function(){return{error:Lc(t[1]),duration:r}}));var o=t[1];if(function(t){return"function"!=typeof t}(o))return i((function(){return{value:o,duration:r}}));i((function(){return new Promise((function(t){var e=Date.now();bc(o,(function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var o=r+Date.now()-e;if(!i[0])return t({error:Lc(i[1]),duration:o});t({value:i[1],duration:o})}))}))}))}))}));return xc(i),function(){return i.then((function(t){return t()}))}}(t[i],e)})),function(){return r(this,void 0,void 0,(function(){var t,e,i,r,s,l;return o(this,(function(c){switch(c.label){case 0:for(t={},e=0,i=n;e<i.length;e++)r=i[e],t[r]=void 0;s=Array(n.length),l=function(){var e;return o(this,(function(i){switch(i.label){case 0:return e=!0,[4,yc(n,(function(i,n){if(!s[n])if(a[n]){var r=a[n]().then((function(e){return t[i]=e}));xc(r),s[n]=r}else e=!1}))];case 1:return i.sent(),e?[2,"break"]:[4,mc(1)];case 2:return i.sent(),[2]}}))},c.label=1;case 1:return[5,l()];case 2:if("break"===c.sent())return[3,4];c.label=3;case 3:return[3,1];case 4:return[4,Promise.all(s)];case 5:return c.sent(),[2,t]}}))}))}}function Ec(){var t=window,e=navigator;return Mc(["MSCSSMatrix"in t,"msSetImmediate"in t,"msIndexedDB"in t,"msMaxTouchPoints"in e,"msPointerEnabled"in e])>=4}function Dc(){var t=window,e=navigator;return Mc(["webkitPersistentStorage"in e,"webkitTemporaryStorage"in e,0===e.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in t,"BatteryManager"in t,"webkitMediaStream"in t,"webkitSpeechGrammar"in t])>=5}function zc(){var t=window,e=navigator;return Mc(["ApplePayError"in t,"CSSPrimitiveValue"in t,"Counter"in t,0===e.vendor.indexOf("Apple"),"getStorageUpdates"in e,"WebKitMediaKeys"in t])>=4}function jc(){var t=window;return Mc(["safari"in t,!("DeviceMotionEvent"in t),!("ongestureend"in t),!("standalone"in navigator)])>=3}function Rc(){var t=document;return(t.exitFullscreen||t.msExitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen).call(t)}function Gc(){var t=Dc(),e=function(){var t,e,i=window;return Mc(["buildID"in navigator,"MozAppearance"in(null!==(e=null===(t=document.documentElement)||void 0===t?void 0:t.style)&&void 0!==e?e:{}),"onmozfullscreenchange"in i,"mozInnerScreenX"in i,"CSSMozDocumentRule"in i,"CanvasCaptureMediaStream"in i])>=4}();if(!t&&!e)return!1;var i=window;return Mc(["onorientationchange"in i,"orientation"in i,t&&!("SharedWorker"in i),e&&/android/i.test(navigator.appVersion)])>=2}function Bc(t){var e=new Error(t);return e.name=t,e}function Uc(t,e,i){var n,a,s;return void 0===i&&(i=50),r(this,void 0,void 0,(function(){var r,l;return o(this,(function(o){switch(o.label){case 0:r=document,o.label=1;case 1:return r.body?[3,3]:[4,mc(i)];case 2:return o.sent(),[3,1];case 3:l=r.createElement("iframe"),o.label=4;case 4:return o.trys.push([4,,10,11]),[4,new Promise((function(t,i){var n=!1,o=function(){n=!0,t()};l.onload=o,l.onerror=function(t){n=!0,i(t)};var a=l.style;a.setProperty("display","block","important"),a.position="absolute",a.top="0",a.left="0",a.visibility="hidden",e&&"srcdoc"in l?l.srcdoc=e:l.src="about:blank",r.body.appendChild(l);var s=function(){var t,e;n||("complete"===(null===(e=null===(t=l.contentWindow)||void 0===t?void 0:t.document)||void 0===e?void 0:e.readyState)?o():setTimeout(s,10))};s()}))];case 5:o.sent(),o.label=6;case 6:return(null===(a=null===(n=l.contentWindow)||void 0===n?void 0:n.document)||void 0===a?void 0:a.body)?[3,8]:[4,mc(i)];case 7:return o.sent(),[3,6];case 8:return[4,t(l,l.contentWindow)];case 9:return[2,o.sent()];case 10:return null===(s=l.parentNode)||void 0===s||s.removeChild(l),[7];case 11:return[2]}}))}))}function Zc(t){for(var e=function(t){for(var e,i,n="Unexpected syntax '".concat(t,"'"),r=/^\s*([a-z-]*)(.*)$/i.exec(t),o=r[1]||void 0,a={},s=/([.:#][\w-]+|\[.+?\])/gi,l=function(t,e){a[t]=a[t]||[],a[t].push(e)};;){var c=s.exec(r[2]);if(!c)break;var d=c[0];switch(d[0]){case".":l("class",d.slice(1));break;case"#":l("id",d.slice(1));break;case"[":var u=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(d);if(!u)throw new Error(n);l(u[1],null!==(i=null!==(e=u[4])&&void 0!==e?e:u[5])&&void 0!==i?i:"");break;default:throw new Error(n)}}return[o,a]}(t),i=e[0],n=e[1],r=document.createElement(null!=i?i:"div"),o=0,a=Object.keys(n);o<a.length;o++){var s=a[o],l=n[s].join(" ");"style"===s?$c(r.style,l):r.setAttribute(s,l)}return r}function $c(t,e){for(var i=0,n=e.split(";");i<n.length;i++){var r=n[i],o=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(r);if(o){var a=o[1],s=o[2],l=o[4];t.setProperty(a,s,l||"")}}}var Fc=["monospace","sans-serif","serif"],Wc=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function Vc(t){return t.toDataURL()}var Yc,Hc,Xc=2500;function Jc(){var t=this;return function(){if(void 0===Hc){var t=function(){var e=Qc();Kc(e)?Hc=setTimeout(t,Xc):(Yc=e,Hc=void 0)};t()}}(),function(){return r(t,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return Kc(t=Qc())?Yc?[2,a([],Yc,!0)]:function(){var t=document;return t.fullscreenElement||t.msFullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||null}()?[4,Rc()]:[3,2]:[3,2];case 1:e.sent(),t=Qc(),e.label=2;case 2:return Kc(t)||(Yc=t),[2,t]}}))}))}}function Qc(){var t=screen;return[Pc(Tc(t.availTop),null),Pc(Tc(t.width)-Tc(t.availWidth)-Pc(Tc(t.availLeft),0),null),Pc(Tc(t.height)-Tc(t.availHeight)-Pc(Tc(t.availTop),0),null),Pc(Tc(t.availLeft),null)]}function Kc(t){for(var e=0;e<4;++e)if(t[e])return!1;return!0}function qc(t){var e;return r(this,void 0,void 0,(function(){var i,n,r,a,s,l,c;return o(this,(function(o){switch(o.label){case 0:for(i=document,n=i.createElement("div"),r=new Array(t.length),a={},td(n),c=0;c<t.length;++c)s=Zc(t[c]),td(l=i.createElement("div")),l.appendChild(s),n.appendChild(l),r[c]=s;o.label=1;case 1:return i.body?[3,3]:[4,mc(50)];case 2:return o.sent(),[3,1];case 3:i.body.appendChild(n);try{for(c=0;c<t.length;++c)r[c].offsetParent||(a[t[c]]=!0)}finally{null===(e=n.parentNode)||void 0===e||e.removeChild(n)}return[2,a]}}))}))}function td(t){t.style.setProperty("display","block","important")}function ed(t){return matchMedia("(inverted-colors: ".concat(t,")")).matches}function id(t){return matchMedia("(forced-colors: ".concat(t,")")).matches}function nd(t){return matchMedia("(prefers-contrast: ".concat(t,")")).matches}function rd(t){return matchMedia("(prefers-reduced-motion: ".concat(t,")")).matches}function od(t){return matchMedia("(dynamic-range: ".concat(t,")")).matches}var ad=Math,sd=function(){return 0};var ld={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};var cd={fonts:function(){return Uc((function(t,e){var i=e.document,n=i.body;n.style.fontSize="48px";var r=i.createElement("div"),o={},a={},s=function(t){var e=i.createElement("span"),n=e.style;return n.position="absolute",n.top="0",n.left="0",n.fontFamily=t,e.textContent="mmMwWLliI0O&1",r.appendChild(e),e},l=Fc.map(s),c=function(){for(var t={},e=function(e){t[e]=Fc.map((function(t){return function(t,e){return s("'".concat(t,"',").concat(e))}(e,t)}))},i=0,n=Wc;i<n.length;i++){e(n[i])}return t}();n.appendChild(r);for(var d=0;d<Fc.length;d++)o[Fc[d]]=l[d].offsetWidth,a[Fc[d]]=l[d].offsetHeight;return Wc.filter((function(t){return e=c[t],Fc.some((function(t,i){return e[i].offsetWidth!==o[t]||e[i].offsetHeight!==a[t]}));var e}))}))},domBlockers:function(t){var e=(void 0===t?{}:t).debug;return r(this,void 0,void 0,(function(){var t,i,n,r,a;return o(this,(function(o){switch(o.label){case 0:return zc()||Gc()?(s=atob,t={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",s("YVt0aXRsZT0iN25hZ2EgcG9rZXIiIGld"),'[title="ALIENBOLA" i]'],abpvn:["#quangcaomb",s("Lmlvc0Fkc2lvc0Fkcy1sYXlvdXQ="),".quangcao",s("W2hyZWZePSJodHRwczovL3I4OC52bi8iXQ=="),s("W2hyZWZePSJodHRwczovL3piZXQudm4vIl0=")],adBlockFinland:[".mainostila",s("LnNwb25zb3JpdA=="),".ylamainos",s("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",s("I2FkMl9pbmxpbmU=")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",s("LmhlYWRlci1ibG9ja2VkLWFk"),s("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:['amp-embed[type="zen"]',".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil"],adGuardBase:[".BetterJsPopOverlay",s("I2FkXzMwMFgyNTA="),s("I2Jhbm5lcmZsb2F0MjI="),s("I2FkLWJhbm5lcg=="),s("I2NhbXBhaWduLWJhbm5lcg==")],adGuardChinese:[s("LlppX2FkX2FfSA=="),s("YVtocmVmKj0iL29kMDA1LmNvbSJd"),s("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),".qq_nr_lad","#widget-quan"],adGuardFrench:[s("I2Jsb2NrLXZpZXdzLWFkcy1zaWRlYmFyLWJsb2NrLWJsb2Nr"),"#pavePub",s("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv"],adGuardGerman:[s("LmJhbm5lcml0ZW13ZXJidW5nX2hlYWRfMQ=="),s("LmJveHN0YXJ0d2VyYnVuZw=="),s("LndlcmJ1bmcz"),s("YVtocmVmXj0iaHR0cDovL3d3dy5laXMuZGUvaW5kZXgucGh0bWw/cmVmaWQ9Il0="),s("YVtocmVmXj0iaHR0cHM6Ly93d3cudGlwaWNvLmNvbS8/YWZmaWxpYXRlSWQ9Il0=")],adGuardJapanese:["#kauli_yad_1",s("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),s("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),s("LmFkZ29vZ2xl"),s("LmFkX3JlZ3VsYXIz")],adGuardMobile:[s("YW1wLWF1dG8tYWRz"),s("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",s("I2FkX2ludmlld19hcmVh")],adGuardRussian:[s("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),s("LnJlY2xhbWE="),'div[id^="smi2adblock"]',s("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),s("I2FkX3NxdWFyZQ==")],adGuardSocial:[s("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),s("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",s("W2hyZWZePSJodHRwOi8vYWRzLmdsaXNwYS5jb20vIl0=")],adGuardTrackingProtection:["#qoo-counter",s("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),s("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),s("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",s("I3Jla2xhbWk="),s("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),s("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),s("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[s("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers",s("I25ld0Fk")],easyList:[s("I0FEX0NPTlRST0xfMjg="),s("LnNlY29uZC1wb3N0LWFkcy13cmFwcGVy"),".universalboxADVBOX03",s("LmFkdmVydGlzZW1lbnQtNzI4eDkw"),s("LnNxdWFyZV9hZHM=")],easyListChina:[s("YVtocmVmKj0iLndlbnNpeHVldGFuZy5jb20vIl0="),s("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),s("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box"],easyListCookie:["#AdaCompliance.app-notice",".text-center.rgpd",".panel--cookie",".js-cookies-andromeda",".elxtr-consent"],easyListCzechSlovak:["#onlajny-stickers",s("I3Jla2xhbW5pLWJveA=="),s("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",s("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[s("I2FkdmVydGVudGll"),s("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",s("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:[s("I0FkX1dpbjJkYXk="),s("I3dlcmJ1bmdzYm94MzAw"),s("YVtocmVmXj0iaHR0cDovL3d3dy5yb3RsaWNodGthcnRlaS5jb20vP3NjPSJd"),s("I3dlcmJ1bmdfd2lkZXNreXNjcmFwZXJfc2NyZWVu"),s("YVtocmVmXj0iaHR0cDovL2xhbmRpbmcucGFya3BsYXR6a2FydGVpLmNvbS8/YWc9Il0=")],easyListItaly:[s("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",s("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[s("LnJla2xhbW9zX3RhcnBhcw=="),s("LnJla2xhbW9zX251b3JvZG9z"),s("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),s("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),s("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[s("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#feedback-tab","#taboola-below-article",".feedburnerFeedBlock",".widget-feedburner-counter",'[title="Subscribe to our blog"]'],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:[".td-tags-and-social-wrapper-box",".twitterContainer",".youtube-social",'a[title^="Like us on Facebook"]','img[alt^="Share on Digg"]'],frellwitSwedish:[s("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),s("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",s("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[s("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),s("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),s("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",s("LmFkX19tYWlu"),s("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container",".cookie-msg-info-container","#cookies-policy-sticky"],icelandicAbp:[s("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[s("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),s("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[s("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),s("I2xpdmVyZUFkV3JhcHBlcg=="),s("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),s("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[s("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",s("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),s("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),s("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[s("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),s("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),s("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",s("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),s("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),s("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),s("ZGl2I3NrYXBpZWNfYWQ=")],ro:[s("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),'a[href^="/magazin/"]',s("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),s("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd")],ruAd:[s("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),s("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),s("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",s("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),s("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",s("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]},i=Object.keys(t),[4,qc((a=[]).concat.apply(a,i.map((function(e){return t[e]}))))]):[2,void 0];case 1:return n=o.sent(),e&&function(t,e){for(var i="DOM blockers debug:\n```",n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];i+="\n".concat(o,":");for(var a=0,s=t[o];a<s.length;a++){var l=s[a];i+="\n  ".concat(e[l]?"🚫":"➡️"," ").concat(l)}}console.log("".concat(i,"\n```"))}(t,n),(r=i.filter((function(e){var i=t[e];return Mc(i.map((function(t){return n[t]})))>.6*i.length}))).sort(),[2,r]}var s}))}))},fontPreferences:function(){return function(t,e){void 0===e&&(e=4e3);return Uc((function(i,n){var r=n.document,o=r.body,s=o.style;s.width="".concat(e,"px"),s.webkitTextSizeAdjust=s.textSizeAdjust="none",Dc()?o.style.zoom="".concat(1/n.devicePixelRatio):zc()&&(o.style.zoom="reset");var l=r.createElement("div");return l.textContent=a([],Array(e/20<<0),!0).map((function(){return"word"})).join(" "),o.appendChild(l),t(r,o)}),'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}((function(t,e){for(var i={},n={},r=0,o=Object.keys(ld);r<o.length;r++){var a=o[r],s=ld[a],l=s[0],c=void 0===l?{}:l,d=s[1],u=void 0===d?"mmMwWLliI0fiflO&1":d,h=t.createElement("span");h.textContent=u,h.style.whiteSpace="nowrap";for(var p=0,g=Object.keys(c);p<g.length;p++){var f=g[p],m=c[f];void 0!==m&&(h.style[f]=m)}i[a]=h,e.appendChild(t.createElement("br")),e.appendChild(h)}for(var v=0,b=Object.keys(ld);v<b.length;v++){n[a=b[v]]=i[a].getBoundingClientRect().width}return n}))},audio:function(){var t=window,e=t.OfflineAudioContext||t.webkitOfflineAudioContext;if(!e)return-2;if(zc()&&!jc()&&!function(){var t=window;return Mc(["DOMRectList"in t,"RTCPeerConnectionIceEvent"in t,"SVGGeometryElement"in t,"ontransitioncancel"in t])>=3}())return-1;var i=new e(1,5e3,44100),n=i.createOscillator();n.type="triangle",n.frequency.value=1e4;var r=i.createDynamicsCompressor();r.threshold.value=-50,r.knee.value=40,r.ratio.value=12,r.attack.value=0,r.release.value=.25,n.connect(r),r.connect(i.destination),n.start(0);var o=function(t){var e=3,i=500,n=500,r=5e3,o=function(){},a=new Promise((function(a,s){var l=!1,c=0,d=0;t.oncomplete=function(t){return a(t.renderedBuffer)};var u=function(){setTimeout((function(){return s(Bc("timeout"))}),Math.min(n,d+r-Date.now()))},h=function(){try{var n=t.startRendering();switch(vc(n)&&xc(n),t.state){case"running":d=Date.now(),l&&u();break;case"suspended":document.hidden||c++,l&&c>=e?s(Bc("suspended")):setTimeout(h,i)}}catch(t){s(t)}};h(),o=function(){l||(l=!0,d>0&&u())}}));return[a,o]}(i),a=o[0],s=o[1],l=a.then((function(t){return function(t){for(var e=0,i=0;i<t.length;++i)e+=Math.abs(t[i]);return e}(t.getChannelData(0).subarray(4500))}),(function(t){if("timeout"===t.name||"suspended"===t.name)return-3;throw t}));return xc(l),function(){return s(),l}},screenFrame:function(){var t=this,e=Jc();return function(){return r(t,void 0,void 0,(function(){var t,i;return o(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),[2,[(i=function(t){return null===t?null:Nc(t,10)})(t[0]),i(t[1]),i(t[2]),i(t[3])]]}}))}))}},osCpu:function(){return navigator.oscpu},languages:function(){var t=navigator,e=[],i=t.language||t.userLanguage||t.browserLanguage||t.systemLanguage;if(void 0!==i&&e.push([i]),Array.isArray(t.languages))Dc()&&function(){var t=window;return Mc([!("MediaSettingsRange"in t),"RTCEncodedAudioFrame"in t,""+t.Intl=="[object Intl]",""+t.Reflect=="[object Reflect]"])>=3}()||e.push(t.languages);else if("string"==typeof t.languages){var n=t.languages;n&&e.push(n.split(","))}return e},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return Pc(Tc(navigator.deviceMemory),void 0)},screenResolution:function(){var t=screen,e=function(t){return Pc(_c(t),null)},i=[e(t.width),e(t.height)];return i.sort().reverse(),i},hardwareConcurrency:function(){return Pc(_c(navigator.hardwareConcurrency),void 0)},timezone:function(){var t,e=null===(t=window.Intl)||void 0===t?void 0:t.DateTimeFormat;if(e){var i=(new e).resolvedOptions().timeZone;if(i)return i}var n,r=(n=(new Date).getFullYear(),-Math.max(Tc(new Date(n,0,1).getTimezoneOffset()),Tc(new Date(n,6,1).getTimezoneOffset())));return"UTC".concat(r>=0?"+":"").concat(Math.abs(r))},sessionStorage:function(){try{return!!window.sessionStorage}catch(t){return!0}},localStorage:function(){try{return!!window.localStorage}catch(t){return!0}},indexedDB:function(){if(!Ec()&&!function(){var t=window,e=navigator;return Mc(["msWriteProfilerMark"in t,"MSStream"in t,"msLaunchUri"in e,"msSaveBlob"in e])>=3&&!Ec()}())try{return!!window.indexedDB}catch(t){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){var t=navigator.platform;return"MacIntel"===t&&zc()&&!jc()?function(){if("iPad"===navigator.platform)return!0;var t=screen,e=t.width/t.height;return Mc(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,e>.65&&e<1.53])>=2}()?"iPad":"iPhone":t},plugins:function(){var t=navigator.plugins;if(t){for(var e=[],i=0;i<t.length;++i){var n=t[i];if(n){for(var r=[],o=0;o<n.length;++o){var a=n[o];r.push({type:a.type,suffixes:a.suffixes})}e.push({name:n.name,description:n.description,mimeTypes:r})}}return e}},canvas:function(){var t,e,i=!1,n=function(){var t=document.createElement("canvas");return t.width=1,t.height=1,[t,t.getContext("2d")]}(),r=n[0],o=n[1];if(function(t,e){return!(!e||!t.toDataURL)}(r,o)){i=function(t){return t.rect(0,0,10,10),t.rect(2,2,6,6),!t.isPointInPath(5,5,"evenodd")}(o),function(t,e){t.width=240,t.height=60,e.textBaseline="alphabetic",e.fillStyle="#f60",e.fillRect(100,1,62,20),e.fillStyle="#069",e.font='11pt "Times New Roman"';var i="Cwm fjordbank gly ".concat(String.fromCharCode(55357,56835));e.fillText(i,2,15),e.fillStyle="rgba(102, 204, 0, 0.2)",e.font="18pt Arial",e.fillText(i,4,45)}(r,o);var a=Vc(r);a!==Vc(r)?t=e="unstable":(e=a,function(t,e){t.width=122,t.height=110,e.globalCompositeOperation="multiply";for(var i=0,n=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];i<n.length;i++){var r=n[i],o=r[0],a=r[1],s=r[2];e.fillStyle=o,e.beginPath(),e.arc(a,s,40,0,2*Math.PI,!0),e.closePath(),e.fill()}e.fillStyle="#f9c",e.arc(60,60,60,0,2*Math.PI,!0),e.arc(60,60,20,0,2*Math.PI,!0),e.fill("evenodd")}(r,o),t=Vc(r))}else t=e="";return{winding:i,geometry:t,text:e}},touchSupport:function(){var t,e=navigator,i=0;void 0!==e.maxTouchPoints?i=_c(e.maxTouchPoints):void 0!==e.msMaxTouchPoints&&(i=e.msMaxTouchPoints);try{document.createEvent("TouchEvent"),t=!0}catch(e){t=!1}return{maxTouchPoints:i,touchEvent:t,touchStart:"ontouchstart"in window}},vendor:function(){return navigator.vendor||""},vendorFlavors:function(){for(var t=[],e=0,i=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];e<i.length;e++){var n=i[e],r=window[n];r&&"object"==typeof r&&t.push(n)}return t.sort()},cookiesEnabled:function(){var t=document;try{t.cookie="cookietest=1; SameSite=Strict;";var e=-1!==t.cookie.indexOf("cookietest=");return t.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(t){return!1}},colorGamut:function(){for(var t=0,e=["rec2020","p3","srgb"];t<e.length;t++){var i=e[t];if(matchMedia("(color-gamut: ".concat(i,")")).matches)return i}},invertedColors:function(){return!!ed("inverted")||!ed("none")&&void 0},forcedColors:function(){return!!id("active")||!id("none")&&void 0},monochrome:function(){if(matchMedia("(min-monochrome: 0)").matches){for(var t=0;t<=100;++t)if(matchMedia("(max-monochrome: ".concat(t,")")).matches)return t;throw new Error("Too high value")}},contrast:function(){return nd("no-preference")?0:nd("high")||nd("more")?1:nd("low")||nd("less")?-1:nd("forced")?10:void 0},reducedMotion:function(){return!!rd("reduce")||!rd("no-preference")&&void 0},hdr:function(){return!!od("high")||!od("standard")&&void 0},math:function(){var t,e=ad.acos||sd,i=ad.acosh||sd,n=ad.asin||sd,r=ad.asinh||sd,o=ad.atanh||sd,a=ad.atan||sd,s=ad.sin||sd,l=ad.sinh||sd,c=ad.cos||sd,d=ad.cosh||sd,u=ad.tan||sd,h=ad.tanh||sd,p=ad.exp||sd,g=ad.expm1||sd,f=ad.log1p||sd;return{acos:e(.12312423423423424),acosh:i(1e308),acoshPf:(t=1e154,ad.log(t+ad.sqrt(t*t-1))),asin:n(.12312423423423424),asinh:r(1),asinhPf:function(t){return ad.log(t+ad.sqrt(t*t+1))}(1),atanh:o(.5),atanhPf:function(t){return ad.log((1+t)/(1-t))/2}(.5),atan:a(.5),sin:s(-1e300),sinh:l(1),sinhPf:function(t){return ad.exp(t)-1/ad.exp(t)/2}(1),cos:c(10.000000000123),cosh:d(1),coshPf:function(t){return(ad.exp(t)+1/ad.exp(t))/2}(1),tan:u(-1e300),tanh:h(1),tanhPf:function(t){return(ad.exp(2*t)-1)/(ad.exp(2*t)+1)}(1),exp:p(1),expm1:g(1),expm1Pf:function(t){return ad.exp(t)-1}(1),log1p:f(10),log1pPf:function(t){return ad.log(1+t)}(10),powPI:function(t){return ad.pow(ad.PI,t)}(-100)}},videoCard:function(){var t,e=document.createElement("canvas"),i=null!==(t=e.getContext("webgl"))&&void 0!==t?t:e.getContext("experimental-webgl");if(i&&"getExtension"in i){var n=i.getExtension("WEBGL_debug_renderer_info");if(n)return{vendor:(i.getParameter(n.UNMASKED_VENDOR_WEBGL)||"").toString(),renderer:(i.getParameter(n.UNMASKED_RENDERER_WEBGL)||"").toString()}}},pdfViewerEnabled:function(){return navigator.pdfViewerEnabled},architecture:function(){var t=new Float32Array(1),e=new Uint8Array(t.buffer);return t[0]=1/0,t[0]=t[0]-t[0],e[3]}};var dd="$ if upgrade to Pro: https://fpjs.dev/pro";function ud(t){var e=function(t){if(Gc())return.4;if(zc())return jc()?.5:.3;var e=t.platform.value||"";if(/^Win/.test(e))return.6;if(/^Mac/.test(e))return.5;return.7}(t),i=function(t){return Nc(.99+.01*t,1e-4)}(e);return{score:e,comment:dd.replace(/\$/g,"".concat(i))}}function hd(t){return JSON.stringify(t,(function(t,i){return i instanceof Error?function(t){var i;return e({name:t.name,message:t.message,stack:null===(i=t.stack)||void 0===i?void 0:i.split("\n")},t)}(i):i}),2)}function pd(t){return function(t,e){e=e||0;var i,n=(t=t||"").length%16,r=t.length-n,o=[0,e],a=[0,e],s=[0,0],l=[0,0],c=[2277735313,289559509],d=[1291169091,658871167];for(i=0;i<r;i+=16)s=[255&t.charCodeAt(i+4)|(255&t.charCodeAt(i+5))<<8|(255&t.charCodeAt(i+6))<<16|(255&t.charCodeAt(i+7))<<24,255&t.charCodeAt(i)|(255&t.charCodeAt(i+1))<<8|(255&t.charCodeAt(i+2))<<16|(255&t.charCodeAt(i+3))<<24],l=[255&t.charCodeAt(i+12)|(255&t.charCodeAt(i+13))<<8|(255&t.charCodeAt(i+14))<<16|(255&t.charCodeAt(i+15))<<24,255&t.charCodeAt(i+8)|(255&t.charCodeAt(i+9))<<8|(255&t.charCodeAt(i+10))<<16|(255&t.charCodeAt(i+11))<<24],s=Cc(s=Ic(s,c),31),o=wc(o=Cc(o=Sc(o,s=Ic(s,d)),27),a),o=wc(Ic(o,[0,5]),[0,1390208809]),l=Cc(l=Ic(l,d),33),a=wc(a=Cc(a=Sc(a,l=Ic(l,c)),31),o),a=wc(Ic(a,[0,5]),[0,944331445]);switch(s=[0,0],l=[0,0],n){case 15:l=Sc(l,Ac([0,t.charCodeAt(i+14)],48));case 14:l=Sc(l,Ac([0,t.charCodeAt(i+13)],40));case 13:l=Sc(l,Ac([0,t.charCodeAt(i+12)],32));case 12:l=Sc(l,Ac([0,t.charCodeAt(i+11)],24));case 11:l=Sc(l,Ac([0,t.charCodeAt(i+10)],16));case 10:l=Sc(l,Ac([0,t.charCodeAt(i+9)],8));case 9:l=Ic(l=Sc(l,[0,t.charCodeAt(i+8)]),d),a=Sc(a,l=Ic(l=Cc(l,33),c));case 8:s=Sc(s,Ac([0,t.charCodeAt(i+7)],56));case 7:s=Sc(s,Ac([0,t.charCodeAt(i+6)],48));case 6:s=Sc(s,Ac([0,t.charCodeAt(i+5)],40));case 5:s=Sc(s,Ac([0,t.charCodeAt(i+4)],32));case 4:s=Sc(s,Ac([0,t.charCodeAt(i+3)],24));case 3:s=Sc(s,Ac([0,t.charCodeAt(i+2)],16));case 2:s=Sc(s,Ac([0,t.charCodeAt(i+1)],8));case 1:s=Ic(s=Sc(s,[0,t.charCodeAt(i)]),c),o=Sc(o,s=Ic(s=Cc(s,31),d))}return o=wc(o=Sc(o,[0,t.length]),a=Sc(a,[0,t.length])),a=wc(a,o),o=wc(o=kc(o),a=kc(a)),a=wc(a,o),("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)+("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)}(function(t){for(var e="",i=0,n=Object.keys(t).sort();i<n.length;i++){var r=n[i],o=t[r],a=o.error?"error":JSON.stringify(o.value);e+="".concat(e?"|":"").concat(r.replace(/([:|\\])/g,"\\$1"),":").concat(a)}return e}(t))}function gd(t){return void 0===t&&(t=50),function(t,e){void 0===e&&(e=1/0);var i=window.requestIdleCallback;return i?new Promise((function(t){return i.call(window,(function(){return t()}),{timeout:e})})):mc(Math.min(t,e))}(t,2*t)}function fd(t,e){var i=Date.now();return{get:function(n){return r(this,void 0,void 0,(function(){var r,a,s;return o(this,(function(o){switch(o.label){case 0:return r=Date.now(),[4,t()];case 1:return a=o.sent(),s=function(t){var e;return{get visitorId(){return void 0===e&&(e=pd(this.components)),e},set visitorId(t){e=t},confidence:ud(t),components:t,version:fc}}(a),(e||(null==n?void 0:n.debug))&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(s.version,"\nuserAgent: ").concat(navigator.userAgent,"\ntimeBetweenLoadAndGet: ").concat(r-i,"\nvisitorId: ").concat(s.visitorId,"\ncomponents: ").concat(hd(a),"\n```")),[2,s]}}))}))}}}var md={load:function(t){var e=void 0===t?{}:t,i=e.delayFallback,n=e.debug,a=e.monitoring,s=void 0===a||a;return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return s&&function(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var t=new XMLHttpRequest;t.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(fc,"/npm-monitoring"),!0),t.send()}catch(t){console.error(t)}}(),[4,gd(i)];case 1:return t.sent(),[2,fd(Oc(cd,{debug:n},[]),n)]}}))}))},hashComponents:pd,componentsToDebugString:hd};class vd extends ys{constructor(t,e=!1){super(),this.loginForAcceptInviteParams=null,this.loginForEditParams=null,this.loginForNewPointParams=null,this.loginForEndorseParams=null,this.loginForRatingsParams=null,this.loginForPointQualityParams=null,this.loginForMembershipParams=null,this.loginForNotificationSettingsParams=!1,this.endorsementPostsIndex={},this.groupCurrentVoteCountIndex={},this.ratingPostsIndex={},this.membershipsIndex={},this.pointQualitiesIndex={},this.isPollingForLogin=!1,this.facebookPopupWindow=null,this.samlPopupWindow=null,this.hasIssuedLogout=!1,this.sessionPrefix="session_",this.sessionStorage=window.localStorage,this.serverApi=t,this._setupBrowserFingerprint(),e||(window.location.pathname.startsWith("/survey/")?console.log("Not checking login in survey mode"):this.checkLogin(),this.addGlobalListener("yp-forgot-password",this._forgotPassword.bind(this)),this.addGlobalListener("yp-reset-password",this._resetPassword.bind(this)))}getBrowserId(){var t=localStorage.getItem("aoi-brid");return t||(t=this._generateRandomString(32),localStorage.setItem("yp-brid",t)),t}_setupBrowserFingerprint(){try{md.load({monitoring:!1}).then((t=>t.get())).then((t=>{this.browserFingerprint=t.visitorId,this.browserFingerprintConfidence=t.confidence.score}))}catch(t){console.error(t)}}_generateRandomString(t){if(window.crypto){for(var e=window.crypto.getRandomValues(new Uint32Array(3)),i="",n=0,r=e.length;n<r;n++)i+=e[n].toString(36);return i}return(Math.random()*(new Date).getTime()).toString(36).replace(/\./g,"")}sessionHas(t){const e=this.sessionPrefix+t;return null!==this.sessionStorage.getItem(e)}sessionGet(t){const e=this.sessionPrefix+t,i=this.sessionStorage.getItem(e);let n;if(i)try{n=JSON.parse(i)}catch(t){n=null}return n}sessionSet(t,e){const i=this.sessionPrefix+t,n=JSON.stringify(e);this.sessionStorage.setItem(i,n)}sessionUnset(t){const e=this.sessionPrefix+t;this.sessionStorage.removeItem(e)}sessionClear(){this.sessionStorage.clear()}loginForAcceptInvite(t,e,i,n){this.loginForAcceptInviteParams={editDialog:t,token:e},this.openUserlogin(i,n)}loginForEdit(t,e,i,n){this.loginForEditParams={editDialog:t,newOrUpdate:e,params:i,refreshFunction:n},this.openUserlogin()}loginForNewPoint(t,e){this.loginForNewPointParams={postPointsElement:t,params:e},this.openUserlogin()}loginForEndorse(t,e){this.loginForEndorseParams={postActionElement:t,params:e},this.openUserlogin()}loginForRatings(t){this.loginForRatingsParams={postActionElement:t},this.openUserlogin()}loginForPointQuality(t,e){this.loginForPointQualityParams={pointActionElement:t,params:e},this.openUserlogin()}loginForMembership(t,e){this.loginForMembershipParams={membershipActionElement:t,params:e},this.openUserlogin()}loginFor401(t){this.loginFor401refreshFunction=t,this.openUserlogin()}loginForNotificationSettings(){this.loginForNotificationSettingsParams=!0,this.openUserlogin()}openUserlogin(t=void 0,e=void 0){window.appDialogs.getDialogAsync("userLogin",(i=>{i.setup(this._handleLogin.bind(this),window.appGlobals.domain),i.open(void 0,t,e)}))}autoAnonymousLogin(){setTimeout((()=>{null==this.user?window.appDialogs.getDialogAsync("userLogin",(t=>{t.setup(this._handleLogin.bind(this),window.appGlobals.domain),t.anonymousLogin()})):console.log("Not doing auto anon login as user already exists")}),1)}_closeUserLogin(){window.appDialogs.closeDialog("userLogin")}_setUserLoginSpinner(){window.appDialogs.getDialogAsync("userLogin",(t=>{t.userSpinner=!1}))}_handleLogin(t){this._closeUserLogin(),this.setLoggedInUser(t),t.profile_data&&t.profile_data.isAnonymousUser?console.debug("Do not fetch admin or memberships for anonymous users"):(this.getAdminRights(),this.getMemberShips(),this.toastLoginTextCombined=this.t("user.loginCompleteFor")+" "+this.user?.name,this.fireGlobal("yp-open-toast",{text:this.toastLoginTextCombined})),this._checkLoginForParameters(),setTimeout((()=>{window.appGlobals.originalQueryParameters&&window.appGlobals.originalQueryParameters.raLogin&&(window.location.href=window.appGlobals.originalQueryParameters.raLogin)})),setTimeout((()=>{this._checkRegistrationAnswers(t)}),7500)}_checkLoginForParameters(){}openNotificationSettings(){window.appDialogs.getDialogAsync("userEdit",(t=>{t.setup(window.appUser.user,!1,null,!0),t.open("edit",{userId:window.appUser.user?.id})}))}_forgotPassword(t){window.appDialogs.getDialogAsync("forgotPassword",(e=>{e.open(t.detail)}))}_resetPassword(t){window.appDialogs.getDialogAsync("resetPassword",(e=>{e.open(t.detail)}))}getUser(){return this.sessionGet("user")}setLoggedInUser(t){this.sessionSet("user",t),this.user=t,this.fireGlobal("yp-logged-in",this.user),window.appGlobals.analytics.sendLoginAndSignup(t.id,"Login Success",this.lastLoginMethod?this.lastLoginMethod:"Email"),this.lastLoginMethod=void 0,t&&t.profile_data&&t.profile_data.isAnonymousUser?window.appGlobals.setAnonymousUser(t):window.appGlobals.setAnonymousUser(void 0),window.appGlobals.offline.checkContentToSendForLoggedInUser()}removeAnonymousUser(){console.log("Remove anon user"),this.removeUserSession()}removeUserSession(){this.sessionUnset("user"),this.user=null,window.appGlobals.setAnonymousUser(void 0),this.fireGlobal("yp-logged-in",null)}loggedIn(){let t=!0;return window.appGlobals.currentForceSaml&&window.appGlobals.currentGroup&&(gc.checkGroupAccess(window.appGlobals.currentGroup)||(this.user?("saml"!==this.user.loginProvider&&(t=!1),window.appGlobals.currentGroup&&window.appGlobals.currentGroup.configuration&&window.appGlobals.currentGroup.configuration.forceSecureSamlEmployeeLogin&&(this.user.isSamlEmployee||(t=!1))):t=!1)),null!=this.user&&t}async setLocale(t){await this.serverApi.setLocale({locale:t})}cancelLoginPolling(){this.pollingStartedAt=void 0}_closeAllPopups(){if(this.facebookPopupWindow){try{this.facebookPopupWindow.close()}catch(t){console.error(t)}this.facebookPopupWindow=null}if(this.samlPopupWindow){try{this.samlPopupWindow.close()}catch(t){console.error(t)}this.samlPopupWindow=null}}async pollForLogin(){if(this.pollingStartedAt){const t=await this.serverApi.isloggedin();if(t&&!0===t.notLoggedIn&&this.pollingStartedAt){Date.now()-this.pollingStartedAt<3e5?setTimeout((()=>{this.pollForLogin()}),1200):this.pollingStartedAt=void 0}else t&&t.name&&(this.cancelLoginPolling(),this.facebookPopupWindow?this.loginFromFacebook():this.samlPopupWindow&&this.loginFromSaml(),this._closeAllPopups())}else console.error("Unkown state in polling..."),this._closeAllPopups(),this.cancelLoginPolling()}startPollingForLogin(){this.pollingStartedAt=Date.now(),setTimeout((()=>{this.pollForLogin()}),1e3)}loginFromFacebook(){this.cancelLoginPolling(),this.lastLoginMethod="Facebook",this._completeExternalLogin(this.t("user.loggedInWithFacebook"))}loginFromSaml(){this.cancelLoginPolling(),this.lastLoginMethod="Saml2",this._completeExternalLogin(this.t("user.loggedInWithSaml"))}_completeExternalLogin(t){this.checkLogin(),this._setUserLoginSpinner(),this.completeExternalLoginText=t}checkLogin(){this.isloggedin(),this.getMemberShips(),this.getAdminRights()}recheckAdminRights(){this.getAdminRights()}updateEndorsementForPost(t,e,i=void 0){if(this.user){this.user.Endorsements||(this.user.Endorsements=[]);let i=!1;for(let n=0;n<this.user.Endorsements.length;n++)if(this.user.Endorsements[n].post_id===t){e?this.user.Endorsements[n]=e:this.user.Endorsements.splice(n,1),i=!0;break}!i&&e&&this.user.Endorsements.push(e),this._updateEndorsementPostsIndex(this.user)}else console.error("Can't find user for updateEndorsementForPost");i&&i.configuration&&i.configuration.maxNumberOfGroupVotes?this.calculateVotesLeftForGroup(i):this.fireGlobal("got-endorsements-and-qualities",null)}calculateVotesLeftForGroup(t){setTimeout((()=>{if(this.user&&this.user.Endorsements){const e=this.groupCurrentVoteCountIndex[t.id];if(this.groupCurrentVoteCountIndex[t.id]=this.user.Endorsements.filter((function(e){return e.Post&&e.Post.group_id===t.id&&-1!==e.value&&0!==e.value})).length,e!=this.groupCurrentVoteCountIndex[t.id]){const e=`${this.t("youHaveUsed")} ${this.groupCurrentVoteCountIndex[t.id]} ${this.t("ofNumber")} ${t.configuration.maxNumberOfGroupVotes} ${this.t("votesForGroup")}`;window.appDialogs.getDialogAsync("masterToast",(t=>{t.labelText=e,t.open=!0,t.timeoutMs=4e3}))}this.fireGlobal("got-endorsements-and-qualities",{maxGroupId:t.id,groupCurrentVoteCount:this.groupCurrentVoteCountIndex[t.id]})}else console.warn("No user or endorsements for calculateVotesLeftForGroup")}))}_updateEndorsementPostsIndex(t){if(t&&t.Endorsements&&t.Endorsements.length>0){this.endorsementPostsIndex={};for(let e=0;e<t.Endorsements.length;e++)this.endorsementPostsIndex[t.Endorsements[e].post_id]=t.Endorsements[e]}else this.endorsementPostsIndex={}}_updateRatingPostsIndex(t){if(t&&t.Ratings&&t.Ratings.length>0){this.ratingPostsIndex={};for(let e=0;e<t.Ratings.length;e++)this.ratingPostsIndex[t.Ratings[e].post_id]||(this.ratingPostsIndex[t.Ratings[e].post_id]={}),this.ratingPostsIndex[t.Ratings[e].post_id][t.Ratings[e].type_index]=t.Ratings[e]}else this.ratingPostsIndex={}}updateRatingForPost(t,e,i){if(this.user){this.user.Ratings||(this.user.Ratings=[]);let n=!1;for(let r=0;r<this.user.Ratings.length;r++)if(this.user.Ratings[r].post_id===t&&this.user.Ratings[r].type_index===e){i?this.user.Ratings[r]=i:this.user.Ratings.splice(r,1),n=!0;break}!n&&i&&this.user.Ratings.push(i),this._updateRatingPostsIndex(this.user)}else console.error("Can't find user for updateRatingForPost")}updatePointQualityForPost(t,e){if(this.user){if(this.user.PointQualities){let i=!1;for(let n=0;n<this.user.PointQualities.length;n++)if(this.user.PointQualities[n].point_id===t){e?this.user.PointQualities[n]=e:this.user.PointQualities.splice(n,1),i=!0;break}i&&this._updatePointQualitiesIndex(this.user)}}else console.error("Can't find user for updatePointQualityForPost")}_updatePointQualitiesIndex(t){if(t&&t.PointQualities&&t.PointQualities.length>0){this.pointQualitiesIndex={};for(let e=0;e<t.PointQualities.length;e++)this.pointQualitiesIndex[t.PointQualities[e].point_id]=t.PointQualities[e]}else this.pointQualitiesIndex={}}_onUserChanged(t){t&&(this._updateEndorsementPostsIndex(t),this._updatePointQualitiesIndex(t),this._updateRatingPostsIndex(t),this.fireGlobal("got-endorsements-and-qualities",null))}async logout(){this.hasIssuedLogout=!0,await this.serverApi.logout(),this.toastLogoutTextCombined=this.t("user.logoutCompleteFor")+" "+this.user?.name,this.fireGlobal("yp-open-toast",{text:this.toastLogoutTextCombined}),this.fireGlobal("yp-close-right-drawer",!0),this.removeUserSession(),this.recheckAdminRights()}checkRegistrationAnswersCurrent(){this.user&&this._checkRegistrationAnswers(this.user)}setHasRegistrationAnswers(){this.user&&(this.user.hasRegistrationAnswers=!0)}_checkRegistrationAnswers(t){!t||t.notLoggedIn||!window.appGlobals.registrationQuestionsGroup||t.hasRegistrationAnswers||window.appGlobals.currentAnonymousUser||window.appDialogs.getDialogAsync("registrationQuestions",(t=>{t.open(window.appGlobals.registrationQuestionsGroup)}))}async isloggedin(){const t=await this.serverApi.isloggedin();t&&!0===t.notLoggedIn?this.removeUserSession():t&&t.name&&t.profile_data&&t.profile_data.isAnonymousUser?setTimeout((()=>{window.appGlobals.currentAnonymousGroup?this.setLoggedInUser(t):window.appGlobals.setAnonymousUser(t)}),500):t&&t.name&&this.setLoggedInUser(t),t&&t.missingEmail?window.appDialogs.getDialogAsync("missingEmail",(e=>{e.open(t.loginProvider)})):t&&t.profile_data&&!1===t.profile_data.saml_show_confirm_email_completed&&window.appDialogs.getDialogAsync("missingEmail",(e=>{e.open(t.loginProvider,!0,t.email)})),setTimeout((()=>{this._checkRegistrationAnswers(t)}),750),t&&(t.customSamlDeniedMessage?window.appGlobals.currentSamlDeniedMessage=t.customSamlDeniedMessage:window.appGlobals.currentSamlDeniedMessage=void 0,t.customSamlLoginMessage?window.appGlobals.currentSamlLoginMessage=t.customSamlLoginMessage:window.appGlobals.currentSamlLoginMessage=void 0,t.forceSecureSamlLogin?window.appGlobals.currentForceSaml=!0:window.appGlobals.currentForceSaml=!1),this.completeExternalLoginText&&(window.appGlobals.notifyUserViaToast(this.completeExternalLoginText),this._closeUserLogin(),this.completeExternalLoginText=void 0,this._checkLoginForParameters())}async getAdminRights(){const t=await this.serverApi.getAdminRights();t?(this.adminRights=t,this.fireGlobal("yp-got-admin-rights",!0)):this.adminRights&&(this.adminRights=void 0,this.fireGlobal("yp-got-admin-rights",!1)),this.fireGlobal("yp-have-checked-admin-rights")}_updateMembershipsIndex(t){if(t){let e;for(this.membershipsIndex={groups:{},communities:{},domains:{}},e=0;e<t.GroupUsers.length;e++)this.membershipsIndex.groups[t.GroupUsers[e].id]=!0;for(e=0;e<t.CommunityUsers.length;e++)this.membershipsIndex.communities[t.CommunityUsers[e].id]=!0;for(e=0;e<t.DomainUsers.length;e++)this.membershipsIndex.domains[t.DomainUsers[e].id]=!0}else this.membershipsIndex={groups:{},communities:{},domains:{}}}async getMemberShips(){const t=await this.serverApi.getMemberships();t?(this.memberships=t,this._updateMembershipsIndex(this.memberships),this.fireGlobal("yp-got-memberships",!0)):this.memberships&&(this.memberships=void 0,this.fireGlobal("yp-got-memberships",!1))}}class bd extends vd{constructor(t,e=!1){super(t,!0)}}const yd=[{id:1,title:"Democracy in Distress",imageUrl:"https://cps-images.citizens.is/projects/1/problemStatement/images/916898992.png",description:"The first test run is entirely automated except for the problem statement provided by us. All sub problems, entities and solutions with pros & cons are generated using GPT-4 & GPT-3.5. The context for solutions is obtained through curated web searches. This setup allows us to explore how human and AI-driven insights can work together to solve complex problems."}];let xd=class extends hs{async connectedCallback(){super.connectedCallback(),window.appGlobals.activity("Home - open")}updated(t){super.updated(t)}disconnectedCallback(){super.disconnectedCallback(),window.appGlobals.activity("Home - close")}static get styles(){return[super.styles,h`.subContainer{max-width:960px;margin-top:8px;padding:16px}.projectItem{background-color:var(--md-sys-color-surface-variant);color:var(--md-sys-color-on-surface-variant);border-radius:16px;margin:16px;margin-top:32px;width:100%;max-width:420px;padding:0}.projectTitle{font-size:32px;background-color:var(--md-sys-color-primary);color:var(--md-sys-color-on-primary);width:100%;max-width:420px;height:100%;padding:0;margin:0;margin-top:-4px}.projectDescription{padding:16px;height:142px}.projectTitleInner{padding:16px;padding-bottom:20px}.projectImage{margin:0;padding:0}.moreInfo{margin:16px;margin-top:0;font-size:18px;padding:24px;line-height:1.5;max-width:944px;border-radius:24px;color:var(--md-sys-color-on-surface);background-color:var(--md-sys-color-surface)}a{text-decoration:none}.gitHubLink{margin-top:16px}.gitHubLink a{text-decoration:underline}.title{padding:24px;margin-bottom:0;color:var(--md-sys-color-primary);background-color:var(--md-sys-color-on-primary)}@media (max-width:960px){.projectItem,.projectTitle{max-width:100%;width:100%;margin:0}.projectTitle{font-size:26px;margin-top:-3px}.subContainer{max-width:100%;margin-top:8px;padding:8px}.moreInfo{margin:8px;max-width:100%;width:100%}.projectDescription{padding-bottom:24px;height:100%}.title{font-size:26px;padding:16px;line-height:1.45}}`]}renderProject(t){return W` <a href="/projects/${t.id}" @click="${()=>window.scrollTo(0,0)}"> <div class="projectItem layout vertical center-center"> <div class="projectImage"> <img width="${this.wide?420:343}" height="${this.wide?240:196}" src="${t.imageUrl}"> </div> <div class="projectTitle layout vertical center-center"> <div class="projectTitleInner">${t.title}</div> </div> <div class="projectDescription">${t.description}</div> </div> </a> `}render(){return W` <div class="topContainer layout vertical center-center"> <img height="${this.wide?300:190}" src="https://yrpri-usa-production-direct-assets.s3.amazonaws.com/Robert_Bjarnason_High_quality_abstract_new_high_tech_new_wave.__61a9b3d8-7533-4841-a99e-ef036fed1fbf.png"> <div class="title">${this.t("Welcome to Policy Synth")}</div> <div class="layout horizontal center-justified wrap"> ${yd.map((t=>this.renderProject(t)))} </div> <div class="subContainer layout vertical center-center"> <div class="title"> ${this.t("Bringing together the best of collective and artificial intelligence")} </div> <div class="moreInfo"> Our project embodies a unique effort to intertwine human insights and artificial intelligence to grapple with complex policy dilemmas. We are in the process of building a state-of-the-art platform where policymakers, citizens, and AI can engage in a collective discourse. This collaborative interaction is expected to not only expedite decision-making processes but also augment their quality, paving the way for more inventive and efficacious policy resolutions. </div> <div class="gitHubLink"> <a href="https://github.com/CitizensFoundation/policy-synth" target="_blank">${this.t("Join us and collaborate on Github")}</a> </div> </div> </div> `}};xd=i([ft("cps-home")],xd);let wd=class extends hs{async connectedCallback(){super.connectedCallback(),window.appGlobals.activity("Problem Statment - open")}updated(t){super.updated(t)}disconnectedCallback(){super.disconnectedCallback(),window.appGlobals.activity("Problem Statment - close")}static get styles(){return[super.styles,h``]}render(){return W` <div class="topContainer layout vertical center-center"> ${this.renderProblemStatement()} ${this.renderSearchQueries(this.t("Search queries for problem statement"),this.memory.problemStatement.searchQueries)} ${this.renderSearchResults(this.t("Webpages scanned for solutions to problem statement"),this.memory.problemStatement.searchResults)} </div> `}};wd=i([ft("cps-problem-statement")],wd);let Id=class extends hs{async connectedCallback(){super.connectedCallback(),window.appGlobals.activity("Sub Problems - open")}updated(t){super.updated(t)}disconnectedCallback(){super.disconnectedCallback(),window.appGlobals.activity("Sub Problems - close")}static get styles(){return[super.styles,h``]}render(){const t=this.memory.subProblems||[];return null!==this.activeSubProblemIndex?this.renderSubProblemScreen(t[this.activeSubProblemIndex]):this.renderSubProblemList(t,this.t("Sub problems"))}renderSubProblemScreen(t){return W` <div class="topContainer layout vertical center-center"> ${this.renderSubProblem(t,!1,0,!0,!0)} ${this.renderSearchQueries(this.t("Search queries for sub problem"),t.searchQueries)} ${this.renderSearchResults(this.t("Webpages scanned for solutions to sub problem"),t.searchResults)} </div> `}};Id=i([ft("cps-sub-problems")],Id);let Cd=class extends hs{constructor(){super(...arguments),this.activeEntityIndex=null,this.maxNumberOfTopEntities=4}async connectedCallback(){super.connectedCallback(),2==this.memory.groupId&&(this.maxNumberOfTopEntities=4),window.appGlobals.activity("Sub Problems - open")}updated(t){super.updated(t)}disconnectedCallback(){super.disconnectedCallback(),window.appGlobals.activity("Sub Problems - close")}static get styles(){return[super.styles,h`.entity{opacity:1;background-color:var(--md-sys-color-surface);color:var(--md-sys-color-on-surface);border-radius:16px;padding:16px;margin:16px 0;max-width:960px;width:100%}.entity.lessProminent{opacity:.6}.entityName{font-size:24px;font-weight:500;margin-bottom:16px;color:var(--md-sys-color-primary)}`]}render(){const t=this.memory.subProblems||[];return null!==this.activeEntityIndex?this.renderEntityScreen(t[this.activeSubProblemIndex].entities[this.activeEntityIndex]):null!==this.activeSubProblemIndex?this.renderSubProblemScreen(t[this.activeSubProblemIndex]):this.renderSubProblemList(t,this.t("Sub Problems and Entities"))}renderSubProblemScreen(t){return W` <div class="topContainer layout vertical center-center"> ${this.renderSubProblem(t,!1,0,!0,!0)} ${t.entities.map(((t,e)=>{const i=e>=this.maxNumberOfTopEntities;return W` <div class="entity ${i?"lessProminent":""}"> <div class="entityName">${t.name}</div> ${t.negativeEffects?.length>0?W` <div> Negative Effects: <ul> ${t.negativeEffects?.map((t=>W` <li>${t}</li> `))} </ul> </div> `:H} ${t.positiveEffects?.length>0?W` <div> Positive Effects: <ul> ${t.positiveEffects?.map((t=>W` <li>${t}</li> `))} </ul> </div> `:H} ${i?H:W` ${this.renderSearchQueries(this.t("Search queries for entity"),t.searchQueries)} ${this.renderSearchResults(this.t("Webpages scanned for solutions to entites problems"),t.searchResults)} `} </div> `}))} </div> `}renderEntityScreen(t){return W` <div class="topContainer layout vertical"> <div class="title">${this.t("Problem Statement")}</div> <div class="problemStatement"> ${this.memory.problemStatement.description} </div> <div class="title">${this.t("Sub Problems")}</div> </div> `}};i([vt({type:Number}),n("design:type",Number)],Cd.prototype,"activeEntityIndex",void 0),Cd=i([ft("cps-entities")],Cd);
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class Ad extends pt{constructor(){super(...arguments),this.disabled=!1,this.label=""}get rippleDisabled(){return this.disabled}render(){return this.renderContainer(this.renderContainerContent())}getContainerClasses(){return{disabled:this.disabled}}renderContainerContent(){return W` ${this.renderOutline()} <md-focus-ring part="focus-ring" for="${this.primaryId}"></md-focus-ring> <md-ripple for="${this.primaryId}" ?disabled="${this.rippleDisabled}"></md-ripple> ${this.renderPrimaryAction(this.renderPrimaryContent())} `}renderOutline(){return W`<span class="outline"></span>`}renderLeadingIcon(){return W`<slot name="icon"></slot>`}renderPrimaryContent(){return W` <span class="leading icon" aria-hidden="true"> ${this.renderLeadingIcon()} </span> <span class="label">${this.label}</span> <span class="touch"></span> `}}function Sd(t){return t===H?t:W`<div class="cell" role="cell">${t}</div>`}
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */Ci(Ad),Ad.shadowRootOptions={...pt.shadowRootOptions,delegatesFocus:!0},i([vt({type:Boolean})],Ad.prototype,"disabled",void 0),i([vt()],Ad.prototype,"label",void 0);class kd extends pt{get chips(){return this.childElements.filter((t=>t instanceof Ad))}constructor(){super(),this.type="",this.singleSelect=!1,this.addEventListener("focusin",this.updateTabIndices.bind(this)),this.addEventListener("keydown",this.handleKeyDown.bind(this)),this.addEventListener("selected",this.handleSelected.bind(this))}updated(t){if(t.has("singleSelect")&&this.singleSelect){let t=!1;for(const e of this.chips)if(!0===e.selected){if(!t){t=!0;continue}e.selected=!1}}}render(){const{ariaLabel:t}=this,e="filter"===this.type,i=e?"listbox":"grid",n=e?!this.singleSelect:H;return W` <div class="content" role="${i}" aria-label="${t||H}" aria-multiselectable="${n}"> <slot @slotchange="${this.updateTabIndices}"></slot> </div> `}handleKeyDown(t){const e="ArrowDown"===t.key,i="ArrowUp"===t.key,n="ArrowLeft"===t.key,r="ArrowRight"===t.key,o="Home"===t.key,a="End"===t.key;if(!(n||r||e||i||o||a))return;const{chips:s}=this;if(s.length<2)return;if(t.preventDefault(),o||a){return s[o?0:s.length-1].focus({trailing:a}),void this.updateTabIndices()}const l="rtl"===getComputedStyle(this).direction?n||i:r||e,c=s.find((t=>t.matches(":focus-within")));if(!c){return(l?s[0]:s[s.length-1]).focus({trailing:!l}),void this.updateTabIndices()}const d=s.indexOf(c);let u=l?d+1:d-1;for(;u!==d;){u>=s.length?u=0:u<0&&(u=s.length-1);const t=s[u];if(!t.disabled){t.focus({trailing:!l}),this.updateTabIndices();break}l?u++:u--}}updateTabIndices(){const{chips:t}=this;let e=!1;for(const i of t)i.matches(":focus-within")?(i.removeAttribute("tabindex"),e=!0):i.tabIndex=-1;e||t[0]?.removeAttribute("tabindex")}handleSelected(t){if(this.singleSelect&&!0===t.target.selected)for(const e of this.chips)e!==t.target&&e.selected&&(e.selected=!1)}}Ci(kd),i([vt()],kd.prototype,"type",void 0),i([vt({type:Boolean,attribute:"single-select"})],kd.prototype,"singleSelect",void 0),i([At()],kd.prototype,"childElements",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const _d=h`:host{display:flex;flex-wrap:wrap;gap:8px}.content{display:flex;flex-wrap:inherit;gap:inherit}`
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let Td=class extends kd{};Td.styles=[_d],Td=i([ft("md-chip-set")],Td);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const Pd=h`.elevated{--md-elevation-level:var(--_elevated-container-elevation);--md-elevation-shadow-color:var(--_elevated-container-shadow-color)}.elevated::before{background:var(--_elevated-container-color)}.elevated:hover{--md-elevation-level:var(--_elevated-hover-container-elevation)}.elevated:focus-within{--md-elevation-level:var(--_elevated-focus-container-elevation)}.elevated:active{--md-elevation-level:var(--_elevated-pressed-container-elevation)}.elevated.disabled{--md-elevation-level:var(--_elevated-disabled-container-elevation)}.elevated.disabled::before{background:var(--_elevated-disabled-container-color);opacity:var(--_elevated-disabled-container-opacity)}@media(forced-colors:active){.elevated md-elevation{border:1px solid CanvasText}.elevated.disabled md-elevation{border-color:GrayText}}`
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */,Md="aria-label-remove";class Nd extends Ad{get ariaLabelRemove(){if(this.hasAttribute(Md))return this.getAttribute(Md);const{ariaLabel:t}=this;return`Remove ${t||this.label}`}set ariaLabelRemove(t){t!==this.ariaLabelRemove&&(null===t?this.removeAttribute(Md):this.setAttribute(Md,t),this.requestUpdate())}constructor(){super(),this.addEventListener("keydown",this.handleKeyDown.bind(this))}focus(t){t?.trailing&&this.trailingAction?this.trailingAction.focus(t):super.focus(t)}renderContainerContent(){return W` ${super.renderContainerContent()} ${this.renderTrailingAction()} `}handleKeyDown(t){const e="ArrowLeft"===t.key,i="ArrowRight"===t.key;if(!e&&!i)return;if(!this.primaryAction||!this.trailingAction)return;const n="rtl"===getComputedStyle(this).direction?e:i,r=this.primaryAction?.matches(":focus-within"),o=this.trailingAction?.matches(":focus-within");if(n&&o||!n&&r)return;t.preventDefault(),t.stopPropagation();(n?this.trailingAction:this.primaryAction).focus()}}
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ld({ariaLabel:t,disabled:e,tabbable:i=!1}){return W` <button class="trailing action" aria-label="${t}" ?disabled="${e}" tabindex="${i?H:-1}" @click="${Od}"> <md-focus-ring part="trailing-focus-ring"></md-focus-ring> <md-ripple></md-ripple> <svg class="trailing icon" viewBox="0 96 960 960"> <path d="m249 849-42-42 231-231-231-231 42-42 231 231 231-231 42 42-231 231 231 231-42 42-231-231-231 231Z"/> </svg> <span class="touch"></span> </button> `}function Od(t){if(this.disabled)return;t.stopPropagation();!this.dispatchEvent(new Event("remove",{cancelable:!0}))||this.remove()}
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ed extends Nd{constructor(){super(...arguments),this.elevated=!1,this.removable=!1,this.selected=!1}get primaryId(){return"option"}updated(t){t.has("selected")&&void 0!==t.get("selected")&&this.dispatchEvent(new Event("selected",{bubbles:!0}))}renderContainer(t){const e=this.getContainerClasses();return W`<div class="container ${Zi(e)}" role="presentation">${t}</div>`}getContainerClasses(){return{...super.getContainerClasses(),elevated:this.elevated,selected:this.selected,"has-trailing":this.removable}}renderPrimaryAction(t){const{ariaLabel:e}=this;return W` <button class="primary action" id="option" aria-label="${e||H}" aria-selected="${this.selected}" ?disabled="${this.disabled||H}" role="option" @click="${this.handleClick}">${t}</button> `}renderLeadingIcon(){return this.selected?V`
      <svg class="checkmark" viewBox="0 0 18 18" aria-hidden="true">
        <path d="M6.75012 12.1274L3.62262 8.99988L2.55762 10.0574L6.75012 14.2499L15.7501 5.24988L14.6926 4.19238L6.75012 12.1274Z" />
      </svg>
    `:super.renderLeadingIcon()}renderTrailingAction(){return this.removable?Ld({ariaLabel:this.ariaLabelRemove,disabled:this.disabled}):H}renderOutline(){return this.elevated?W`<md-elevation></md-elevation>`:super.renderOutline()}handleClick(t){if(this.disabled)return;!Xa(this,t)||(this.selected=!this.selected)}}i([vt({type:Boolean})],Ed.prototype,"elevated",void 0),i([vt({type:Boolean})],Ed.prototype,"removable",void 0),i([vt({type:Boolean,reflect:!0})],Ed.prototype,"selected",void 0),i([wt(".primary.action")],Ed.prototype,"primaryAction",void 0),i([wt(".trailing.action")],Ed.prototype,"trailingAction",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const Dd=h`:host{--_container-height:var(--md-filter-chip-container-height, 32px);--_container-shape:var(--md-filter-chip-container-shape, 8px);--_disabled-label-text-color:var(--md-filter-chip-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity:var(--md-filter-chip-disabled-label-text-opacity, 0.38);--_elevated-container-elevation:var(--md-filter-chip-elevated-container-elevation, 1);--_elevated-container-shadow-color:var(--md-filter-chip-elevated-container-shadow-color, var(--md-sys-color-shadow, #000));--_elevated-disabled-container-color:var(--md-filter-chip-elevated-disabled-container-color, var(--md-sys-color-on-surface, #1d1b20));--_elevated-disabled-container-elevation:var(--md-filter-chip-elevated-disabled-container-elevation, 0);--_elevated-disabled-container-opacity:var(--md-filter-chip-elevated-disabled-container-opacity, 0.12);--_elevated-focus-container-elevation:var(--md-filter-chip-elevated-focus-container-elevation, 1);--_elevated-hover-container-elevation:var(--md-filter-chip-elevated-hover-container-elevation, 2);--_elevated-pressed-container-elevation:var(--md-filter-chip-elevated-pressed-container-elevation, 1);--_elevated-selected-container-color:var(--md-filter-chip-elevated-selected-container-color, var(--md-sys-color-secondary-container, #e8def8));--_label-text-font:var(--md-filter-chip-label-text-font, var(--md-sys-typescale-label-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height:var(--md-filter-chip-label-text-line-height, var(--md-sys-typescale-label-large-line-height, 1.25rem));--_label-text-size:var(--md-filter-chip-label-text-size, var(--md-sys-typescale-label-large-size, 0.875rem));--_label-text-weight:var(--md-filter-chip-label-text-weight, var(--md-sys-typescale-label-large-weight, var(--md-ref-typeface-weight-medium, 500)));--_selected-focus-label-text-color:var(--md-filter-chip-selected-focus-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-label-text-color:var(--md-filter-chip-selected-hover-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-state-layer-color:var(--md-filter-chip-selected-hover-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-state-layer-opacity:var(--md-filter-chip-selected-hover-state-layer-opacity, 0.08);--_selected-label-text-color:var(--md-filter-chip-selected-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-pressed-label-text-color:var(--md-filter-chip-selected-pressed-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-pressed-state-layer-color:var(--md-filter-chip-selected-pressed-state-layer-color, var(--md-sys-color-on-surface-variant, #49454f));--_selected-pressed-state-layer-opacity:var(--md-filter-chip-selected-pressed-state-layer-opacity, 0.12);--_elevated-container-color:var(--md-filter-chip-elevated-container-color, var(--md-sys-color-surface-container-low, #f7f2fa));--_disabled-outline-color:var(--md-filter-chip-disabled-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-outline-opacity:var(--md-filter-chip-disabled-outline-opacity, 0.12);--_disabled-selected-container-color:var(--md-filter-chip-disabled-selected-container-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-selected-container-opacity:var(--md-filter-chip-disabled-selected-container-opacity, 0.12);--_focus-outline-color:var(--md-filter-chip-focus-outline-color, var(--md-sys-color-on-surface-variant, #49454f));--_outline-color:var(--md-filter-chip-outline-color, var(--md-sys-color-outline, #79747e));--_outline-width:var(--md-filter-chip-outline-width, 1px);--_selected-container-color:var(--md-filter-chip-selected-container-color, var(--md-sys-color-secondary-container, #e8def8));--_selected-outline-width:var(--md-filter-chip-selected-outline-width, 0px);--_focus-label-text-color:var(--md-filter-chip-focus-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-label-text-color:var(--md-filter-chip-hover-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-color:var(--md-filter-chip-hover-state-layer-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-opacity:var(--md-filter-chip-hover-state-layer-opacity, 0.08);--_label-text-color:var(--md-filter-chip-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-label-text-color:var(--md-filter-chip-pressed-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-state-layer-color:var(--md-filter-chip-pressed-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_pressed-state-layer-opacity:var(--md-filter-chip-pressed-state-layer-opacity, 0.12);--_icon-size:var(--md-filter-chip-icon-size, 18px);--_disabled-leading-icon-color:var(--md-filter-chip-disabled-leading-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-leading-icon-opacity:var(--md-filter-chip-disabled-leading-icon-opacity, 0.38);--_selected-focus-leading-icon-color:var(--md-filter-chip-selected-focus-leading-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-leading-icon-color:var(--md-filter-chip-selected-hover-leading-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-leading-icon-color:var(--md-filter-chip-selected-leading-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-pressed-leading-icon-color:var(--md-filter-chip-selected-pressed-leading-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_focus-leading-icon-color:var(--md-filter-chip-focus-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_hover-leading-icon-color:var(--md-filter-chip-hover-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_leading-icon-color:var(--md-filter-chip-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_pressed-leading-icon-color:var(--md-filter-chip-pressed-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_disabled-trailing-icon-color:var(--md-filter-chip-disabled-trailing-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-trailing-icon-opacity:var(--md-filter-chip-disabled-trailing-icon-opacity, 0.38);--_selected-focus-trailing-icon-color:var(--md-filter-chip-selected-focus-trailing-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-trailing-icon-color:var(--md-filter-chip-selected-hover-trailing-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-pressed-trailing-icon-color:var(--md-filter-chip-selected-pressed-trailing-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-trailing-icon-color:var(--md-filter-chip-selected-trailing-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_focus-trailing-icon-color:var(--md-filter-chip-focus-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-trailing-icon-color:var(--md-filter-chip-hover-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-trailing-icon-color:var(--md-filter-chip-pressed-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_trailing-icon-color:var(--md-filter-chip-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_container-shape-start-start:var( --md-filter-chip-container-shape-start-start, var(--_container-shape) );--_container-shape-start-end:var( --md-filter-chip-container-shape-start-end, var(--_container-shape) );--_container-shape-end-end:var( --md-filter-chip-container-shape-end-end, var(--_container-shape) );--_container-shape-end-start:var( --md-filter-chip-container-shape-end-start, var(--_container-shape) )}.selected.elevated::before{background:var(--_elevated-selected-container-color)}.checkmark{height:var(--_icon-size);width:var(--_icon-size)}.disabled .checkmark{opacity:var(--_disabled-leading-icon-opacity)}@media(forced-colors:active){.disabled .checkmark{opacity:1}}`
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */,zd=h`.selected{--md-ripple-hover-color:var(--_selected-hover-state-layer-color);--md-ripple-hover-opacity:var(--_selected-hover-state-layer-opacity);--md-ripple-pressed-color:var(--_selected-pressed-state-layer-color);--md-ripple-pressed-opacity:var(--_selected-pressed-state-layer-opacity)}:where(.selected)::before{background:var(--_selected-container-color)}:where(.selected) .outline{border-width:var(--_selected-outline-width)}:where(.selected.disabled)::before{background:var(--_disabled-selected-container-color);opacity:var(--_disabled-selected-container-opacity)}:where(.selected) .label{color:var(--_selected-label-text-color)}:where(.selected:hover) .label{color:var(--_selected-hover-label-text-color)}:where(.selected:focus) .label{color:var(--_selected-focus-label-text-color)}:where(.selected:active) .label{color:var(--_selected-pressed-label-text-color)}:where(.selected) .leading.icon{color:var(--_selected-leading-icon-color)}:where(.selected:hover) .leading.icon{color:var(--_selected-hover-leading-icon-color)}:where(.selected:focus) .leading.icon{color:var(--_selected-focus-leading-icon-color)}:where(.selected:active) .leading.icon{color:var(--_selected-pressed-leading-icon-color)}@media(forced-colors:active){:where(.selected:not(.elevated))::before{border:1px solid CanvasText}:where(.selected) .outline{border-width:1px}}`
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */,jd=h`:host{border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end);display:inline-flex;height:var(--_container-height);cursor:pointer;--md-ripple-hover-color:var(--_hover-state-layer-color);--md-ripple-hover-opacity:var(--_hover-state-layer-opacity);--md-ripple-pressed-color:var(--_pressed-state-layer-color);--md-ripple-pressed-opacity:var(--_pressed-state-layer-opacity)}:host([touch-target=wrapper]){margin:max(0,(48px - var(--_container-height))/2) 0}md-focus-ring{--md-focus-ring-shape-start-start:var(--_container-shape-start-start);--md-focus-ring-shape-start-end:var(--_container-shape-start-end);--md-focus-ring-shape-end-end:var(--_container-shape-end-end);--md-focus-ring-shape-end-start:var(--_container-shape-end-start)}.container{border-radius:inherit;box-sizing:border-box;display:flex;height:100%;position:relative;width:100%}.container::before{border-radius:inherit;content:"";inset:0;pointer-events:none;position:absolute}.container:not(.disabled){cursor:pointer}.container.disabled{pointer-events:none}.cell{display:flex}.action{align-items:baseline;appearance:none;background:0 0;border:none;border-radius:inherit;display:flex;gap:8px;outline:0;padding:0;position:relative;text-decoration:none}.primary.action{padding-inline-start:8px;padding-inline-end:16px}.touch{height:48px;inset:50% 0 0;position:absolute;transform:translateY(-50%);width:100%}:host([touch-target=none]) .touch{display:none}.outline{border:var(--_outline-width) solid var(--_outline-color);border-radius:inherit;inset:0;pointer-events:none;position:absolute}:where(:focus) .outline{border-color:var(--_focus-outline-color)}:where(.disabled) .outline{border-color:var(--_disabled-outline-color);opacity:var(--_disabled-outline-opacity)}md-ripple{border-radius:inherit}.icon,.label,.touch{z-index:1}.label{align-items:center;color:var(--_label-text-color);display:flex;font-family:var(--_label-text-font);font-size:var(--_label-text-size);line-height:var(--_label-text-line-height);font-weight:var(--_label-text-weight);height:100%;text-overflow:ellipsis;user-select:none;white-space:nowrap}:where(:hover) .label{color:var(--_hover-label-text-color)}:where(:focus) .label{color:var(--_focus-label-text-color)}:where(:active) .label{color:var(--_pressed-label-text-color)}:where(.disabled) .label{color:var(--_disabled-label-text-color);opacity:var(--_disabled-label-text-opacity)}.icon{align-self:center;display:flex;fill:currentColor;position:relative}.icon ::slotted(:first-child){font-size:var(--_icon-size);height:var(--_icon-size);width:var(--_icon-size)}.leading.icon{color:var(--_leading-icon-color)}:where(:hover) .leading.icon{color:var(--_hover-leading-icon-color)}:where(:focus) .leading.icon{color:var(--_focus-leading-icon-color)}:where(:active) .leading.icon{color:var(--_pressed-leading-icon-color)}:where(.disabled) .leading.icon{color:var(--_disabled-leading-icon-color);opacity:var(--_disabled-leading-icon-opacity)}@media(forced-colors:active){:where(.disabled) :is(.label,.outline,.leading.icon){color:GrayText;opacity:1}}a,button:not(:disabled){cursor:inherit}`
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */,Rd=h`.trailing.action{align-items:center;justify-content:center;padding:0 8px}.trailing.action :is(md-ripple,md-focus-ring){border-radius:50%;height:calc(1.3333333333*var(--_icon-size));width:calc(1.3333333333*var(--_icon-size))}.trailing.action md-focus-ring{inset:unset}.has-trailing .primary.action{padding-inline-end:0}.trailing.icon{color:var(--_trailing-icon-color);height:var(--_icon-size);width:var(--_icon-size)}:where(:hover) .trailing.icon{color:var(--_hover-trailing-icon-color)}:where(:focus) .trailing.icon{color:var(--_focus-trailing-icon-color)}:where(:active) .trailing.icon{color:var(--_pressed-trailing-icon-color)}:where(.disabled) .trailing.icon{color:var(--_disabled-trailing-icon-color);opacity:var(--_disabled-trailing-icon-opacity)}:where(.selected) .trailing.icon{color:var(--_selected-trailing-icon-color)}:where(.selected:hover) .trailing.icon{color:var(--_selected-hover-trailing-icon-color)}:where(.selected:focus) .trailing.icon{color:var(--_selected-focus-trailing-icon-color)}:where(.selected:active) .trailing.icon{color:var(--_selected-pressed-trailing-icon-color)}@media(forced-colors:active){.trailing.icon{color:ButtonText}:where(.disabled) .trailing.icon{color:GrayText;opacity:1}}`
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let Gd=class extends Ed{};Gd.styles=[jd,Pd,Rd,zd,Dd],Gd=i([ft("md-filter-chip")],Gd);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const Bd=h`@media(forced-colors:active){:host{--md-outlined-select-text-field-disabled-input-text-color:GrayText;--md-outlined-select-text-field-disabled-input-text-opacity:1;--md-outlined-select-text-field-disabled-label-text-color:GrayText;--md-outlined-select-text-field-disabled-label-text-opacity:1;--md-outlined-select-text-field-disabled-leading-icon-color:GrayText;--md-outlined-select-text-field-disabled-leading-icon-opacity:1;--md-outlined-select-text-field-disabled-outline-color:GrayText;--md-outlined-select-text-field-disabled-outline-opacity:1;--md-outlined-select-text-field-disabled-supporting-text-color:GrayText;--md-outlined-select-text-field-disabled-supporting-text-opacity:1;--md-outlined-select-text-field-disabled-trailing-icon-color:GrayText;--md-outlined-select-text-field-disabled-trailing-icon-opacity:1}}`
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;class Ud extends pt{constructor(){super(...arguments),this.disabled=!1,this.error=!1,this.focused=!1,this.label="",this.populated=!1,this.required=!1,this.resizable=!1,this.supportingText="",this.errorText="",this.count=-1,this.max=-1,this.hasStart=!1,this.hasEnd=!1,this.isAnimating=!1,this.refreshErrorAlert=!1,this.disableTransitions=!1}get counterText(){return this.count<0||this.max<0?"":`${this.count} / ${this.max}`}get supportingOrErrorText(){return this.error&&this.errorText?this.errorText:this.supportingText}reannounceError(){this.refreshErrorAlert=!0}update(t){t.has("disabled")&&void 0!==t.get("disabled")&&(this.disableTransitions=!0),this.disabled&&this.focused&&(t.set("focused",!0),this.focused=!1),this.animateLabelIfNeeded({wasFocused:t.get("focused"),wasPopulated:t.get("populated")}),super.update(t)}render(){const t=this.renderLabel(!0),e=this.renderLabel(!1),i=this.renderOutline?.(t),n={disabled:this.disabled,"disable-transitions":this.disableTransitions,error:this.error&&!this.disabled,focused:this.focused,"with-start":this.hasStart,"with-end":this.hasEnd,populated:this.populated,resizable:this.resizable,required:this.required,"no-label":!this.label};return W` <div class="field ${Zi(n)}"> <div class="container-overflow"> ${this.renderBackground?.()} <div class="container"> <div class="start"> <slot name="start"></slot> </div> <div class="middle"> <div class="label-wrapper"> ${e} ${i?H:t} </div> <div class="content"> <slot></slot> </div> </div> <div class="end"> <slot name="end"></slot> </div> </div> ${i} ${this.renderIndicator?.()} </div> ${this.renderSupportingText()} </div> `}updated(t){(t.has("supportingText")||t.has("errorText")||t.has("count")||t.has("max"))&&this.updateSlottedAriaDescribedBy(),this.refreshErrorAlert&&requestAnimationFrame((()=>{this.refreshErrorAlert=!1})),this.disableTransitions&&requestAnimationFrame((()=>{this.disableTransitions=!1}))}renderSupportingText(){const{supportingOrErrorText:t,counterText:e}=this;if(!t&&!e)return H;const i=W`<span>${t}</span>`,n=e?W`<span class="counter">${e}</span>`:H,r=this.error&&this.errorText&&!this.refreshErrorAlert;return W` <div class="supporting-text" role="${r?"alert":H}">${i}${n}</div> <slot name="aria-describedby" @slotchange="${this.updateSlottedAriaDescribedBy}"></slot> `}updateSlottedAriaDescribedBy(){for(const t of this.slottedAriaDescribedBy)dt(W`${this.supportingOrErrorText} ${this.counterText}`,t),t.setAttribute("hidden","")}renderLabel(t){if(!this.label)return H;let e;e=t?this.focused||this.populated||this.isAnimating:!this.focused&&!this.populated&&!this.isAnimating;const i={hidden:!e,floating:t,resting:!t},n=`${this.label}${this.required?"*":""}`;return W` <span class="label ${Zi(i)}" aria-hidden="${!e}">${n}</span> `}animateLabelIfNeeded({wasFocused:t,wasPopulated:e}){if(!this.label)return;t??(t=this.focused),e??(e=this.populated);(t||e)!==(this.focused||this.populated)&&(this.isAnimating=!0,this.labelAnimation?.cancel(),this.labelAnimation=this.floatingLabelEl?.animate(this.getLabelKeyframes(),{duration:150,easing:$i}),this.labelAnimation?.addEventListener("finish",(()=>{this.isAnimating=!1})))}getLabelKeyframes(){const{floatingLabelEl:t,restingLabelEl:e}=this;if(!t||!e)return[];const{x:i,y:n,height:r}=t.getBoundingClientRect(),{x:o,y:a,height:s}=e.getBoundingClientRect(),l=t.scrollWidth,c=e.scrollWidth,d=c/l,u=`translateX(${o-i}px) translateY(${a-n+Math.round((s-r*d)/2)}px) scale(${d})`,h="translateX(0) translateY(0) scale(1)",p=e.clientWidth,g=c>p?p/d+"px":"";return this.focused||this.populated?[{transform:u,width:g},{transform:h,width:g}]:[{transform:h,width:g},{transform:u,width:g}]}getSurfacePositionClientRect(){return this.containerEl.getBoundingClientRect()}}i([vt({type:Boolean})],Ud.prototype,"disabled",void 0),i([vt({type:Boolean})],Ud.prototype,"error",void 0),i([vt({type:Boolean})],Ud.prototype,"focused",void 0),i([vt()],Ud.prototype,"label",void 0),i([vt({type:Boolean})],Ud.prototype,"populated",void 0),i([vt({type:Boolean})],Ud.prototype,"required",void 0),i([vt({type:Boolean})],Ud.prototype,"resizable",void 0),i([vt({attribute:"supporting-text"})],Ud.prototype,"supportingText",void 0),i([vt({attribute:"error-text"})],Ud.prototype,"errorText",void 0),i([vt({type:Number})],Ud.prototype,"count",void 0),i([vt({type:Number})],Ud.prototype,"max",void 0),i([vt({type:Boolean,attribute:"has-start"})],Ud.prototype,"hasStart",void 0),i([vt({type:Boolean,attribute:"has-end"})],Ud.prototype,"hasEnd",void 0),i([At({slot:"aria-describedby"})],Ud.prototype,"slottedAriaDescribedBy",void 0),i([bt()],Ud.prototype,"isAnimating",void 0),i([bt()],Ud.prototype,"refreshErrorAlert",void 0),i([bt()],Ud.prototype,"disableTransitions",void 0),i([wt(".label.floating")],Ud.prototype,"floatingLabelEl",void 0),i([wt(".label.resting")],Ud.prototype,"restingLabelEl",void 0),i([wt(".container")],Ud.prototype,"containerEl",void 0);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class Zd extends Ud{renderOutline(t){return W` <div class="outline"> <div class="outline-start"></div> <div class="outline-notch"> <div class="outline-panel-inactive"></div> <div class="outline-panel-active"></div> <div class="outline-label">${t}</div> </div> <div class="outline-end"></div> </div> `}}
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */const $d=h`:host{--_bottom-space:var(--md-outlined-field-bottom-space, 16px);--_container-shape:var(--md-outlined-field-container-shape, 4px);--_content-color:var(--md-outlined-field-content-color, var(--md-sys-color-on-surface, #1d1b20));--_content-font:var(--md-outlined-field-content-font, var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto)));--_content-line-height:var(--md-outlined-field-content-line-height, var(--md-sys-typescale-body-large-line-height, 1.5rem));--_content-size:var(--md-outlined-field-content-size, var(--md-sys-typescale-body-large-size, 1rem));--_content-weight:var(--md-outlined-field-content-weight, var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400)));--_disabled-content-color:var(--md-outlined-field-disabled-content-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-content-opacity:var(--md-outlined-field-disabled-content-opacity, 0.38);--_disabled-label-text-color:var(--md-outlined-field-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity:var(--md-outlined-field-disabled-label-text-opacity, 0.38);--_disabled-leading-content-color:var(--md-outlined-field-disabled-leading-content-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-leading-content-opacity:var(--md-outlined-field-disabled-leading-content-opacity, 0.38);--_disabled-outline-color:var(--md-outlined-field-disabled-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-outline-opacity:var(--md-outlined-field-disabled-outline-opacity, 0.12);--_disabled-outline-width:var(--md-outlined-field-disabled-outline-width, 1px);--_disabled-supporting-text-color:var(--md-outlined-field-disabled-supporting-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-supporting-text-opacity:var(--md-outlined-field-disabled-supporting-text-opacity, 0.38);--_disabled-trailing-content-color:var(--md-outlined-field-disabled-trailing-content-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-trailing-content-opacity:var(--md-outlined-field-disabled-trailing-content-opacity, 0.38);--_error-content-color:var(--md-outlined-field-error-content-color, var(--md-sys-color-on-surface, #1d1b20));--_error-focus-content-color:var(--md-outlined-field-error-focus-content-color, var(--md-sys-color-on-surface, #1d1b20));--_error-focus-label-text-color:var(--md-outlined-field-error-focus-label-text-color, var(--md-sys-color-error, #b3261e));--_error-focus-leading-content-color:var(--md-outlined-field-error-focus-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-focus-outline-color:var(--md-outlined-field-error-focus-outline-color, var(--md-sys-color-error, #b3261e));--_error-focus-supporting-text-color:var(--md-outlined-field-error-focus-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-focus-trailing-content-color:var(--md-outlined-field-error-focus-trailing-content-color, var(--md-sys-color-error, #b3261e));--_error-hover-content-color:var(--md-outlined-field-error-hover-content-color, var(--md-sys-color-on-surface, #1d1b20));--_error-hover-label-text-color:var(--md-outlined-field-error-hover-label-text-color, var(--md-sys-color-on-error-container, #410e0b));--_error-hover-leading-content-color:var(--md-outlined-field-error-hover-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-hover-outline-color:var(--md-outlined-field-error-hover-outline-color, var(--md-sys-color-on-error-container, #410e0b));--_error-hover-supporting-text-color:var(--md-outlined-field-error-hover-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-hover-trailing-content-color:var(--md-outlined-field-error-hover-trailing-content-color, var(--md-sys-color-on-error-container, #410e0b));--_error-label-text-color:var(--md-outlined-field-error-label-text-color, var(--md-sys-color-error, #b3261e));--_error-leading-content-color:var(--md-outlined-field-error-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-outline-color:var(--md-outlined-field-error-outline-color, var(--md-sys-color-error, #b3261e));--_error-supporting-text-color:var(--md-outlined-field-error-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-trailing-content-color:var(--md-outlined-field-error-trailing-content-color, var(--md-sys-color-error, #b3261e));--_focus-content-color:var(--md-outlined-field-focus-content-color, var(--md-sys-color-on-surface, #1d1b20));--_focus-label-text-color:var(--md-outlined-field-focus-label-text-color, var(--md-sys-color-primary, #6750a4));--_focus-leading-content-color:var(--md-outlined-field-focus-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_focus-outline-color:var(--md-outlined-field-focus-outline-color, var(--md-sys-color-primary, #6750a4));--_focus-outline-width:var(--md-outlined-field-focus-outline-width, 3px);--_focus-supporting-text-color:var(--md-outlined-field-focus-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_focus-trailing-content-color:var(--md-outlined-field-focus-trailing-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-content-color:var(--md-outlined-field-hover-content-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-label-text-color:var(--md-outlined-field-hover-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-leading-content-color:var(--md-outlined-field-hover-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-outline-color:var(--md-outlined-field-hover-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-outline-width:var(--md-outlined-field-hover-outline-width, 1px);--_hover-supporting-text-color:var(--md-outlined-field-hover-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-trailing-content-color:var(--md-outlined-field-hover-trailing-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_label-text-color:var(--md-outlined-field-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_label-text-font:var(--md-outlined-field-label-text-font, var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height:var(--md-outlined-field-label-text-line-height, var(--md-sys-typescale-body-large-line-height, 1.5rem));--_label-text-padding-bottom:var(--md-outlined-field-label-text-padding-bottom, 8px);--_label-text-populated-line-height:var(--md-outlined-field-label-text-populated-line-height, var(--md-sys-typescale-body-small-line-height, 1rem));--_label-text-populated-size:var(--md-outlined-field-label-text-populated-size, var(--md-sys-typescale-body-small-size, 0.75rem));--_label-text-size:var(--md-outlined-field-label-text-size, var(--md-sys-typescale-body-large-size, 1rem));--_label-text-weight:var(--md-outlined-field-label-text-weight, var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400)));--_leading-content-color:var(--md-outlined-field-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_leading-space:var(--md-outlined-field-leading-space, 16px);--_outline-color:var(--md-outlined-field-outline-color, var(--md-sys-color-outline, #79747e));--_outline-label-padding:var(--md-outlined-field-outline-label-padding, 4px);--_outline-width:var(--md-outlined-field-outline-width, 1px);--_supporting-text-color:var(--md-outlined-field-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_supporting-text-font:var(--md-outlined-field-supporting-text-font, var(--md-sys-typescale-body-small-font, var(--md-ref-typeface-plain, Roboto)));--_supporting-text-leading-space:var(--md-outlined-field-supporting-text-leading-space, 16px);--_supporting-text-line-height:var(--md-outlined-field-supporting-text-line-height, var(--md-sys-typescale-body-small-line-height, 1rem));--_supporting-text-size:var(--md-outlined-field-supporting-text-size, var(--md-sys-typescale-body-small-size, 0.75rem));--_supporting-text-top-space:var(--md-outlined-field-supporting-text-top-space, 4px);--_supporting-text-trailing-space:var(--md-outlined-field-supporting-text-trailing-space, 16px);--_supporting-text-weight:var(--md-outlined-field-supporting-text-weight, var(--md-sys-typescale-body-small-weight, var(--md-ref-typeface-weight-regular, 400)));--_top-space:var(--md-outlined-field-top-space, 16px);--_trailing-content-color:var(--md-outlined-field-trailing-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_trailing-space:var(--md-outlined-field-trailing-space, 16px);--_container-shape-start-start:var( --md-outlined-field-container-shape-start-start, var(--_container-shape) );--_container-shape-start-end:var( --md-outlined-field-container-shape-start-end, var(--_container-shape) );--_container-shape-end-end:var( --md-outlined-field-container-shape-end-end, var(--_container-shape) );--_container-shape-end-start:var( --md-outlined-field-container-shape-end-start, var(--_container-shape) )}.outline{border-color:var(--_outline-color);border-radius:inherit;color:var(--_outline-color);display:flex;pointer-events:none;height:100%;position:absolute;width:100%}.outline-end::after,.outline-end::before,.outline-panel-active::after,.outline-panel-active::before,.outline-panel-inactive::after,.outline-panel-inactive::before,.outline-start::after,.outline-start::before{border:inherit;content:"";inset:0;position:absolute}.outline-end,.outline-start{border:inherit;border-radius:inherit;box-sizing:border-box;position:relative}.outline-end::after,.outline-end::before,.outline-start::after,.outline-start::before{border-bottom-style:solid;border-top-style:solid}.outline-end::after,.outline-start::after{opacity:0;transition:opacity 150ms cubic-bezier(.2,0,0,1)}.focused .outline-end::after,.focused .outline-start::after{opacity:1}.outline-start::after,.outline-start::before{border-inline-start-style:solid;border-inline-end-style:none;border-start-start-radius:inherit;border-start-end-radius:0;border-end-start-radius:inherit;border-end-end-radius:0;margin-inline-end:var(--_outline-label-padding)}.outline-end{flex-grow:1;margin-inline-start:calc(-1*var(--_outline-label-padding))}.outline-end::after,.outline-end::before{border-inline-start-style:none;border-inline-end-style:solid;border-start-start-radius:0;border-start-end-radius:inherit;border-end-start-radius:0;border-end-end-radius:inherit}.outline-notch{align-items:flex-start;border:inherit;display:flex;margin-inline-start:calc(-1*var(--_outline-label-padding));margin-inline-end:var(--_outline-label-padding);max-width:calc(100% - var(--_leading-space) - var(--_trailing-space));padding:0 var(--_outline-label-padding);position:relative}.no-label .outline-notch{display:none}.outline-panel-active,.outline-panel-inactive{border:inherit;border-bottom-style:solid;inset:0;position:absolute}.outline-panel-active::after,.outline-panel-active::before,.outline-panel-inactive::after,.outline-panel-inactive::before{border-top-style:solid;border-bottom:none;bottom:auto;transform:scaleX(1);transition:transform 150ms cubic-bezier(.2,0,0,1)}.outline-panel-active::before,.outline-panel-inactive::before{right:50%;transform-origin:top left}.outline-panel-active::after,.outline-panel-inactive::after{left:50%;transform-origin:top right}.focused .outline-panel-active::after,.focused .outline-panel-active::before,.focused .outline-panel-inactive::after,.focused .outline-panel-inactive::before,.populated .outline-panel-active::after,.populated .outline-panel-active::before,.populated .outline-panel-inactive::after,.populated .outline-panel-inactive::before{transform:scaleX(0)}.outline-panel-active{opacity:0;transition:opacity 150ms cubic-bezier(.2,0,0,1)}.focused .outline-panel-active{opacity:1}.outline-label{display:flex;max-width:100%;transform:translateY(calc(-100% + var(--_label-text-padding-bottom)))}.field:not(.with-start) .content ::slotted(*),.outline-start{padding-inline-start:max(var(--_leading-space),max(var(--_container-shape-start-start),var(--_container-shape-end-start)) + var(--_outline-label-padding))}.field:not(.with-start) .label-wrapper{margin-inline-start:max(var(--_leading-space),max(var(--_container-shape-start-start),var(--_container-shape-end-start)) + var(--_outline-label-padding))}.field:not(.with-end) .content ::slotted(*){padding-inline-end:max(var(--_trailing-space),max(var(--_container-shape-start-end),var(--_container-shape-end-end)))}.field:not(.with-end) .label-wrapper{margin-inline-end:max(var(--_trailing-space),max(var(--_container-shape-start-end),var(--_container-shape-end-end)))}.outline-end::before,.outline-panel-inactive,.outline-panel-inactive::after,.outline-panel-inactive::before,.outline-start::before{border-width:var(--_outline-width)}:hover .outline{border-color:var(--_hover-outline-color);color:var(--_hover-outline-color)}:hover .outline-end::before,:hover .outline-panel-inactive,:hover .outline-panel-inactive::after,:hover .outline-panel-inactive::before,:hover .outline-start::before{border-width:var(--_hover-outline-width)}.focused .outline{border-color:var(--_focus-outline-color);color:var(--_focus-outline-color)}.outline-end::after,.outline-panel-active,.outline-panel-active::after,.outline-panel-active::before,.outline-start::after{border-width:var(--_focus-outline-width)}.disabled .outline{border-color:var(--_disabled-outline-color);color:var(--_disabled-outline-color)}.disabled .outline-end,.disabled .outline-panel-inactive,.disabled .outline-start{opacity:var(--_disabled-outline-opacity)}.disabled .outline-end::before,.disabled .outline-panel-inactive,.disabled .outline-panel-inactive::after,.disabled .outline-panel-inactive::before,.disabled .outline-start::before{border-width:var(--_disabled-outline-width)}.error .outline{border-color:var(--_error-outline-color);color:var(--_error-outline-color)}.error:hover .outline{border-color:var(--_error-hover-outline-color);color:var(--_error-hover-outline-color)}.error.focused .outline{border-color:var(--_error-focus-outline-color);color:var(--_error-focus-outline-color)}.resizable .container{bottom:var(--_focus-outline-width);inset-inline-end:var(--_focus-outline-width);clip-path:inset(var(--_focus-outline-width) 0 0 var(--_focus-outline-width))}.resizable .container>*{top:var(--_focus-outline-width);inset-inline-start:var(--_focus-outline-width)}:host([dir=rtl]) .resizable .container,:host-context([dir=rtl]) .resizable .container{clip-path:inset(var(--_focus-outline-width) var(--_focus-outline-width) 0 0)}.resizable .container:dir(rtl){clip-path:inset(var(--_focus-outline-width) var(--_focus-outline-width) 0 0)}`
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */,Fd=h`:host{display:inline-flex;resize:both}.field{display:flex;flex:1;flex-direction:column;writing-mode:horizontal-tb;max-width:100%}.container-overflow{border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-end-radius:var(--_container-shape-end-end);border-end-start-radius:var(--_container-shape-end-start);display:flex;height:100%;position:relative}.container{align-items:center;border-radius:inherit;display:flex;flex:1;max-height:100%;min-height:100%;min-width:min-content;position:relative}.container-overflow,.field{resize:inherit}.resizable:not(.disabled) .container{resize:inherit;overflow:hidden}.disabled{pointer-events:none}.end,.middle,.start{display:flex;box-sizing:border-box;height:100%;position:relative}.start{color:var(--_leading-content-color)}.end{color:var(--_trailing-content-color)}.end,.start{align-items:center;justify-content:center}.with-end .end,.with-start .start{min-width:48px}.with-start .start{margin-inline-end:4px}.with-end .end{margin-inline-start:4px}.middle{align-items:stretch;align-self:baseline;flex:1}.content{color:var(--_content-color);display:flex;flex:1;opacity:0;transition:opacity 83ms cubic-bezier(.2,0,0,1)}.focused .content,.no-label .content,.populated .content{opacity:1;transition-delay:67ms}:is(.disabled,.disable-transitions) .content{transition:none}.content ::slotted(*){all:unset;color:currentColor;font-family:var(--_content-font);font-size:var(--_content-size);line-height:var(--_content-line-height);font-weight:var(--_content-weight);width:100%;white-space:pre-wrap}.content ::slotted(:not(textarea)){padding-top:var(--_top-space);padding-bottom:var(--_bottom-space)}.content ::slotted(textarea){margin-top:var(--_top-space);margin-bottom:var(--_bottom-space)}:hover .content{color:var(--_hover-content-color)}:hover .start{color:var(--_hover-leading-content-color)}:hover .end{color:var(--_hover-trailing-content-color)}.focused .content{color:var(--_focus-content-color)}.focused .start{color:var(--_focus-leading-content-color)}.focused .end{color:var(--_focus-trailing-content-color)}.disabled .content{color:var(--_disabled-content-color)}.disabled.focused .content,.disabled.no-label .content,.disabled.populated .content{opacity:var(--_disabled-content-opacity)}.disabled .start{color:var(--_disabled-leading-content-color);opacity:var(--_disabled-leading-content-opacity)}.disabled .end{color:var(--_disabled-trailing-content-color);opacity:var(--_disabled-trailing-content-opacity)}.error .content{color:var(--_error-content-color)}.error .start{color:var(--_error-leading-content-color)}.error .end{color:var(--_error-trailing-content-color)}.error:hover .content{color:var(--_error-hover-content-color)}.error:hover .start{color:var(--_error-hover-leading-content-color)}.error:hover .end{color:var(--_error-hover-trailing-content-color)}.error.focused .content{color:var(--_error-focus-content-color)}.error.focused .start{color:var(--_error-focus-leading-content-color)}.error.focused .end{color:var(--_error-focus-trailing-content-color)}.label{box-sizing:border-box;color:var(--_label-text-color);overflow:hidden;max-width:100%;text-overflow:ellipsis;white-space:nowrap;z-index:1;font-family:var(--_label-text-font);font-size:var(--_label-text-size);line-height:var(--_label-text-line-height);font-weight:var(--_label-text-weight);width:min-content}.label-wrapper{inset:0;pointer-events:none;position:absolute}.label.resting{position:absolute;top:var(--_top-space)}.label.floating{font-size:var(--_label-text-populated-size);line-height:var(--_label-text-populated-line-height);transform-origin:top left}.label.hidden{opacity:0}.no-label .label{display:none}.label-wrapper{inset:0;position:absolute;text-align:initial}:hover .label{color:var(--_hover-label-text-color)}.focused .label{color:var(--_focus-label-text-color)}.disabled .label{color:var(--_disabled-label-text-color)}.disabled .label:not(.hidden){opacity:var(--_disabled-label-text-opacity)}.error .label{color:var(--_error-label-text-color)}.error:hover .label{color:var(--_error-hover-label-text-color)}.error.focused .label{color:var(--_error-focus-label-text-color)}.supporting-text{color:var(--_supporting-text-color);display:flex;font-family:var(--_supporting-text-font);font-size:var(--_supporting-text-size);line-height:var(--_supporting-text-line-height);font-weight:var(--_supporting-text-weight);gap:16px;justify-content:space-between;padding-inline-start:var(--_supporting-text-leading-space);padding-inline-end:var(--_supporting-text-trailing-space);padding-top:var(--_supporting-text-top-space)}.supporting-text :nth-child(2){flex-shrink:0}:hover .supporting-text{color:var(--_hover-supporting-text-color)}.focus .supporting-text{color:var(--_focus-supporting-text-color)}.disabled .supporting-text{color:var(--_disabled-supporting-text-color);opacity:var(--_disabled-supporting-text-opacity)}.error .supporting-text{color:var(--_error-supporting-text-color)}.error:hover .supporting-text{color:var(--_error-hover-supporting-text-color)}.error.focus .supporting-text{color:var(--_error-focus-supporting-text-color)}`
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let Wd=class extends Zd{};
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
var Vd;Wd.styles=[Fd,$d],Wd=i([ft("md-outlined-field")],Wd);const Yd=Symbol("value");class Hd extends pt{constructor(){super(...arguments),this.quick=!1,this.required=!1,this.disabled=!1,this.errorText="",this.label="",this.supportingText="",this.error=!1,this.menuFixed=!1,this.typeaheadDelay=200,this.hasLeadingIcon=!1,this.displayText="",this.focused=!1,this.open=!1,this[Vd]="",this.lastUserSetValue=null,this.lastUserSetSelectedIndex=null,this.lastSelectedOption=null,this.lastSelectedOptionRecords=[]}get value(){return this[Yd]}set value(t){this.lastUserSetValue=t,this.select(t)}get options(){return this.menu?.items??[]}get selectedIndex(){const[t,e]=(this.getSelectedOptions()??[])[0]??[];return e??-1}set selectedIndex(t){this.lastUserSetSelectedIndex=t,this.selectIndex(t)}get selectedOptions(){return(this.getSelectedOptions()??[]).map((([t])=>t))}render(){return W` <span class="select ${Zi(this.getRenderClasses())}" @focusout="${this.handleFocusout}"> ${this.renderField()} ${this.renderMenu()} </span> `}getRenderClasses(){return{disabled:this.disabled,error:this.error,open:this.open}}renderField(){return pn`
      <${this.fieldTag}
          aria-haspopup="listbox"
          role="combobox"
          part="field"
          id="field"
          tabindex=${this.disabled?"-1":"0"}
          aria-expanded=${this.open?"true":"false"}
          class="field"
          label=${this.label}
          .focused=${this.focused||this.open}
          .populated=${!!this.displayText}
          .disabled=${this.disabled}
          .required=${this.required}
          .error=${this.error}
          ?has-start=${this.hasLeadingIcon}
          has-end
          supporting-text=${this.supportingText}
          error-text=${this.errorText}
          @keydown =${this.handleKeydown}
          @click=${this.handleClick}
          @focus=${this.handleFocus}
          @blur=${this.handleBlur}>
        ${this.renderFieldContent()}
      </${this.fieldTag}>`}renderFieldContent(){return[this.renderLeadingIcon(),this.renderLabel(),this.renderTrailingIcon()]}renderLeadingIcon(){return W` <span class="icon leading" slot="start"> <slot name="leadingicon" @slotchange="${this.handleIconChange}"></slot> </span> `}renderTrailingIcon(){return W` <span class="icon trailing" slot="end"> <slot name="trailingicon" @slotchange="${this.handleIconChange}"> <svg height="5" viewBox="7 10 10 5" focusable="false"> <polygon class="down" stroke="none" fill-rule="evenodd" points="7 10 12 15 17 10"></polygon> <polygon class="up" stroke="none" fill-rule="evenodd" points="7 15 12 10 17 15"></polygon> </svg> </slot> </span> `}renderLabel(){return W`<div id="label">${this.displayText||W`&nbsp;`}</div>`}renderMenu(){return W` <md-menu id="listbox" default-focus="NONE" listTabIndex="-1" type="listbox" stay-open-on-focusout part="menu" exportparts="focus-ring: menu-focus-ring" anchor="field" .open="${this.open}" .quick="${this.quick}" .fixed="${this.menuFixed}" .typeaheadDelay="${this.typeaheadDelay}" @opening="${this.handleOpening}" @opened="${this.redispatchEvent}" @closing="${this.redispatchEvent}" @closed="${this.redispatchEvent}" @close-menu="${this.handleCloseMenu}" @request-selection="${this.handleRequestSelection}" @request-deselection="${this.handleRequestDeselection}"> ${this.renderMenuContent()} </md-menu>`}renderMenuContent(){return W`<slot></slot>`}handleKeydown(t){if(this.open||this.disabled||!this.menu)return;const e=this.menu.typeaheadController,i="Space"===t.code||"ArrowDown"===t.code||"Enter"===t.code;if(!e.isTypingAhead&&i)return t.preventDefault(),void(this.open=!0);if(1===t.key.length){e.onKeydown(t),t.preventDefault();const{lastActiveRecord:i}=e;if(!i)return;this.labelEl?.setAttribute?.("aria-live","polite");this.selectItem(i[Ro])&&this.dispatchInteractionEvents()}}handleClick(){this.open=!0}handleFocus(){this.focused=!0}handleBlur(){this.focused=!1}handleFocusout(t){t.relatedTarget&&Do(t.relatedTarget,this)||(this.open=!1)}getSelectedOptions(){if(!this.menu)return this.lastSelectedOptionRecords=[],null;const t=this.menu.items;return this.lastSelectedOptionRecords=
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function(t){const e=[];for(let i=0;i<t.length;i++){const n=t[i];n.selected&&e.push([n,i])}return e}(t),this.lastSelectedOptionRecords}async getUpdateComplete(){return await(this.menu?.updateComplete),super.getUpdateComplete()}updateValueAndDisplayText(){const t=this.getSelectedOptions()??[];let e=!1;if(t.length){const[i]=t[0];e=this.lastSelectedOption!==i,this.lastSelectedOption=i,this[Yd]=i.value,this.displayText=i.headline}else e=null!==this.lastSelectedOption,this.lastSelectedOption=null,this[Yd]="",this.displayText="";return e}update(t){this.hasUpdated||this.initUserSelection(),super.update(t)}async firstUpdated(t){await(this.menu?.updateComplete),this.lastSelectedOptionRecords.length||this.initUserSelection(),super.firstUpdated(t)}async handleOpening(t){this.labelEl?.removeAttribute?.("aria-live"),this.redispatchEvent(t);const e=this.menu.items,i=xn.getActiveItem(e)?.item,[n]=this.lastSelectedOptionRecords[0]??[null];i&&i!==n&&(i.active=!1),n&&(n.active=!0,n.focus())}redispatchEvent(t){Xa(this,t)}handleCloseMenu(t){const e=t.detail.reason,i=t.detail.itemPath[0];this.open=!1;let n=!1;var r;"CLICK_SELECTION"===e.kind||"KEYDOWN"===e.kind&&(r=e.key,Object.values(Mo).some((t=>t===r)))?n=this.selectItem(i):(i.active=!1,i.blur()),n&&this.dispatchInteractionEvents()}selectItem(t){return this.lastSelectedOptionRecords.forEach((([e])=>{t!==e&&(e.selected=!1)})),t.selected=!0,this.updateValueAndDisplayText()}handleRequestSelection(t){const e=t.target;this.lastSelectedOptionRecords.some((([t])=>t===e))||this.selectItem(e)}handleRequestDeselection(t){const e=t.target;this.lastSelectedOptionRecords.some((([t])=>t===e))&&this.updateValueAndDisplayText()}select(t){const e=this.options.find((e=>e.value===t));e&&this.selectItem(e)}selectIndex(t){const e=this.options[t];e&&this.selectItem(e)}initUserSelection(){this.lastUserSetValue&&!this.lastSelectedOptionRecords.length?this.select(this.lastUserSetValue):null===this.lastUserSetSelectedIndex||this.lastSelectedOptionRecords.length?this.updateValueAndDisplayText():this.selectIndex(this.lastUserSetSelectedIndex)}handleIconChange(){this.hasLeadingIcon=this.leadingIcons.length>0}dispatchInteractionEvents(){this.dispatchEvent(new Event("input",{bubbles:!0,composed:!0})),this.dispatchEvent(new Event("change",{bubbles:!0}))}}Vd=Yd,i([vt({type:Boolean})],Hd.prototype,"quick",void 0),i([vt({type:Boolean})],Hd.prototype,"required",void 0),i([vt({type:Boolean,reflect:!0})],Hd.prototype,"disabled",void 0),i([vt({type:String,attribute:"error-text"})],Hd.prototype,"errorText",void 0),i([vt()],Hd.prototype,"label",void 0),i([vt({type:String,attribute:"supporting-text"})],Hd.prototype,"supportingText",void 0),i([vt({type:Boolean,reflect:!0})],Hd.prototype,"error",void 0),i([vt({type:Boolean,attribute:"menu-fixed"})],Hd.prototype,"menuFixed",void 0),i([vt({type:Number,attribute:"typeahead-delay"})],Hd.prototype,"typeaheadDelay",void 0),i([vt({type:Boolean,attribute:"has-leading-icon"})],Hd.prototype,"hasLeadingIcon",void 0),i([vt({attribute:"display-text"})],Hd.prototype,"displayText",void 0),i([bt()],Hd.prototype,"focused",void 0),i([bt()],Hd.prototype,"open",void 0),i([wt("md-menu")],Hd.prototype,"menu",void 0),i([wt("#label")],Hd.prototype,"labelEl",void 0),i([At({slot:"leadingicon",flatten:!0})],Hd.prototype,"leadingIcons",void 0),i([vt()],Hd.prototype,"value",null),i([vt({type:Number,attribute:"selected-index"})],Hd.prototype,"selectedIndex",null);
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class Xd extends Hd{constructor(){super(...arguments),this.fieldTag=un`md-outlined-field`}}
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */const Jd=h`:host{--_text-field-container-shape:var(--md-outlined-select-text-field-container-shape, 4px);--_text-field-disabled-input-text-color:var(--md-outlined-select-text-field-disabled-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_text-field-disabled-input-text-opacity:var(--md-outlined-select-text-field-disabled-input-text-opacity, 0.38);--_text-field-disabled-label-text-color:var(--md-outlined-select-text-field-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_text-field-disabled-label-text-opacity:var(--md-outlined-select-text-field-disabled-label-text-opacity, 0.38);--_text-field-disabled-leading-icon-color:var(--md-outlined-select-text-field-disabled-leading-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_text-field-disabled-leading-icon-opacity:var(--md-outlined-select-text-field-disabled-leading-icon-opacity, 0.38);--_text-field-disabled-outline-color:var(--md-outlined-select-text-field-disabled-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_text-field-disabled-outline-opacity:var(--md-outlined-select-text-field-disabled-outline-opacity, 0.12);--_text-field-disabled-outline-width:var(--md-outlined-select-text-field-disabled-outline-width, 1px);--_text-field-disabled-supporting-text-color:var(--md-outlined-select-text-field-disabled-supporting-text-color, var(--md-sys-color-on-surface, #1d1b20));--_text-field-disabled-supporting-text-opacity:var(--md-outlined-select-text-field-disabled-supporting-text-opacity, 0.38);--_text-field-disabled-trailing-icon-color:var(--md-outlined-select-text-field-disabled-trailing-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_text-field-disabled-trailing-icon-opacity:var(--md-outlined-select-text-field-disabled-trailing-icon-opacity, 0.38);--_text-field-error-focus-input-text-color:var(--md-outlined-select-text-field-error-focus-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_text-field-error-focus-label-text-color:var(--md-outlined-select-text-field-error-focus-label-text-color, var(--md-sys-color-error, #b3261e));--_text-field-error-focus-leading-icon-color:var(--md-outlined-select-text-field-error-focus-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_text-field-error-focus-outline-color:var(--md-outlined-select-text-field-error-focus-outline-color, var(--md-sys-color-error, #b3261e));--_text-field-error-focus-supporting-text-color:var(--md-outlined-select-text-field-error-focus-supporting-text-color, var(--md-sys-color-error, #b3261e));--_text-field-error-focus-trailing-icon-color:var(--md-outlined-select-text-field-error-focus-trailing-icon-color, var(--md-sys-color-error, #b3261e));--_text-field-error-hover-input-text-color:var(--md-outlined-select-text-field-error-hover-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_text-field-error-hover-label-text-color:var(--md-outlined-select-text-field-error-hover-label-text-color, var(--md-sys-color-on-error-container, #410e0b));--_text-field-error-hover-leading-icon-color:var(--md-outlined-select-text-field-error-hover-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_text-field-error-hover-outline-color:var(--md-outlined-select-text-field-error-hover-outline-color, var(--md-sys-color-on-error-container, #410e0b));--_text-field-error-hover-supporting-text-color:var(--md-outlined-select-text-field-error-hover-supporting-text-color, var(--md-sys-color-error, #b3261e));--_text-field-error-hover-trailing-icon-color:var(--md-outlined-select-text-field-error-hover-trailing-icon-color, var(--md-sys-color-on-error-container, #410e0b));--_text-field-error-input-text-color:var(--md-outlined-select-text-field-error-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_text-field-error-label-text-color:var(--md-outlined-select-text-field-error-label-text-color, var(--md-sys-color-error, #b3261e));--_text-field-error-leading-icon-color:var(--md-outlined-select-text-field-error-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_text-field-error-outline-color:var(--md-outlined-select-text-field-error-outline-color, var(--md-sys-color-error, #b3261e));--_text-field-error-supporting-text-color:var(--md-outlined-select-text-field-error-supporting-text-color, var(--md-sys-color-error, #b3261e));--_text-field-error-trailing-icon-color:var(--md-outlined-select-text-field-error-trailing-icon-color, var(--md-sys-color-error, #b3261e));--_text-field-focus-input-text-color:var(--md-outlined-select-text-field-focus-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_text-field-focus-label-text-color:var(--md-outlined-select-text-field-focus-label-text-color, var(--md-sys-color-primary, #6750a4));--_text-field-focus-leading-icon-color:var(--md-outlined-select-text-field-focus-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_text-field-focus-outline-color:var(--md-outlined-select-text-field-focus-outline-color, var(--md-sys-color-primary, #6750a4));--_text-field-focus-outline-width:var(--md-outlined-select-text-field-focus-outline-width, 3px);--_text-field-focus-supporting-text-color:var(--md-outlined-select-text-field-focus-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_text-field-focus-trailing-icon-color:var(--md-outlined-select-text-field-focus-trailing-icon-color, var(--md-sys-color-primary, #6750a4));--_text-field-hover-input-text-color:var(--md-outlined-select-text-field-hover-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_text-field-hover-label-text-color:var(--md-outlined-select-text-field-hover-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_text-field-hover-leading-icon-color:var(--md-outlined-select-text-field-hover-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_text-field-hover-outline-color:var(--md-outlined-select-text-field-hover-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_text-field-hover-outline-width:var(--md-outlined-select-text-field-hover-outline-width, 1px);--_text-field-hover-supporting-text-color:var(--md-outlined-select-text-field-hover-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_text-field-hover-trailing-icon-color:var(--md-outlined-select-text-field-hover-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_text-field-input-text-color:var(--md-outlined-select-text-field-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_text-field-input-text-font:var(--md-outlined-select-text-field-input-text-font, var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto)));--_text-field-input-text-line-height:var(--md-outlined-select-text-field-input-text-line-height, var(--md-sys-typescale-body-large-line-height, 1.5rem));--_text-field-input-text-size:var(--md-outlined-select-text-field-input-text-size, var(--md-sys-typescale-body-large-size, 1rem));--_text-field-input-text-weight:var(--md-outlined-select-text-field-input-text-weight, var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400)));--_text-field-label-text-color:var(--md-outlined-select-text-field-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_text-field-label-text-font:var(--md-outlined-select-text-field-label-text-font, var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto)));--_text-field-label-text-line-height:var(--md-outlined-select-text-field-label-text-line-height, var(--md-sys-typescale-body-large-line-height, 1.5rem));--_text-field-label-text-populated-line-height:var(--md-outlined-select-text-field-label-text-populated-line-height, var(--md-sys-typescale-body-small-line-height, 1rem));--_text-field-label-text-populated-size:var(--md-outlined-select-text-field-label-text-populated-size, var(--md-sys-typescale-body-small-size, 0.75rem));--_text-field-label-text-size:var(--md-outlined-select-text-field-label-text-size, var(--md-sys-typescale-body-large-size, 1rem));--_text-field-label-text-weight:var(--md-outlined-select-text-field-label-text-weight, var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400)));--_text-field-leading-icon-color:var(--md-outlined-select-text-field-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_text-field-leading-icon-size:var(--md-outlined-select-text-field-leading-icon-size, 24px);--_text-field-outline-color:var(--md-outlined-select-text-field-outline-color, var(--md-sys-color-outline, #79747e));--_text-field-outline-width:var(--md-outlined-select-text-field-outline-width, 1px);--_text-field-supporting-text-color:var(--md-outlined-select-text-field-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_text-field-supporting-text-font:var(--md-outlined-select-text-field-supporting-text-font, var(--md-sys-typescale-body-small-font, var(--md-ref-typeface-plain, Roboto)));--_text-field-supporting-text-line-height:var(--md-outlined-select-text-field-supporting-text-line-height, var(--md-sys-typescale-body-small-line-height, 1rem));--_text-field-supporting-text-size:var(--md-outlined-select-text-field-supporting-text-size, var(--md-sys-typescale-body-small-size, 0.75rem));--_text-field-supporting-text-weight:var(--md-outlined-select-text-field-supporting-text-weight, var(--md-sys-typescale-body-small-weight, var(--md-ref-typeface-weight-regular, 400)));--_text-field-trailing-icon-color:var(--md-outlined-select-text-field-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_text-field-trailing-icon-size:var(--md-outlined-select-text-field-trailing-icon-size, 24px);--_text-field-container-shape-start-start:var( --md-outlined-select-text-field-container-shape-start-start, var(--_text-field-container-shape) );--_text-field-container-shape-start-end:var( --md-outlined-select-text-field-container-shape-start-end, var(--_text-field-container-shape) );--_text-field-container-shape-end-end:var( --md-outlined-select-text-field-container-shape-end-end, var(--_text-field-container-shape) );--_text-field-container-shape-end-start:var( --md-outlined-select-text-field-container-shape-end-start, var(--_text-field-container-shape) );--md-outlined-field-container-shape-end-end:var(--_text-field-container-shape-end-end);--md-outlined-field-container-shape-end-start:var(--_text-field-container-shape-end-start);--md-outlined-field-container-shape-start-end:var(--_text-field-container-shape-start-end);--md-outlined-field-container-shape-start-start:var(--_text-field-container-shape-start-start);--md-outlined-field-content-color:var(--_text-field-input-text-color);--md-outlined-field-content-font:var(--_text-field-input-text-font);--md-outlined-field-content-line-height:var(--_text-field-input-text-line-height);--md-outlined-field-content-size:var(--_text-field-input-text-size);--md-outlined-field-content-weight:var(--_text-field-input-text-weight);--md-outlined-field-disabled-content-color:var(--_text-field-disabled-input-text-color);--md-outlined-field-disabled-content-opacity:var(--_text-field-disabled-input-text-opacity);--md-outlined-field-disabled-label-text-color:var(--_text-field-disabled-label-text-color);--md-outlined-field-disabled-label-text-opacity:var(--_text-field-disabled-label-text-opacity);--md-outlined-field-disabled-leading-content-color:var(--_text-field-disabled-leading-icon-color);--md-outlined-field-disabled-leading-content-opacity:var(--_text-field-disabled-leading-icon-opacity);--md-outlined-field-disabled-outline-color:var(--_text-field-disabled-outline-color);--md-outlined-field-disabled-outline-opacity:var(--_text-field-disabled-outline-opacity);--md-outlined-field-disabled-outline-width:var(--_text-field-disabled-outline-width);--md-outlined-field-disabled-supporting-text-color:var(--_text-field-disabled-supporting-text-color);--md-outlined-field-disabled-supporting-text-opacity:var(--_text-field-disabled-supporting-text-opacity);--md-outlined-field-disabled-trailing-content-color:var(--_text-field-disabled-trailing-icon-color);--md-outlined-field-disabled-trailing-content-opacity:var(--_text-field-disabled-trailing-icon-opacity);--md-outlined-field-error-content-color:var(--_text-field-error-input-text-color);--md-outlined-field-error-focus-content-color:var(--_text-field-error-focus-input-text-color);--md-outlined-field-error-focus-label-text-color:var(--_text-field-error-focus-label-text-color);--md-outlined-field-error-focus-leading-content-color:var(--_text-field-error-focus-leading-icon-color);--md-outlined-field-error-focus-outline-color:var(--_text-field-error-focus-outline-color);--md-outlined-field-error-focus-supporting-text-color:var(--_text-field-error-focus-supporting-text-color);--md-outlined-field-error-focus-trailing-content-color:var(--_text-field-error-focus-trailing-icon-color);--md-outlined-field-error-hover-content-color:var(--_text-field-error-hover-input-text-color);--md-outlined-field-error-hover-label-text-color:var(--_text-field-error-hover-label-text-color);--md-outlined-field-error-hover-leading-content-color:var(--_text-field-error-hover-leading-icon-color);--md-outlined-field-error-hover-outline-color:var(--_text-field-error-hover-outline-color);--md-outlined-field-error-hover-supporting-text-color:var(--_text-field-error-hover-supporting-text-color);--md-outlined-field-error-hover-trailing-content-color:var(--_text-field-error-hover-trailing-icon-color);--md-outlined-field-error-label-text-color:var(--_text-field-error-label-text-color);--md-outlined-field-error-leading-content-color:var(--_text-field-error-leading-icon-color);--md-outlined-field-error-outline-color:var(--_text-field-error-outline-color);--md-outlined-field-error-supporting-text-color:var(--_text-field-error-supporting-text-color);--md-outlined-field-error-trailing-content-color:var(--_text-field-error-trailing-icon-color);--md-outlined-field-focus-content-color:var(--_text-field-focus-input-text-color);--md-outlined-field-focus-label-text-color:var(--_text-field-focus-label-text-color);--md-outlined-field-focus-leading-content-color:var(--_text-field-focus-leading-icon-color);--md-outlined-field-focus-outline-color:var(--_text-field-focus-outline-color);--md-outlined-field-focus-outline-width:var(--_text-field-focus-outline-width);--md-outlined-field-focus-supporting-text-color:var(--_text-field-focus-supporting-text-color);--md-outlined-field-focus-trailing-content-color:var(--_text-field-focus-trailing-icon-color);--md-outlined-field-hover-content-color:var(--_text-field-hover-input-text-color);--md-outlined-field-hover-label-text-color:var(--_text-field-hover-label-text-color);--md-outlined-field-hover-leading-content-color:var(--_text-field-hover-leading-icon-color);--md-outlined-field-hover-outline-color:var(--_text-field-hover-outline-color);--md-outlined-field-hover-outline-width:var(--_text-field-hover-outline-width);--md-outlined-field-hover-supporting-text-color:var(--_text-field-hover-supporting-text-color);--md-outlined-field-hover-trailing-content-color:var(--_text-field-hover-trailing-icon-color);--md-outlined-field-label-text-color:var(--_text-field-label-text-color);--md-outlined-field-label-text-font:var(--_text-field-label-text-font);--md-outlined-field-label-text-line-height:var(--_text-field-label-text-line-height);--md-outlined-field-label-text-populated-line-height:var(--_text-field-label-text-populated-line-height);--md-outlined-field-label-text-populated-size:var(--_text-field-label-text-populated-size);--md-outlined-field-label-text-size:var(--_text-field-label-text-size);--md-outlined-field-label-text-weight:var(--_text-field-label-text-weight);--md-outlined-field-leading-content-color:var(--_text-field-leading-icon-color);--md-outlined-field-outline-color:var(--_text-field-outline-color);--md-outlined-field-outline-width:var(--_text-field-outline-width);--md-outlined-field-supporting-text-color:var(--_text-field-supporting-text-color);--md-outlined-field-supporting-text-font:var(--_text-field-supporting-text-font);--md-outlined-field-supporting-text-line-height:var(--_text-field-supporting-text-line-height);--md-outlined-field-supporting-text-size:var(--_text-field-supporting-text-size);--md-outlined-field-supporting-text-weight:var(--_text-field-supporting-text-weight);--md-outlined-field-trailing-content-color:var(--_text-field-trailing-icon-color)}[has-start] .icon.leading{font-size:var(--_text-field-leading-icon-size);height:var(--_text-field-leading-icon-size);width:var(--_text-field-leading-icon-size)}.icon.trailing{font-size:var(--_text-field-trailing-icon-size);height:var(--_text-field-trailing-icon-size);width:var(--_text-field-trailing-icon-size)}`
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */,Qd=h`:host{color:unset;min-width:210px}.field{cursor:default;outline:0}.select{position:relative}.icon ::slotted(*),.icon.trailing svg{fill:currentColor}.icon ::slotted(*){width:inherit;height:inherit;font-size:inherit}.icon slot{display:flex;height:100%;width:100%;align-items:center;justify-content:center}.icon.trailing :is(.up,.down){opacity:0;transition:opacity 75ms linear 75ms}.select.open .up,.select:not(.open) .down{opacity:1}.field,.select,md-menu{min-width:inherit;width:inherit;max-width:inherit}.field,.select{width:100%}:host{display:inline-flex}:host([disabled]){pointer-events:none}`
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let Kd=class extends Xd{};Kd.styles=[Qd,Jd,Bd],Kd=i([ft("md-outlined-select")],Kd);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const qd=h`@media(forced-colors:active){.list-item{position:relative}:host([selected]) .list-item:not(.has-focus-ring)::before{content:"";position:absolute;inset:0;box-sizing:border-box;border-radius:inherit;pointer-events:none;border:3px double CanvasText}}`
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */,tu=h`:host{--_container-color:var(--md-menu-item-container-color, var(--md-sys-color-surface-container, #f3edf7));--_selected-container-color:var(--md-menu-item-selected-container-color, var(--md-sys-color-surface-container-highest, #e6e0e9));--md-list-item-container-color:var(--_container-color)}:host([selected]) .list-item{background-color:var(--_selected-container-color)}.submenu-hover{--md-ripple-hover-opacity:0}`
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;class eu extends gn{constructor(){super(...arguments),this.isMenuItem=!0,this.keepOpen=!1,this.hasFocusRing=!1,this.keepOpenOnClick=!1,this.type="menuitem"}onClick(){this.keepOpen||this.keepOpenOnClick||this.dispatchEvent(Po(this,{kind:No}))}getRenderClasses(){return{...super.getRenderClasses(),"has-focus-ring":this.hasFocusRing}}onFocusRingVisibilityChanged(t){const e=t.target;this.hasFocusRing=e.visible}onKeydown(t){if(this.keepOpen||t.defaultPrevented)return;const e=t.code;!t.defaultPrevented&&Eo(e)&&(t.preventDefault(),this.dispatchEvent(Po(this,{kind:Lo,key:e})))}}i([vt({type:Boolean,attribute:"md-menu-item",reflect:!0})],eu.prototype,"isMenuItem",void 0),i([vt({type:Boolean,attribute:"keep-open"})],eu.prototype,"keepOpen",void 0),i([bt()],eu.prototype,"hasFocusRing",void 0);
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class iu extends eu{constructor(){super(...arguments),this.value="",this.selected=!1,this.type="option"}willUpdate(t){t.has("selected")&&(this.active=this.selected,this.ariaSelected=this.selected?"true":"false",this.focusOnActivation=!1),super.willUpdate(t)}updated(t){super.updated(t),this.focusOnActivation=!0,t.has("selected")&&void 0!==t.get("selected")&&(this.selected?this.dispatchEvent(new Event("request-selection",{bubbles:!0,composed:!0})):this.dispatchEvent(new Event("request-deselection",{bubbles:!0,composed:!0})))}}i([vt()],iu.prototype,"value",void 0),i([vt({type:Boolean,reflect:!0})],iu.prototype,"selected",void 0);
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
let nu=class extends iu{};nu.styles=[mn,tu,ln,qd],nu=i([ft("md-select-option")],nu);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const ru=h`:host{--_container-color:var(--md-filled-icon-button-container-color, var(--md-sys-color-primary, #6750a4));--_container-shape:var(--md-filled-icon-button-container-shape, 9999px);--_container-size:var(--md-filled-icon-button-container-size, 40px);--_disabled-container-color:var(--md-filled-icon-button-disabled-container-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-container-opacity:var(--md-filled-icon-button-disabled-container-opacity, 0.12);--_disabled-icon-color:var(--md-filled-icon-button-disabled-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-icon-opacity:var(--md-filled-icon-button-disabled-icon-opacity, 0.38);--_focus-icon-color:var(--md-filled-icon-button-focus-icon-color, var(--md-sys-color-on-primary, #fff));--_hover-icon-color:var(--md-filled-icon-button-hover-icon-color, var(--md-sys-color-on-primary, #fff));--_hover-state-layer-color:var(--md-filled-icon-button-hover-state-layer-color, var(--md-sys-color-on-primary, #fff));--_hover-state-layer-opacity:var(--md-filled-icon-button-hover-state-layer-opacity, 0.08);--_icon-color:var(--md-filled-icon-button-icon-color, var(--md-sys-color-on-primary, #fff));--_icon-size:var(--md-filled-icon-button-icon-size, 24px);--_pressed-icon-color:var(--md-filled-icon-button-pressed-icon-color, var(--md-sys-color-on-primary, #fff));--_pressed-state-layer-color:var(--md-filled-icon-button-pressed-state-layer-color, var(--md-sys-color-on-primary, #fff));--_pressed-state-layer-opacity:var(--md-filled-icon-button-pressed-state-layer-opacity, 0.12);--_selected-container-color:var(--md-filled-icon-button-selected-container-color, var(--md-sys-color-primary, #6750a4));--_toggle-selected-focus-icon-color:var(--md-filled-icon-button-toggle-selected-focus-icon-color, var(--md-sys-color-on-primary, #fff));--_toggle-selected-hover-icon-color:var(--md-filled-icon-button-toggle-selected-hover-icon-color, var(--md-sys-color-on-primary, #fff));--_toggle-selected-hover-state-layer-color:var(--md-filled-icon-button-toggle-selected-hover-state-layer-color, var(--md-sys-color-on-primary, #fff));--_toggle-selected-icon-color:var(--md-filled-icon-button-toggle-selected-icon-color, var(--md-sys-color-on-primary, #fff));--_toggle-selected-pressed-icon-color:var(--md-filled-icon-button-toggle-selected-pressed-icon-color, var(--md-sys-color-on-primary, #fff));--_toggle-selected-pressed-state-layer-color:var(--md-filled-icon-button-toggle-selected-pressed-state-layer-color, var(--md-sys-color-on-primary, #fff));--_unselected-container-color:var(--md-filled-icon-button-unselected-container-color, var(--md-sys-color-surface-container-highest, #e6e0e9));--_toggle-focus-icon-color:var(--md-filled-icon-button-toggle-focus-icon-color, var(--md-sys-color-primary, #6750a4));--_toggle-hover-icon-color:var(--md-filled-icon-button-toggle-hover-icon-color, var(--md-sys-color-primary, #6750a4));--_toggle-hover-state-layer-color:var(--md-filled-icon-button-toggle-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--_toggle-icon-color:var(--md-filled-icon-button-toggle-icon-color, var(--md-sys-color-primary, #6750a4));--_toggle-pressed-icon-color:var(--md-filled-icon-button-toggle-pressed-icon-color, var(--md-sys-color-primary, #6750a4));--_toggle-pressed-state-layer-color:var(--md-filled-icon-button-toggle-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--_container-shape-start-start:var( --md-filled-icon-button-container-shape-start-start, var(--_container-shape) );--_container-shape-start-end:var( --md-filled-icon-button-container-shape-start-end, var(--_container-shape) );--_container-shape-end-end:var( --md-filled-icon-button-container-shape-end-end, var(--_container-shape) );--_container-shape-end-start:var( --md-filled-icon-button-container-shape-end-start, var(--_container-shape) )}.icon-button{color:var(--_icon-color);--md-ripple-hover-color:var(--_hover-state-layer-color);--md-ripple-hover-opacity:var(--_hover-state-layer-opacity);--md-ripple-pressed-color:var(--_pressed-state-layer-color);--md-ripple-pressed-opacity:var(--_pressed-state-layer-opacity)}.icon-button:hover{color:var(--_hover-icon-color)}.icon-button:focus{color:var(--_focus-icon-color)}.icon-button:active{color:var(--_pressed-icon-color)}.icon-button:disabled{color:var(--_disabled-icon-color)}.icon-button::before{background-color:var(--_container-color);border-radius:inherit;content:"";inset:0;position:absolute;z-index:-1}.icon-button:disabled::before{background-color:var(--_disabled-container-color);opacity:var(--_disabled-container-opacity)}.icon-button:disabled .icon{opacity:var(--_disabled-icon-opacity)}.toggle-filled{--md-ripple-hover-color:var(--_toggle-hover-state-layer-color);--md-ripple-pressed-color:var(--_toggle-pressed-state-layer-color)}.toggle-filled:not(:disabled){color:var(--_toggle-icon-color)}.toggle-filled:not(:disabled):hover{color:var(--_toggle-hover-icon-color)}.toggle-filled:not(:disabled):focus{color:var(--_toggle-focus-icon-color)}.toggle-filled:not(:disabled):active{color:var(--_toggle-pressed-icon-color)}.toggle-filled:not(:disabled)::before{background-color:var(--_unselected-container-color)}.selected{--md-ripple-hover-color:var(--_toggle-selected-hover-state-layer-color);--md-ripple-pressed-color:var(--_toggle-selected-pressed-state-layer-color)}.selected:not(:disabled){color:var(--_toggle-selected-icon-color)}.selected:not(:disabled):hover{color:var(--_toggle-selected-hover-icon-color)}.selected:not(:disabled):focus{color:var(--_toggle-selected-focus-icon-color)}.selected:not(:disabled):active{color:var(--_toggle-selected-pressed-icon-color)}.selected:not(:disabled)::before{background-color:var(--_selected-container-color)}`
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let ou=class extends Pn{getRenderClasses(){return{...super.getRenderClasses(),filled:!0,"toggle-filled":this.toggle}}};ou.styles=[Mn,ru],ou=i([ft("md-filled-icon-button")],ou);
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class au extends Nd{constructor(){super(...arguments),this.avatar=!1,this.href="",this.target="",this.removeOnly=!1,this.selected=!1}get primaryId(){return this.href?"link":this.removeOnly?"":"button"}get rippleDisabled(){return!this.href&&this.disabled}get primaryAction(){return this.removeOnly?null:this.renderRoot.querySelector(".primary.action")}renderContainer(t){return function(t,e){return W` <div class="container ${Zi(e)}" role="row">${t}</div> `}(t,this.getContainerClasses())}getContainerClasses(){return{...super.getContainerClasses(),avatar:this.avatar,disabled:!this.href&&this.disabled,link:!!this.href,selected:this.selected,"has-trailing":!0}}renderPrimaryAction(t){const{ariaLabel:e}=this;return this.href?Sd(W` <a class="primary action" id="link" aria-label="${e||H}" href="${this.href}" target="${this.target||H}">${t}</a> `):this.removeOnly?Sd(W` <span class="primary action" aria-label="${e||H}"> ${t} </span> `):Sd(W` <button class="primary action" id="button" aria-label="${e||H}" ?disabled="${this.disabled}" type="button">${t}</button> `)}renderTrailingAction(){return Sd(Ld({ariaLabel:this.ariaLabelRemove,disabled:!this.href&&this.disabled,tabbable:this.removeOnly}))}}i([vt({type:Boolean})],au.prototype,"avatar",void 0),i([vt()],au.prototype,"href",void 0),i([vt()],au.prototype,"target",void 0),i([vt({type:Boolean,attribute:"remove-only"})],au.prototype,"removeOnly",void 0),i([vt({type:Boolean,reflect:!0})],au.prototype,"selected",void 0),i([wt(".trailing.action")],au.prototype,"trailingAction",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const su=h`:host{--_container-height:var(--md-input-chip-container-height, 32px);--_container-shape:var(--md-input-chip-container-shape, 8px);--_disabled-label-text-color:var(--md-input-chip-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity:var(--md-input-chip-disabled-label-text-opacity, 0.38);--_disabled-selected-container-color:var(--md-input-chip-disabled-selected-container-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-selected-container-opacity:var(--md-input-chip-disabled-selected-container-opacity, 0.12);--_label-text-font:var(--md-input-chip-label-text-font, var(--md-sys-typescale-label-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height:var(--md-input-chip-label-text-line-height, var(--md-sys-typescale-label-large-line-height, 1.25rem));--_label-text-size:var(--md-input-chip-label-text-size, var(--md-sys-typescale-label-large-size, 0.875rem));--_label-text-weight:var(--md-input-chip-label-text-weight, var(--md-sys-typescale-label-large-weight, var(--md-ref-typeface-weight-medium, 500)));--_selected-container-color:var(--md-input-chip-selected-container-color, var(--md-sys-color-secondary-container, #e8def8));--_selected-focus-label-text-color:var(--md-input-chip-selected-focus-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-label-text-color:var(--md-input-chip-selected-hover-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-state-layer-color:var(--md-input-chip-selected-hover-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-state-layer-opacity:var(--md-input-chip-selected-hover-state-layer-opacity, 0.08);--_selected-label-text-color:var(--md-input-chip-selected-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-outline-width:var(--md-input-chip-selected-outline-width, 0px);--_selected-pressed-label-text-color:var(--md-input-chip-selected-pressed-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-pressed-state-layer-color:var(--md-input-chip-selected-pressed-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-pressed-state-layer-opacity:var(--md-input-chip-selected-pressed-state-layer-opacity, 0.12);--_disabled-outline-color:var(--md-input-chip-disabled-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-outline-opacity:var(--md-input-chip-disabled-outline-opacity, 0.12);--_focus-label-text-color:var(--md-input-chip-focus-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_focus-outline-color:var(--md-input-chip-focus-outline-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-label-text-color:var(--md-input-chip-hover-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-color:var(--md-input-chip-hover-state-layer-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-opacity:var(--md-input-chip-hover-state-layer-opacity, 0.08);--_label-text-color:var(--md-input-chip-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_outline-color:var(--md-input-chip-outline-color, var(--md-sys-color-outline, #79747e));--_outline-width:var(--md-input-chip-outline-width, 1px);--_pressed-label-text-color:var(--md-input-chip-pressed-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-state-layer-color:var(--md-input-chip-pressed-state-layer-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-state-layer-opacity:var(--md-input-chip-pressed-state-layer-opacity, 0.12);--_avatar-shape:var(--md-input-chip-avatar-shape, 9999px);--_avatar-size:var(--md-input-chip-avatar-size, 24px);--_disabled-avatar-opacity:var(--md-input-chip-disabled-avatar-opacity, 0.38);--_disabled-leading-icon-color:var(--md-input-chip-disabled-leading-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-leading-icon-opacity:var(--md-input-chip-disabled-leading-icon-opacity, 0.38);--_icon-size:var(--md-input-chip-icon-size, 18px);--_selected-focus-leading-icon-color:var(--md-input-chip-selected-focus-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-hover-leading-icon-color:var(--md-input-chip-selected-hover-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-leading-icon-color:var(--md-input-chip-selected-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-pressed-leading-icon-color:var(--md-input-chip-selected-pressed-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_focus-leading-icon-color:var(--md-input-chip-focus-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_hover-leading-icon-color:var(--md-input-chip-hover-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_leading-icon-color:var(--md-input-chip-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_pressed-leading-icon-color:var(--md-input-chip-pressed-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_disabled-trailing-icon-color:var(--md-input-chip-disabled-trailing-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-trailing-icon-opacity:var(--md-input-chip-disabled-trailing-icon-opacity, 0.38);--_selected-focus-trailing-icon-color:var(--md-input-chip-selected-focus-trailing-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-trailing-icon-color:var(--md-input-chip-selected-hover-trailing-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-pressed-trailing-icon-color:var(--md-input-chip-selected-pressed-trailing-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-trailing-icon-color:var(--md-input-chip-selected-trailing-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_focus-trailing-icon-color:var(--md-input-chip-focus-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-trailing-icon-color:var(--md-input-chip-hover-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-trailing-icon-color:var(--md-input-chip-pressed-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_trailing-icon-color:var(--md-input-chip-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_container-shape-start-start:var( --md-input-chip-container-shape-start-start, var(--_container-shape) );--_container-shape-start-end:var( --md-input-chip-container-shape-start-end, var(--_container-shape) );--_container-shape-end-end:var( --md-input-chip-container-shape-end-end, var(--_container-shape) );--_container-shape-end-start:var( --md-input-chip-container-shape-end-start, var(--_container-shape) )}:host([avatar]){--_container-shape-start-start:var( --md-input-chip-container-shape-start-start, var(--md-input-chip-container-shape, calc(var(--_container-height) / 2)) );--_container-shape-start-end:var( --md-input-chip-container-shape-start-end, var(--md-input-chip-container-shape, calc(var(--_container-height) / 2)) );--_container-shape-end-end:var( --md-input-chip-container-shape-end-end, var(--md-input-chip-container-shape, calc(var(--_container-height) / 2)) );--_container-shape-end-start:var( --md-input-chip-container-shape-end-start, var(--md-input-chip-container-shape, calc(var(--_container-height) / 2)) )}.avatar .primary.action{padding-inline-start:4px}.avatar .leading.icon ::slotted(:first-child){border-radius:var(--_avatar-shape);height:var(--_avatar-size);width:var(--_avatar-size)}.disabled.avatar .leading.icon{opacity:var(--_disabled-avatar-opacity)}@media(forced-colors:active){.link .outline{border-color:ActiveText}.disabled.avatar .leading.icon{opacity:1}}`
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let lu=class extends au{};lu.styles=[jd,Rd,zd,su],lu=i([ft("md-input-chip")],lu);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const cu=h`@media(forced-colors:active){:host{--md-outlined-text-field-disabled-input-text-color:GrayText;--md-outlined-text-field-disabled-input-text-opacity:1;--md-outlined-text-field-disabled-label-text-color:GrayText;--md-outlined-text-field-disabled-label-text-opacity:1;--md-outlined-text-field-disabled-leading-icon-color:GrayText;--md-outlined-text-field-disabled-leading-icon-opacity:1;--md-outlined-text-field-disabled-outline-color:GrayText;--md-outlined-text-field-disabled-outline-opacity:1;--md-outlined-text-field-disabled-supporting-text-color:GrayText;--md-outlined-text-field-disabled-supporting-text-opacity:1;--md-outlined-text-field-disabled-trailing-icon-color:GrayText;--md-outlined-text-field-disabled-trailing-icon-opacity:1}}`
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */,du=h`:host{--_leading-space:var(--md-outlined-text-field-leading-space, 16px);--_trailing-space:var(--md-outlined-text-field-trailing-space, 16px);--_top-space:var(--md-outlined-text-field-top-space, 16px);--_bottom-space:var(--md-outlined-text-field-bottom-space, 16px);--_input-text-prefix-trailing-space:var(--md-outlined-text-field-input-text-prefix-trailing-space, 2px);--_input-text-suffix-leading-space:var(--md-outlined-text-field-input-text-suffix-leading-space, 2px);--_focus-caret-color:var(--md-outlined-text-field-focus-caret-color, var(--md-sys-color-primary, #6750a4));--_caret-color:var(--md-outlined-text-field-caret-color, var(--md-sys-color-primary, #6750a4));--_container-shape:var(--md-outlined-text-field-container-shape, 4px);--_disabled-input-text-color:var(--md-outlined-text-field-disabled-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-input-text-opacity:var(--md-outlined-text-field-disabled-input-text-opacity, 0.38);--_disabled-label-text-color:var(--md-outlined-text-field-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity:var(--md-outlined-text-field-disabled-label-text-opacity, 0.38);--_disabled-leading-icon-color:var(--md-outlined-text-field-disabled-leading-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-leading-icon-opacity:var(--md-outlined-text-field-disabled-leading-icon-opacity, 0.38);--_disabled-outline-color:var(--md-outlined-text-field-disabled-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-outline-opacity:var(--md-outlined-text-field-disabled-outline-opacity, 0.12);--_disabled-outline-width:var(--md-outlined-text-field-disabled-outline-width, 1px);--_disabled-supporting-text-color:var(--md-outlined-text-field-disabled-supporting-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-supporting-text-opacity:var(--md-outlined-text-field-disabled-supporting-text-opacity, 0.38);--_disabled-trailing-icon-color:var(--md-outlined-text-field-disabled-trailing-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-trailing-icon-opacity:var(--md-outlined-text-field-disabled-trailing-icon-opacity, 0.38);--_error-focus-caret-color:var(--md-outlined-text-field-error-focus-caret-color, var(--md-sys-color-error, #b3261e));--_error-focus-input-text-color:var(--md-outlined-text-field-error-focus-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_error-focus-label-text-color:var(--md-outlined-text-field-error-focus-label-text-color, var(--md-sys-color-error, #b3261e));--_error-focus-leading-icon-color:var(--md-outlined-text-field-error-focus-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-focus-outline-color:var(--md-outlined-text-field-error-focus-outline-color, var(--md-sys-color-error, #b3261e));--_error-focus-supporting-text-color:var(--md-outlined-text-field-error-focus-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-focus-trailing-icon-color:var(--md-outlined-text-field-error-focus-trailing-icon-color, var(--md-sys-color-error, #b3261e));--_error-hover-input-text-color:var(--md-outlined-text-field-error-hover-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_error-hover-label-text-color:var(--md-outlined-text-field-error-hover-label-text-color, var(--md-sys-color-on-error-container, #410e0b));--_error-hover-leading-icon-color:var(--md-outlined-text-field-error-hover-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-hover-outline-color:var(--md-outlined-text-field-error-hover-outline-color, var(--md-sys-color-on-error-container, #410e0b));--_error-hover-supporting-text-color:var(--md-outlined-text-field-error-hover-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-hover-trailing-icon-color:var(--md-outlined-text-field-error-hover-trailing-icon-color, var(--md-sys-color-on-error-container, #410e0b));--_error-input-text-color:var(--md-outlined-text-field-error-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_error-label-text-color:var(--md-outlined-text-field-error-label-text-color, var(--md-sys-color-error, #b3261e));--_error-leading-icon-color:var(--md-outlined-text-field-error-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-outline-color:var(--md-outlined-text-field-error-outline-color, var(--md-sys-color-error, #b3261e));--_error-supporting-text-color:var(--md-outlined-text-field-error-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-trailing-icon-color:var(--md-outlined-text-field-error-trailing-icon-color, var(--md-sys-color-error, #b3261e));--_focus-input-text-color:var(--md-outlined-text-field-focus-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_focus-label-text-color:var(--md-outlined-text-field-focus-label-text-color, var(--md-sys-color-primary, #6750a4));--_focus-leading-icon-color:var(--md-outlined-text-field-focus-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_focus-outline-color:var(--md-outlined-text-field-focus-outline-color, var(--md-sys-color-primary, #6750a4));--_focus-outline-width:var(--md-outlined-text-field-focus-outline-width, 3px);--_focus-supporting-text-color:var(--md-outlined-text-field-focus-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_focus-trailing-icon-color:var(--md-outlined-text-field-focus-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-input-text-color:var(--md-outlined-text-field-hover-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-label-text-color:var(--md-outlined-text-field-hover-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-leading-icon-color:var(--md-outlined-text-field-hover-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-outline-color:var(--md-outlined-text-field-hover-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-outline-width:var(--md-outlined-text-field-hover-outline-width, 1px);--_hover-supporting-text-color:var(--md-outlined-text-field-hover-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-trailing-icon-color:var(--md-outlined-text-field-hover-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_input-text-color:var(--md-outlined-text-field-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_input-text-font:var(--md-outlined-text-field-input-text-font, var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto)));--_input-text-line-height:var(--md-outlined-text-field-input-text-line-height, var(--md-sys-typescale-body-large-line-height, 1.5rem));--_input-text-placeholder-color:var(--md-outlined-text-field-input-text-placeholder-color, var(--md-sys-color-on-surface-variant, #49454f));--_input-text-prefix-color:var(--md-outlined-text-field-input-text-prefix-color, var(--md-sys-color-on-surface-variant, #49454f));--_input-text-size:var(--md-outlined-text-field-input-text-size, var(--md-sys-typescale-body-large-size, 1rem));--_input-text-suffix-color:var(--md-outlined-text-field-input-text-suffix-color, var(--md-sys-color-on-surface-variant, #49454f));--_input-text-weight:var(--md-outlined-text-field-input-text-weight, var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400)));--_label-text-color:var(--md-outlined-text-field-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_label-text-font:var(--md-outlined-text-field-label-text-font, var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height:var(--md-outlined-text-field-label-text-line-height, var(--md-sys-typescale-body-large-line-height, 1.5rem));--_label-text-populated-line-height:var(--md-outlined-text-field-label-text-populated-line-height, var(--md-sys-typescale-body-small-line-height, 1rem));--_label-text-populated-size:var(--md-outlined-text-field-label-text-populated-size, var(--md-sys-typescale-body-small-size, 0.75rem));--_label-text-size:var(--md-outlined-text-field-label-text-size, var(--md-sys-typescale-body-large-size, 1rem));--_label-text-weight:var(--md-outlined-text-field-label-text-weight, var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400)));--_leading-icon-color:var(--md-outlined-text-field-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_leading-icon-size:var(--md-outlined-text-field-leading-icon-size, 24px);--_outline-color:var(--md-outlined-text-field-outline-color, var(--md-sys-color-outline, #79747e));--_outline-width:var(--md-outlined-text-field-outline-width, 1px);--_supporting-text-color:var(--md-outlined-text-field-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_supporting-text-font:var(--md-outlined-text-field-supporting-text-font, var(--md-sys-typescale-body-small-font, var(--md-ref-typeface-plain, Roboto)));--_supporting-text-line-height:var(--md-outlined-text-field-supporting-text-line-height, var(--md-sys-typescale-body-small-line-height, 1rem));--_supporting-text-size:var(--md-outlined-text-field-supporting-text-size, var(--md-sys-typescale-body-small-size, 0.75rem));--_supporting-text-weight:var(--md-outlined-text-field-supporting-text-weight, var(--md-sys-typescale-body-small-weight, var(--md-ref-typeface-weight-regular, 400)));--_trailing-icon-color:var(--md-outlined-text-field-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_trailing-icon-size:var(--md-outlined-text-field-trailing-icon-size, 24px);--_container-shape-start-start:var( --md-outlined-text-field-container-shape-start-start, var(--_container-shape) );--_container-shape-start-end:var( --md-outlined-text-field-container-shape-start-end, var(--_container-shape) );--_container-shape-end-end:var( --md-outlined-text-field-container-shape-end-end, var(--_container-shape) );--_container-shape-end-start:var( --md-outlined-text-field-container-shape-end-start, var(--_container-shape) );--md-outlined-field-bottom-space:var(--_bottom-space);--md-outlined-field-container-shape-end-end:var(--_container-shape-end-end);--md-outlined-field-container-shape-end-start:var(--_container-shape-end-start);--md-outlined-field-container-shape-start-end:var(--_container-shape-start-end);--md-outlined-field-container-shape-start-start:var(--_container-shape-start-start);--md-outlined-field-content-color:var(--_input-text-color);--md-outlined-field-content-font:var(--_input-text-font);--md-outlined-field-content-line-height:var(--_input-text-line-height);--md-outlined-field-content-size:var(--_input-text-size);--md-outlined-field-content-weight:var(--_input-text-weight);--md-outlined-field-disabled-content-color:var(--_disabled-input-text-color);--md-outlined-field-disabled-content-opacity:var(--_disabled-input-text-opacity);--md-outlined-field-disabled-label-text-color:var(--_disabled-label-text-color);--md-outlined-field-disabled-label-text-opacity:var(--_disabled-label-text-opacity);--md-outlined-field-disabled-leading-content-color:var(--_disabled-leading-icon-color);--md-outlined-field-disabled-leading-content-opacity:var(--_disabled-leading-icon-opacity);--md-outlined-field-disabled-outline-color:var(--_disabled-outline-color);--md-outlined-field-disabled-outline-opacity:var(--_disabled-outline-opacity);--md-outlined-field-disabled-outline-width:var(--_disabled-outline-width);--md-outlined-field-disabled-supporting-text-color:var(--_disabled-supporting-text-color);--md-outlined-field-disabled-supporting-text-opacity:var(--_disabled-supporting-text-opacity);--md-outlined-field-disabled-trailing-content-color:var(--_disabled-trailing-icon-color);--md-outlined-field-disabled-trailing-content-opacity:var(--_disabled-trailing-icon-opacity);--md-outlined-field-error-content-color:var(--_error-input-text-color);--md-outlined-field-error-focus-content-color:var(--_error-focus-input-text-color);--md-outlined-field-error-focus-label-text-color:var(--_error-focus-label-text-color);--md-outlined-field-error-focus-leading-content-color:var(--_error-focus-leading-icon-color);--md-outlined-field-error-focus-outline-color:var(--_error-focus-outline-color);--md-outlined-field-error-focus-supporting-text-color:var(--_error-focus-supporting-text-color);--md-outlined-field-error-focus-trailing-content-color:var(--_error-focus-trailing-icon-color);--md-outlined-field-error-hover-content-color:var(--_error-hover-input-text-color);--md-outlined-field-error-hover-label-text-color:var(--_error-hover-label-text-color);--md-outlined-field-error-hover-leading-content-color:var(--_error-hover-leading-icon-color);--md-outlined-field-error-hover-outline-color:var(--_error-hover-outline-color);--md-outlined-field-error-hover-supporting-text-color:var(--_error-hover-supporting-text-color);--md-outlined-field-error-hover-trailing-content-color:var(--_error-hover-trailing-icon-color);--md-outlined-field-error-label-text-color:var(--_error-label-text-color);--md-outlined-field-error-leading-content-color:var(--_error-leading-icon-color);--md-outlined-field-error-outline-color:var(--_error-outline-color);--md-outlined-field-error-supporting-text-color:var(--_error-supporting-text-color);--md-outlined-field-error-trailing-content-color:var(--_error-trailing-icon-color);--md-outlined-field-focus-content-color:var(--_focus-input-text-color);--md-outlined-field-focus-label-text-color:var(--_focus-label-text-color);--md-outlined-field-focus-leading-content-color:var(--_focus-leading-icon-color);--md-outlined-field-focus-outline-color:var(--_focus-outline-color);--md-outlined-field-focus-outline-width:var(--_focus-outline-width);--md-outlined-field-focus-supporting-text-color:var(--_focus-supporting-text-color);--md-outlined-field-focus-trailing-content-color:var(--_focus-trailing-icon-color);--md-outlined-field-hover-content-color:var(--_hover-input-text-color);--md-outlined-field-hover-label-text-color:var(--_hover-label-text-color);--md-outlined-field-hover-leading-content-color:var(--_hover-leading-icon-color);--md-outlined-field-hover-outline-color:var(--_hover-outline-color);--md-outlined-field-hover-outline-width:var(--_hover-outline-width);--md-outlined-field-hover-supporting-text-color:var(--_hover-supporting-text-color);--md-outlined-field-hover-trailing-content-color:var(--_hover-trailing-icon-color);--md-outlined-field-label-text-color:var(--_label-text-color);--md-outlined-field-label-text-font:var(--_label-text-font);--md-outlined-field-label-text-line-height:var(--_label-text-line-height);--md-outlined-field-label-text-populated-line-height:var(--_label-text-populated-line-height);--md-outlined-field-label-text-populated-size:var(--_label-text-populated-size);--md-outlined-field-label-text-size:var(--_label-text-size);--md-outlined-field-label-text-weight:var(--_label-text-weight);--md-outlined-field-leading-content-color:var(--_leading-icon-color);--md-outlined-field-leading-space:var(--_leading-space);--md-outlined-field-outline-color:var(--_outline-color);--md-outlined-field-outline-width:var(--_outline-width);--md-outlined-field-supporting-text-color:var(--_supporting-text-color);--md-outlined-field-supporting-text-font:var(--_supporting-text-font);--md-outlined-field-supporting-text-line-height:var(--_supporting-text-line-height);--md-outlined-field-supporting-text-size:var(--_supporting-text-size);--md-outlined-field-supporting-text-weight:var(--_supporting-text-weight);--md-outlined-field-top-space:var(--_top-space);--md-outlined-field-trailing-content-color:var(--_trailing-icon-color);--md-outlined-field-trailing-space:var(--_trailing-space)}`
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,uu=Bi(class extends Ui{constructor(t){if(super(t),t.type!==Ri&&t.type!==zi&&t.type!==Gi)throw Error("The `live` directive is not allowed on child or event bindings");if(!Kn(t))throw Error("`live` bindings can only contain a single expression")}render(t){return t}update(t,[e]){if(e===Y||e===H)return e;const i=t.element,n=t.name;if(t.type===Ri){if(e===i[n])return Y}else if(t.type===Gi){if(!!e===i.hasAttribute(n))return Y}else if(t.type===zi&&i.getAttribute(n)===e+"")return Y;return ir(t),e}}),hu={fromAttribute:t=>t??"",toAttribute:t=>t||null};
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class pu extends pt{get form(){return this.internals.form}get labels(){return this.internals.labels}get name(){return this.getAttribute("name")??""}set name(t){this.setAttribute("name",t)}get selectionDirection(){return this.getInputOrTextarea().selectionDirection}set selectionDirection(t){this.getInputOrTextarea().selectionDirection=t}get selectionEnd(){return this.getInputOrTextarea().selectionEnd}set selectionEnd(t){this.getInputOrTextarea().selectionEnd=t}get selectionStart(){return this.getInputOrTextarea().selectionStart}set selectionStart(t){this.getInputOrTextarea().selectionStart=t}get validationMessage(){return this.syncValidity(),this.internals.validationMessage}get validity(){return this.syncValidity(),this.internals.validity}get valueAsNumber(){const t=this.getInput();return t?t.valueAsNumber:NaN}set valueAsNumber(t){const e=this.getInput();e&&(e.valueAsNumber=t,this.value=e.value)}get valueAsDate(){const t=this.getInput();return t?t.valueAsDate:null}set valueAsDate(t){const e=this.getInput();e&&(e.valueAsDate=t,this.value=e.value)}get willValidate(){return this.syncValidity(),this.internals.willValidate}get hasError(){return this.error||this.nativeError}constructor(){super(),this.disabled=!1,this.error=!1,this.errorText="",this.label="",this.required=!1,this.value="",this.prefixText="",this.suffixText="",this.hasLeadingIcon=!1,this.hasTrailingIcon=!1,this.supportingText="",this.textDirection="",this.rows=2,this.inputMode="",this.max="",this.maxLength=-1,this.min="",this.minLength=-1,this.pattern="",this.placeholder="",this.readOnly=!1,this.step="",this.type="text",this.dirty=!1,this.focused=!1,this.nativeError=!1,this.nativeErrorText="",this.internals=this.attachInternals(),this.addEventListener("click",this.focus),this.addEventListener("focusin",this.handleFocusin),this.addEventListener("focusout",this.handleFocusout)}checkValidity(){return this.syncValidity(),this.internals.checkValidity()}focus(){this.disabled||this.matches(":focus-within")||super.focus()}reportValidity(){let t;this.addEventListener("invalid",(e=>{t=e}),{once:!0});const e=this.checkValidity();if(t?.defaultPrevented)return e;const i=this.getErrorText();return this.nativeError=!e,this.nativeErrorText=this.validationMessage,i===this.getErrorText()&&this.field?.reannounceError(),e}select(){this.getInputOrTextarea().select()}setCustomValidity(t){this.internals.setValidity({customError:!!t},t,this.getInputOrTextarea())}setRangeText(...t){this.getInputOrTextarea().setRangeText(...t),this.value=this.getInputOrTextarea().value}setSelectionRange(t,e,i){this.getInputOrTextarea().setSelectionRange(t,e,i)}stepDown(t){const e=this.getInput();e&&(e.stepDown(t),this.value=e.value)}stepUp(t){const e=this.getInput();e&&(e.stepUp(t),this.value=e.value)}reset(){this.dirty=!1,this.value=this.getAttribute("value")??"",this.nativeError=!1,this.nativeErrorText=""}attributeChangedCallback(t,e,i){"value"===t&&this.dirty||super.attributeChangedCallback(t,e,i)}render(){const t={disabled:this.disabled,error:!this.disabled&&this.hasError,textarea:"textarea"===this.type};return W` <span class="text-field ${Zi(t)}"> ${this.renderField()} </span> `}updated(t){const e=this.getInputOrTextarea().value;this.value!==e&&(this.value=e),this.internals.setFormValue(e),this.syncValidity()}renderField(){return pn`<${this.fieldTag}
      class="field"
      count=${this.value.length}
      ?disabled=${this.disabled}
      ?error=${this.hasError}
      error-text=${this.getErrorText()}
      ?focused=${this.focused}
      ?has-end=${this.hasTrailingIcon}
      ?has-start=${this.hasLeadingIcon}
      label=${this.label}
      max=${this.maxLength}
      ?populated=${!!this.value}
      ?required=${this.required}
      ?resizable=${"textarea"===this.type}
      supporting-text=${this.supportingText}
    >
      ${this.renderLeadingIcon()}
      ${this.renderInputOrTextarea()}
      ${this.renderTrailingIcon()}
      <div id="description" slot="aria-describedby"></div>
    </${this.fieldTag}>`}renderLeadingIcon(){return W` <span class="icon leading" slot="start"> <slot name="leadingicon" @slotchange="${this.handleIconChange}"></slot> </span> `}renderTrailingIcon(){return W` <span class="icon trailing" slot="end"> <slot name="trailingicon" @slotchange="${this.handleIconChange}"></slot> </span> `}renderInputOrTextarea(){const t={direction:this.textDirection},e=this.ariaLabel||this.label||H;if("textarea"===this.type)return W` <textarea class="input" style="${To(t)}" aria-describedby="description" aria-invalid="${this.hasError}" aria-label="${e}" ?disabled="${this.disabled}" maxlength="${this.maxLength>-1?this.maxLength:H}" minlength="${this.minLength>-1?this.minLength:H}" placeholder="${this.placeholder||H}" ?readonly="${this.readOnly}" ?required="${this.required}" rows="${this.rows}" .value="${uu(this.value)}" @change="${this.handleChange}" @input="${this.handleInput}" @select="${this.redispatchEvent}"></textarea> `;const i=this.renderPrefix(),n=this.renderSuffix(),r=this.inputMode;return W` <div class="input-wrapper"> ${i} <input class="input" style="${To(t)}" aria-describedby="description" aria-invalid="${this.hasError}" aria-label="${e}" ?disabled="${this.disabled}" inputmode="${r||H}" max="${this.max||H}" maxlength="${this.maxLength>-1?this.maxLength:H}" min="${this.min||H}" minlength="${this.minLength>-1?this.minLength:H}" pattern="${this.pattern||H}" placeholder="${this.placeholder||H}" ?readonly="${this.readOnly}" ?required="${this.required}" step="${this.step||H}" type="${this.type}" .value="${uu(this.value)}" @change="${this.redispatchEvent}" @input="${this.handleInput}" @select="${this.redispatchEvent}"> ${n} </div> `}renderPrefix(){return this.renderAffix(this.prefixText,!1)}renderSuffix(){return this.renderAffix(this.suffixText,!0)}renderAffix(t,e){if(!t)return H;return W`<span class="${Zi({suffix:e,prefix:!e})}">${t}</span>`}getErrorText(){return this.error?this.errorText:this.nativeErrorText}handleFocusin(){this.focused=!0}handleFocusout(){this.matches(":focus-within")||(this.focused=!1)}handleInput(t){this.dirty=!0,this.value=t.target.value,this.syncValidity()}handleChange(t){this.syncValidity(),this.redispatchEvent(t)}redispatchEvent(t){Xa(this,t)}getInputOrTextarea(){return this.inputOrTextarea||(this.connectedCallback(),this.scheduleUpdate()),this.isUpdatePending&&this.scheduleUpdate(),this.inputOrTextarea}getInput(){return"textarea"===this.type?null:this.getInputOrTextarea()}syncValidity(){const t=this.getInputOrTextarea();this.internals.validity.customError?t.setCustomValidity(this.internals.validationMessage):t.setCustomValidity(""),this.internals.setValidity(t.validity,t.validationMessage,this.getInputOrTextarea())}handleIconChange(){this.hasLeadingIcon=this.leadingIcons.length>0,this.hasTrailingIcon=this.trailingIcons.length>0}formResetCallback(){this.reset()}formStateRestoreCallback(t){this.value=t}}Ci(pu),pu.shadowRootOptions={...pt.shadowRootOptions,delegatesFocus:!0},pu.formAssociated=!0,i([vt({type:Boolean,reflect:!0})],pu.prototype,"disabled",void 0),i([vt({type:Boolean,reflect:!0})],pu.prototype,"error",void 0),i([vt({attribute:"error-text"})],pu.prototype,"errorText",void 0),i([vt()],pu.prototype,"label",void 0),i([vt({type:Boolean,reflect:!0})],pu.prototype,"required",void 0),i([vt()],pu.prototype,"value",void 0),i([vt({attribute:"prefix-text"})],pu.prototype,"prefixText",void 0),i([vt({attribute:"suffix-text"})],pu.prototype,"suffixText",void 0),i([vt({type:Boolean,attribute:"has-leading-icon"})],pu.prototype,"hasLeadingIcon",void 0),i([vt({type:Boolean,attribute:"has-trailing-icon"})],pu.prototype,"hasTrailingIcon",void 0),i([vt({attribute:"supporting-text"})],pu.prototype,"supportingText",void 0),i([vt({attribute:"text-direction"})],pu.prototype,"textDirection",void 0),i([vt({type:Number})],pu.prototype,"rows",void 0),i([vt({reflect:!0})],pu.prototype,"inputMode",void 0),i([vt()],pu.prototype,"max",void 0),i([vt({type:Number})],pu.prototype,"maxLength",void 0),i([vt()],pu.prototype,"min",void 0),i([vt({type:Number})],pu.prototype,"minLength",void 0),i([vt()],pu.prototype,"pattern",void 0),i([vt({reflect:!0,converter:hu})],pu.prototype,"placeholder",void 0),i([vt({type:Boolean,reflect:!0})],pu.prototype,"readOnly",void 0),i([vt()],pu.prototype,"step",void 0),i([vt({reflect:!0})],pu.prototype,"type",void 0),i([bt()],pu.prototype,"dirty",void 0),i([bt()],pu.prototype,"focused",void 0),i([bt()],pu.prototype,"nativeError",void 0),i([bt()],pu.prototype,"nativeErrorText",void 0),i([wt(".input")],pu.prototype,"inputOrTextarea",void 0),i([wt(".field")],pu.prototype,"field",void 0),i([At({slot:"leadingicon"})],pu.prototype,"leadingIcons",void 0),i([At({slot:"trailingicon"})],pu.prototype,"trailingIcons",void 0);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class gu extends pu{constructor(){super(...arguments),this.fieldTag=un`md-outlined-field`}}
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */const fu=h`:host{display:inline-flex;outline:0;resize:both;-webkit-tap-highlight-color:transparent}.field,.text-field{width:100%}.text-field{display:inline-flex}.field{cursor:text}.disabled .field{cursor:default}.text-field,.textarea .field{resize:inherit}.icon{color:currentColor;display:flex;fill:currentColor}.icon ::slotted(*){display:flex}[hasstart] .icon.leading{font-size:var(--_leading-icon-size);height:var(--_leading-icon-size);width:var(--_leading-icon-size)}[hasend] .icon.trailing{font-size:var(--_trailing-icon-size);height:var(--_trailing-icon-size);width:var(--_trailing-icon-size)}.input-wrapper{display:flex}.input-wrapper>*{all:inherit;padding:0}.input{caret-color:var(--_caret-color);overflow-x:hidden;text-align:inherit}.input::placeholder{color:currentColor;opacity:1}.input::-webkit-calendar-picker-indicator{display:none}@media(forced-colors:active){.input{background-color:Field}}:focus-within .input{caret-color:var(--_focus-caret-color)}.error:focus-within .input{caret-color:var(--_error-focus-caret-color)}.text-field:not(.disabled) .prefix{color:var(--_input-text-prefix-color)}.text-field:not(.disabled) .suffix{color:var(--_input-text-suffix-color)}.text-field:not(.disabled) .input::placeholder{color:var(--_input-text-placeholder-color)}.prefix,.suffix{width:min-content}.prefix{padding-inline-end:var(--_input-text-prefix-trailing-space)}.suffix{padding-inline-start:var(--_input-text-suffix-leading-space)}`
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let mu=class extends gu{constructor(){super(...arguments),this.fieldTag=un`md-outlined-field`}};mu.styles=[fu,du,cu],mu=i([ft("md-outlined-text-field")],mu);class vu{static number(t){return t?t.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):"0"}static removeClass(t,e){let i="";if(t){const n=t.className.split(" ");for(let t=0;t<n.length;t++)n[t]!==e&&(i+=n[t]+" ");t.className=i}else console.error("Trying to remove class from a non exisisting element")}static truncate(t,e,i=void 0,n=void 0){if(e=e||255,t.length<=e)return t;if(i)t=t.substring(0,e);else{let i=t.lastIndexOf(" ",e);-1===i&&(i=e),t=t.substring(0,i)}return t+=null!=n?n:"..."}static trim(t){return t.replace(/^\s*|\s*$/g,"")}}let bu=class extends Ha{async connectedCallback(){super.connectedCallback(),window.appGlobals.activity("Family tree - open")}disconnectedCallback(){super.disconnectedCallback(),window.appGlobals.activity("Family tree - close")}static get styles(){return[super.styles,Ya,h`.tree-structure{color:var(--md-sys-color-primary)}.treeContainer{box-sizing:border-box;overflow-x:auto;max-width:100%;width:100%;margin:0 auto}@media (max-width:600px){.treeContainer{width:100%;max-width:100%}}.family-level{display:flex;flex-direction:row;margin:8px;margin-top:6px;align-items:start;min-width:220px;max-width:100%}.family-box{border:1px solid var(--md-sys-color-secondary);padding:10px;margin:5px;border-radius:8px;max-width:320px}.solution-box{padding:10px;margin:5px}.url-link{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:60ch;color:var(--md-sys-color-on-primary-container)}a{color:var(--md-sys-color-on-primary-container)}.familyTreeTitle{padding:16px;font-size:26px;color:var(--md-sys-color-primary);background-color:var(--md-sys-color-on-primary);border-radius:16px;margin:16px;margin-bottom:24px;width:100%;max-width:320px;text-align:center;text-transform:uppercase;font-family:Cabin,sans-serif}.solution-title{font-size:1.2em;padding:5px;border-radius:5px;margin-bottom:10px}.generation{font-size:.43em;margin-left:1px;opacity:.75}.parent-container{align-items:start!important}.no-parent{background-color:var(--md-sys-color-surface-variant);color:var(--md-sys-color-on-surface-variant)}.is-mutated-from{background-color:var(--md-sys-color-secondary-container);color:var(--md-sys-color-on-secondary-container)}.seed-url-parent{background-color:var(--md-sys-color-primary-container);color:var(--md-sys-color-on-primary-container)}.first{background-color:var(--md-sys-color-tertiary-container);color:var(--md-sys-color-on-tertiary-container)}.mutationRate{text-transform:capitalize}.familyIcon{margin-top:40px;margin-bottom:8px;font-size:48px;color:var(--md-sys-color-primary)}@media (max-width:600px){.url-link{max-width:25ch}.family-level{max-width:360px}.treeContainer{max-width:360px}}`]}getParentSolution(t){const e=t.split(":"),i=parseInt(e[0]),n=parseInt(e[1]);return this.memory.subProblems[this.subProblemIndex].solutions.populations[i][n]}renderFamilyTree(t,e=!1,i=!1){const n=!!t.family?.parentB;return W` <div class="tree-structure layout vertical center-center"> <div class="family-level layout vertical center-center" data-scrollable="true"> <div class="family-box ${e?"first":""} ${t.family?"":"no-parent"} ${i?"is-mutated-from":""} ${t.family?"":"no-parent"} ${!t.family?.seedUrls||t.family.parentA||t.family.parentB?"":"seed-url-parent"}"> <div class="solution-title" ?first="${e}"> ${t.title} ${void 0!==t.family?.gen?W`<span class="generation">(${t.family.gen+1})</span>`:""} </div> ${t.family?W` ${t.family.mutationRate?W`<div> Mutation rate: <span class="mutationRate">${t.family.mutationRate}</span> </div>`:""} ${t.family.seedUrls&&t.family.seedUrls.length>0?W` <div class="solution-box"> Seed URLs: ${t.family.seedUrls.map((t=>W`<a href="${t}" target="_blank" class="url-link">${t}</a>`))} </div> `:""} `:W`<div class="layout horizontal center-center"> ... parent data not collected </div>`} </div> </div> <div class="layout ${n?"horizontal":"vertical"} center-center parent-container"> <div class="family-level ${n?"two-parents":""}" data-scrollable="true"> ${t.family?.parentA?W` ${this.renderFamilyTree(this.getParentSolution(t.family.parentA),!1,!n)} `:""} ${t.family?.parentB?W` ${this.renderFamilyTree(this.getParentSolution(t.family.parentB))} `:""} </div> </div> </div> `}render(){return W` <div class="layout vertical center-center"> <md-icon class="familyIcon">family_history</md-icon> <div class="familyTreeTitle">${this.t("Evolutionary Tree")}</div> <div class="treeContainer" data-scrollable="true"> ${this.renderFamilyTree(this.solution,!0)} </div> </div> `}};i([vt({type:Object}),n("design:type",Object)],bu.prototype,"memory",void 0),i([vt({type:Number}),n("design:type",Number)],bu.prototype,"subProblemIndex",void 0),i([vt({type:Object}),n("design:type",Object)],bu.prototype,"solution",void 0),bu=i([ft("ps-family-tree")],bu);let yu=class extends hs{constructor(){super(...arguments),this.isDropdownVisible=!1,this.searchText="",this.activeFilteredSolutionIndex=null,this.isSearchVisible=!1,this.hideExtraSolutionInformation=!0,this.isLoadingMiddle=!1,this.groupListScrollPositionY=null,this.lastKeys=[],this.findBarProbablyOpen=!1,this.touchStartX=0,this.minSwipeDistance=100,this.solutionListScrollPositionX=0,this.solutionListScrollPositionY=0}async handleGroupButtonClick(t){if(this.activeGroupIndex===t)this.activeGroupIndex=null,await this.updateComplete,window.scrollTo(0,this.groupListScrollPositionY),this.groupListScrollPositionY=null,window.appGlobals.activity("Solutions - deactive group filter");else{this.groupListScrollPositionY=window.scrollY,this.activeGroupIndex=t,await this.updateComplete;const e=this.shadowRoot.getElementById("solutionList").getBoundingClientRect(),i=window.pageYOffset;window.scrollTo(0,e.top+i),window.appGlobals.activity("Solutions - activate group filter")}}reset(){this.searchText="",this.isSearchVisible=!1,this.isDropdownVisible=!1,this.activeSolutionIndex=null,this.activeSubProblemIndex=null,this.fire("yp-theme-color",this.subProblemColors[7])}async connectedCallback(){super.connectedCallback(),window.appGlobals.activity("Solutions - open"),document.addEventListener("keydown",this.handleKeyDown.bind(this)),this.addEventListener("touchstart",this.handleTouchStart.bind(this)),this.addEventListener("touchend",this.handleTouchEnd.bind(this))}disconnectedCallback(){super.disconnectedCallback(),window.appGlobals.activity("Solutions - close"),document.removeEventListener("keydown",this.handleKeyDown),this.removeEventListener("touchstart",this.handleTouchStart.bind(this)),this.removeEventListener("touchend",this.handleTouchEnd.bind(this))}updateSwipeIndex(t){"right"===t?null!==this.activeSolutionIndex&&this.activeFilteredSolutionIndex<this.filteredSolutions.length-1?(this.activeFilteredSolutionIndex+=1,window.appGlobals.activity("Solutions - swipe right")):null==this.activeSolutionIndex&&null!==this.activeSubProblemIndex&&this.activeSubProblemIndex<vs.maxSubProblems-1&&(this.activeSubProblemIndex+=1,window.appGlobals.activity("Sub problem - swipe right")):"left"===t&&(null!==this.activeSolutionIndex&&this.activeFilteredSolutionIndex>0?(this.activeFilteredSolutionIndex-=1,window.appGlobals.activity("Solutions - swipe left")):null==this.activeSolutionIndex&&null!==this.activeSubProblemIndex&&this.activeSubProblemIndex>0&&(this.activeSubProblemIndex-=1,window.appGlobals.activity("Sub problem - swipe left"))),this.setSubProblemColor(this.activeSubProblemIndex)}async loadMiddleData(){console.log("loadMiddleData");try{for(let t=0;t<vs.maxSubProblems;t++){const e=await window.serverApi.getMiddleSolutions(this.memory.groupId,t);if(e&&Array.isArray(e))if(this.memory.subProblems[t].solutions.populations.length>6){const i=this.memory.subProblems[t].solutions.populations.slice(0,3),n=this.memory.subProblems[t].solutions.populations.slice(-3),r=e;this.memory.subProblems[t].solutions.populations=[...i,...r,...n]}else this.memory.subProblems[t].solutions.populations=e}}catch(t){console.error("Failed to load middle data:",t),this.isLoadingMiddle=!1}}handleKeyDown(t){if(this.lastKeys.push(t.key),this.lastKeys.length>12&&this.lastKeys.shift(),this.findBarProbablyOpen=this.lastKeys.includes("Control")&&this.lastKeys.includes("f"),"Escape"===t.key&&this.findBarProbablyOpen)return this.lastKeys=[],this.findBarProbablyOpen=!1,void console.log("Doing my escape action.");"ArrowRight"===t.key?(this.updateSwipeIndex("right"),t.stopPropagation(),t.preventDefault()):"ArrowLeft"===t.key?(this.updateSwipeIndex("left"),t.stopPropagation(),t.preventDefault()):"Escape"!==t.key||this.findBarProbablyOpen||(null!==this.activeSolutionIndex?(this.activeSolutionIndex=null,this.exitSolutionScreen(),t.stopPropagation(),t.preventDefault()):null!==this.activeSubProblemIndex&&(this.activeSubProblemIndex=null,this.fire("yp-theme-color",this.subProblemColors[7]),this.exitSubProblemScreen()))}exitSolutionScreen(){setTimeout((()=>{window.scrollTo(this.solutionListScrollPositionX,this.solutionListScrollPositionY)}),10)}handleTouchStart(t){this.touchStartX=t.touches[0].clientX}handleTouchEnd(t){const e=this.touchStartX-t.changedTouches[0].clientX;if(Math.abs(e)<this.minSwipeDistance)return;let i=t.composedPath()[0];for(;i;){if(console.error(i.tagName),"true"===i.getAttribute("data-scrollable"))return;i=i.parentElement}e>0?this.updateSwipeIndex("right"):e<0&&this.updateSwipeIndex("left"),t.stopPropagation()}updated(t){if(super.updated(t),(t.has("searchText")||t.has("activeSolutionIndex"))&&(this.activeFilteredSolutionIndex=this.filteredSolutions.findIndex((t=>t===this.memory.subProblems[this.activeSubProblemIndex].solutions.populations[this.activePopulationIndex][this.activeSolutionIndex]))),(t.has("activeSolutionIndex")||t.has("activeSubProblemIndex")||t.has("activePopulationIndex"))&&this.updateRoutes(),t.has("activeFilteredSolutionIndex")&&null!==this.activeFilteredSolutionIndex&&null!==this.activePopulationIndex&&void 0!==this.activeFilteredSolutionIndex&&this.memory.subProblems[this.activeSubProblemIndex]&&this.memory.subProblems[this.activeSubProblemIndex].solutions){const t=this.memory.subProblems[this.activeSubProblemIndex].solutions.populations[this.activePopulationIndex],e=this.filteredSolutions[this.activeFilteredSolutionIndex],i=t.findIndex((t=>t===e));void 0!==i&&-1!==i&&(this.activeSolutionIndex=i)}}static get styles(){return[super.styles,h`.topContainer{max-width:100%}md-outlined-text-field{width:180px;margin-top:-12px;margin-left:8px}md-outlined-text-field[middle-open]{margin-top:8px}md-outlined-icon-button{margin-left:8px;margin-right:8px;margin-top:-4px}md-outlined-select{margin-top:-12px;margin-left:8px;margin-right:8px}.generations{margin-top:24px;margin-bottom:16px;max-width:1100px}md-filter-chip{margin-bottom:8px}md-filter-chip[more-than-seven-items]{margin-bottom:8px;width:134px}.solutionImage{padding:8px}.solutionTopImage{vertical-align:top;margin-top:20px}.solutionItem{text-align:left;background-color:var(--md-sys-color-secondary-container);color:var(--md-sys-color-on-secondary-container);border-radius:16px;padding:20px;margin:8px 0;max-width:600px;width:600px;font-size:22px;min-height:100px;display:flex;flex-direction:column;justify-content:left;align-items:left;cursor:pointer;line-height:1.4;vertical-align:middle;position:relative}.groupInfo{position:absolute;top:18px;right:4px}.groupInfoText{font-size:18px;margin-top:6px;font-family:'Roboto Condensed',sans-serif;opacity:.55}.solutionItem[has-image]{margin-bottom:16px}.solutionItem[group-solo]{background-color:var(--md-sys-color-tertiary-container);color:var(--md-sys-color-on-tertiary-container)}.generationContainer{width:100%}.solution{text-align:left;background-color:var(--md-sys-color-surface);color:var(--md-sys-color-on-surface);border-radius:16px;padding:16px;margin:8px 0;max-width:1360px}.solutionImageContainer{display:inline-block;margin-left:8px}.solutionItemTitle{padding:8px}.solutionItemTitle[has-image]{margin-top:6px}.solutionIndex{margin-right:8px}.proCon{margin:8px;padding:24px;max-width:410px;width:100%;background-color:var(--md-sys-color-on-tertiary);color:var(--md-sys-color-tertiary);border-radius:16px;font-size:20px;align-items:self-start;line-height:1.4}.solutionItemEloRating{font-size:18px;margin-top:8px;opacity:.5}.ratingsHeader{font-size:22px;margin-bottom:4px;margin-top:16px;color:var(--md-sys-color-secondary)}.ratings{background-color:var(--md-sys-color-on-secondary);color:var(--md-sys-color-secondary);padding:32px;max-width:380px;width:380px;border-radius:16px;margin:32px;padding-top:8px;padding-bottom:32px}.rating{padding:8px;padding-bottom:0}.eloRatings{font-size:24px;color:var(--md-sys-color-primary);margin-bottom:24px}.prosConsHeader{font-size:24px;color:var(--md-sys-color-tertiary);font-weight:500;margin-bottom:8px}.solutionTitle{font-size:26px;line-height:1.4;margin:8px;margin-left:8px;margin-right:8px;margin-top:16px;font-family:'Roboto Condensed',sans-serif}.solutionTitleDesc{max-width:600px;margin-right:8px}.solutionDescription{padding:8px;font-size:20px;line-height:1.4;margin-left:0;margin-right:8px}.solutionAttributes{display:flex;justify-content:space-between;align-items:self-start}.cons,.pros{width:45%;padding:10px;margin:10px 0}@media (max-width:960px){.solutionItemTitle{margin-top:0;padding-top:0;padding-bottom:16px}.solutionTopImage{margin-top:10px}.solution{max-width:100%;margin-top:6px}.cons,.pros{width:100%;padding:16px;margin:8px;font-size:18px;max-width:100%}.proCon{font-size:16px;padding:16px;margin:8px}.ratings{max-width:320px;width:100%;margin:16px;font-size:16px;margin-right:0;margin-left:0}.solutionItem{border-radius:24px;padding:32px;max-width:300px;width:100%;font-size:18px}.solutionItem[has-image]{height:unset;margin-top:0;padding-bottom:12px;margin-bottom:16px}.solutionDescription{font-size:16px;margin-left:0;margin-right:0}.solutionTitle{font-size:20px;margin-left:0;margin-right:0}.solutionAttributes{flex-direction:column}.groupInfo{position:unset;top:unset;margin-bottom:4px;margin-right:4px}.groupInfoText{font-size:18px;margin-top:6px;font-family:'Roboto Condensed',sans-serif;opacity:.55}}[hidden]{display:none!important}`]}get filteredSolutions(){let t=this.memory.subProblems[this.activeSubProblemIndex];if(t&&t.solutions){let e=t.solutions.populations[this.activePopulationIndex],i={};if(!e)return[];if(e.forEach((t=>{if(void 0!==t.similarityGroup){let e=t.similarityGroup.index;i[e]?t.similarityGroup.isFirst=void 0:(i[e]=t,t.similarityGroup.isFirst=!0)}})),null!==this.activeSolutionIndex){const t=e[this.activeSolutionIndex];t?.similarityGroup&&this.activeGroupIndex!==t.similarityGroup.index&&!t.similarityGroup.isFirst&&(this.activeGroupIndex=t.similarityGroup.index)}if(e=null!==this.activeGroupIndex?e.filter((t=>t.similarityGroup?.index===this.activeGroupIndex)):e.filter((t=>t.similarityGroup?.isFirst||void 0===t.similarityGroup)),this.searchText){const t=this.searchText.toLowerCase().split(" ");e=e.filter((e=>t.every((t=>e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)))))}return e}return[]}render(){const t=this.memory.subProblems||[];return null!==this.activeSolutionIndex?this.renderSolutionScreen(null!==this.activeFilteredSolutionIndex?this.activeFilteredSolutionIndex:this.activeSolutionIndex):null!==this.activeSubProblemIndex?this.renderSubProblemScreen(t[this.activeSubProblemIndex]):this.renderSubProblemList(t,this.t("Sub Problems and Solutions"))}renderSolutionItem(t,e){return W` <div class="solutionItem layout vertical center-center" ?has-image="${t.imageUrl}" ?group-solo="${null!==this.activeGroupIndex}" @click="${()=>{this.activeFilteredSolutionIndex=e,this.solutionListScrollPositionX=window.scrollX,this.solutionListScrollPositionY=window.scrollY,window.scrollTo(0,0),window.appGlobals.activity("Solutions - open detail")}}"> ${t.imageUrl?W` <div> <img alt="${t.imagePrompt}" loading="lazy" class="solutionImage" height="${this.wide?"250":"200"}" src="${this.fixImageUrlIfNeeded(t.imageUrl)}"> </div> `:W``} <div class="solutionItemTitle" ?has-image="${t.imageUrl}"> ${t.title} </div> <div class="solutionItemEloRating" ?hidden="${null===this.activeGroupIndex}"> ${vu.number(t.eloRating)} </div> ${void 0!==t.similarityGroup?.isFirst&&t.similarityGroup.isFirst?W` <div class="groupInfo layout ${this.wide?"vertical center-center":"horizontal"}"> <md-outlined-icon-button toggle ?selected="${this.activeGroupIndex===t.similarityGroup.index}" class="groupButton" @click="${e=>{e.stopPropagation(),this.handleGroupButtonClick(t.similarityGroup.index)}}"> <md-icon>unfold_more_double</md-icon> <md-icon slot="selectedIcon">close</md-icon> </md-outlined-icon-button> <div class="groupInfoText"> ${null===this.activeGroupIndex?W`+${t.similarityGroup.totalCount}`:H} </div> </div> `:W``} </div> `}renderSubProblemScreen(t){return W` <div class="topContainer layout vertical self-start"> <div class="layout horizontal center-center"> ${this.renderSubProblem(t,!1,0,!0,!0)} </div> <div class="layout horizontal center-center"> <div class="title">${this.t("Evolving Solutions")}</div> </div> <div class="generationContainer layout vertical center-center"> ${this.renderChipSet(t)} <div id="solutionList"> ${this.filteredSolutions.map(((t,e)=>this.renderSolutionItem(t,e)))} </div> </div> </div> `}renderChipSet(t){if(!t.solutions)return H;if(t.solutions.populations){let e,i,n;return this.wide?(e=t.solutions.populations.slice(0,3),t.solutions.populations.length>3?(i=t.solutions.populations.slice(3,6),t.solutions.populations.length>6?(i=t.solutions.populations.slice(-3),n=t.solutions.populations.slice(3,-3)):n=[]):(i=[],n=[]),7===t.solutions.populations.length&&(n=t.solutions.populations.slice(3,4))):(e=t.solutions.populations.slice(0,1),i=t.solutions.populations.slice(-1),n=t.solutions.populations.slice(1,-1)),W` <md-chip-set class="generations layout horizontal wrap" type="filter" single-select> ${this.renderFilterChips(e,0)} ${this.renderDropdown(n,e.length)} ${this.renderFilterChips(i,t.solutions.populations.length-i.length)} <md-outlined-icon-button ?hidden="${this.isSearchVisible}" @click="${this.toggleSearchVisibility}"> <md-icon>search</md-icon> </md-outlined-icon-button> ${this.isSearchVisible?this.renderSearchField():H} </md-chip-set> `}return H}toggleSearchVisibility(){this.isSearchVisible=!this.isSearchVisible,window.appGlobals.activity("Solutions - toggle search")}renderSearchField(){return W` <md-outlined-text-field ?middle-open="${this.isDropdownVisible}" .label="${this.t("Filter")}" .value="${this.searchText}" @keyup="${t=>{this.searchText=t.target.value}}" @keydown="${t=>{"Escape"==t.key&&(t.stopPropagation(),t.preventDefault())}}" @blur="${this.handleSearchBlur}"></md-outlined-text-field> `}handleSearchBlur(){""===this.searchText.trim()&&(this.isSearchVisible=!1)}renderFilterChips(t,e){return t.map(((i,n)=>W`<md-filter-chip class="layout horizontal center-center" ?more-than-seven-items="${t.length>7}" label="Generation ${e+n+1}" .selected="${this.activePopulationIndex===e+n}" @click="${()=>{this.activePopulationIndex=e+n,this.resetDropdown(),window.appGlobals.activity("Solutions - chose generation")}}"></md-filter-chip> `))}handleDropdownChange(t){const e=t.target,i=Number(e.value)-1;!isNaN(i)&&i>=0&&i<this.memory.subProblems.length&&(this.activePopulationIndex=i)}async toggleDropdownVisibility(){window.appGlobals.activity("Solutions - toggle dropdown"),this.isLoadingMiddle=!0,await this.loadMiddleData(),this.isLoadingMiddle=!1,this.isDropdownVisible=!this.isDropdownVisible,this.isDropdownVisible&&(this.memory.subProblems.length>3?this.activePopulationIndex=3:this.memory.subProblems.length>0?this.activePopulationIndex=this.memory.subProblems.length-1:this.activePopulationIndex=0)}resetDropdown(){this.shadowRoot.querySelector("md-outlined-select")&&(this.isDropdownVisible=!1)}renderDropdown(t,e){return this.isLoadingMiddle?W`<md-circular-progress indeterminate></md-circular-progress>`:t.length>0&&!this.isDropdownVisible?W` <md-outlined-icon-button @click="${this.toggleDropdownVisibility}"> <md-icon>expand_more</md-icon> </md-outlined-icon-button> `:t.length>0&&this.isDropdownVisible?W` <md-outlined-select label="Generation ..." .quick="${!0}" .required="${!1}" .disabled="${!1}" @change="${t=>this.handleDropdownChange(t)}"> ${t.map(((t,i)=>W`<md-select-option .value="${(e+i+1).toString()}" .headline="Generation ${e+i+1}"></md-select-option>`))} </md-outlined-select> `:H}camelCaseToRegular(t){let e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}renderRatings(t){return W` <div class="ratings"> <div class="ratingsHeader eloRatings layout horizontal center-center"> <div> ${this.t("Elo Rating")}: ${vu.number(t.eloRating)} </div> </div> ${t.ratings?W` ${Object.entries(t.ratings).map((([t,e])=>W` <div class="ratingsHeader"> ${this.camelCaseToRegular(t)} </div> ${Object.entries(e).map((([t,e])=>W` <div class="rating"> ${this.camelCaseToRegular(t)}: ${e} </div> `))} `))} `:H} </div> `}renderSolutionNavigationButtons(t,e){return W` <div class="layout horizontal center-center"> <md-icon-button aria-label="Previous" .disabled="${0===t}" @click="${()=>{t>0&&(this.activeFilteredSolutionIndex=t-1,window.appGlobals.activity("Solutions - click previous solution"))}}"> <md-icon>navigate_before</md-icon> </md-icon-button> <md-icon-button aria-label="Next" .disabled="${t===e.length-1}" @click="${()=>{t<e.length-1&&(this.activeFilteredSolutionIndex=t+1,window.appGlobals.activity("Solutions - click next solution"))}}"> <md-icon>navigate_next</md-icon> </md-icon-button> <md-icon-button aria-label="Close" @click="${()=>{this.activeSolutionIndex=null,this.activeFilteredSolutionIndex=null,this.exitSolutionScreen(),window.appGlobals.activity("Solutions - exit solution detail")}}"> <md-icon>close</md-icon> </md-icon-button> </div> `}getSolutionImgHeight(){return this.wide?314:150}getSolutionImgWidth(){return this.wide?550:263}renderSolutionImage(t){return W` <div class="solutionImageContainer"> <img loading="lazy" alt="${t.imagePrompt}" title="${t.imagePrompt}" class="solutionTopImage" height="${this.getSolutionImgHeight()}" width="${this.getSolutionImgWidth()}" src="${this.fixImageUrlIfNeeded(t.imageUrl)}" .key="${t.imageUrl}"> </div> `}renderSolutionScreen(t){const e=this.filteredSolutions,i=e[t];return i?W` ${i.reaped?W`<div class="reapedInfo layout horizontal center-center"> <div>REAPED</div> </div>`:W` <div class="topContainer layout vertical center-center"> ${this.renderSolutionNavigationButtons(t,e)} <div class="solution layout ${this.wide?"horizontal":"vertical"} center-cener"> ${i.imageUrl&&!this.wide?this.renderSolutionImage(i):H} <div class="solutionTitleDesc"> <div class="solutionTitle">${i.title}</div> <div class="solutionDescription"> ${i.description} </div> </div> ${i.imageUrl&&this.wide?this.renderSolutionImage(i):H} <div class="solutionDescription" ?hidden="${this.hideExtraSolutionInformation}"> ${i.mainBenefitOfSolution} </div> <div class="solutionDescription" ?hidden="${this.hideExtraSolutionInformation}"> ${i.mainObstacleToSolutionAdoption} </div> </div> <div class="prosCons"> <div class="solutionAttributes layout horizontal wrap"> <div class="pros flexFactor layout vertical center-center"> <div class="prosConsHeader">${this.t("Pros")}</div> ${i.pros?.map((t=>W`<div class="proCon">${t.description}</div>`))} </div> <div class="cons flexFactor layout vertical center-center"> <div class="prosConsHeader">${this.t("Cons")}</div> ${i.cons?.map((t=>W`<div class="proCon">${t.description}</div>`))} </div> </div> </div> ${this.renderRatings(i)} ${this.renderSolutionNavigationButtons(t,e)} <ps-family-tree .memory="${this.memory}" .subProblemIndex="${this.activeSubProblemIndex}" .solution="${i}"></ps-family-tree> </div> `} `:H}};i([vt({type:Boolean}),n("design:type",Object)],yu.prototype,"isDropdownVisible",void 0),i([vt({type:String}),n("design:type",Object)],yu.prototype,"searchText",void 0),i([vt({type:Number}),n("design:type",Number)],yu.prototype,"activeFilteredSolutionIndex",void 0),i([vt({type:Boolean}),n("design:type",Object)],yu.prototype,"isSearchVisible",void 0),i([vt({type:Boolean}),n("design:type",Object)],yu.prototype,"hideExtraSolutionInformation",void 0),i([vt({type:Boolean}),n("design:type",Boolean)],yu.prototype,"isLoadingMiddle",void 0),i([vt({type:Number}),n("design:type",Number)],yu.prototype,"groupListScrollPositionY",void 0),yu=i([ft("cps-solutions")],yu);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class xu extends ns{}
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */const wu=h`:host{--_container-height:var(--md-text-button-container-height, 40px);--_container-shape:var(--md-text-button-container-shape, 9999px);--_disabled-label-text-color:var(--md-text-button-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity:var(--md-text-button-disabled-label-text-opacity, 0.38);--_focus-label-text-color:var(--md-text-button-focus-label-text-color, var(--md-sys-color-primary, #6750a4));--_hover-label-text-color:var(--md-text-button-hover-label-text-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-color:var(--md-text-button-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-opacity:var(--md-text-button-hover-state-layer-opacity, 0.08);--_label-text-color:var(--md-text-button-label-text-color, var(--md-sys-color-primary, #6750a4));--_label-text-font:var(--md-text-button-label-text-font, var(--md-sys-typescale-label-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height:var(--md-text-button-label-text-line-height, var(--md-sys-typescale-label-large-line-height, 1.25rem));--_label-text-size:var(--md-text-button-label-text-size, var(--md-sys-typescale-label-large-size, 0.875rem));--_label-text-weight:var(--md-text-button-label-text-weight, var(--md-sys-typescale-label-large-weight, var(--md-ref-typeface-weight-medium, 500)));--_pressed-label-text-color:var(--md-text-button-pressed-label-text-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-color:var(--md-text-button-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-opacity:var(--md-text-button-pressed-state-layer-opacity, 0.12);--_disabled-icon-color:var(--md-text-button-disabled-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-icon-opacity:var(--md-text-button-disabled-icon-opacity, 0.38);--_focus-icon-color:var(--md-text-button-focus-icon-color, var(--md-sys-color-primary, #6750a4));--_hover-icon-color:var(--md-text-button-hover-icon-color, var(--md-sys-color-primary, #6750a4));--_icon-color:var(--md-text-button-icon-color, var(--md-sys-color-primary, #6750a4));--_icon-size:var(--md-text-button-icon-size, 18px);--_pressed-icon-color:var(--md-text-button-pressed-icon-color, var(--md-sys-color-primary, #6750a4));--_leading-space:var(--md-text-button-leading-space, 12px);--_trailing-space:var(--md-text-button-trailing-space, 12px);--_with-leading-icon-leading-space:var(--md-text-button-with-leading-icon-leading-space, 12px);--_with-leading-icon-trailing-space:var(--md-text-button-with-leading-icon-trailing-space, 16px);--_with-trailing-icon-leading-space:var(--md-text-button-with-trailing-icon-leading-space, 16px);--_with-trailing-icon-trailing-space:var(--md-text-button-with-trailing-icon-trailing-space, 12px);--_container-color:none;--_disabled-container-color:none;--_disabled-container-opacity:0;--_container-shape-start-start:var( --md-text-button-container-shape-start-start, var(--_container-shape) );--_container-shape-start-end:var( --md-text-button-container-shape-start-end, var(--_container-shape) );--_container-shape-end-end:var( --md-text-button-container-shape-end-end, var(--_container-shape) );--_container-shape-end-start:var( --md-text-button-container-shape-end-start, var(--_container-shape) )}`
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let Iu=class extends xu{};var Cu;Iu.styles=[as,wu],Iu=i([ft("md-text-button")],Iu);let Au=Cu=class extends Ha{constructor(){super(...arguments),this.groupedRawEvidence={},this.loading=!0,this.showDropdown=!1,this.showFullList={}}handleScroll(){window.scrollY>=550?this.showDropdown=!0:this.showDropdown=!1,this.requestUpdate()}async connectedCallback(){super.connectedCallback(),window.appGlobals.activity("Raw evidence - open"),window.addEventListener("scroll",this.handleScroll.bind(this))}updated(t){super.updated(t),(t.has("activeSubProblemIndex")||t.has("policy"))&&void 0!==this.activeSubProblemIndex&&void 0!==this.policy&&(Cu.rawPolicyCache[`${this.activeSubProblemIndex}-${this.policy.title}`]?(this.activeRawEvidence=Cu.rawPolicyCache[`${this.activeSubProblemIndex}-${this.policy.title}`],this.setupRawEvidence()):(this.loading=!0,this.activeRawEvidence=null,this.loadRawEvidence()))}setupRawEvidence(){this.groupedRawEvidence={},this.activeRawEvidence.forEach((t=>{this.groupedRawEvidence[t.searchType]||(this.groupedRawEvidence[t.searchType]=[]),this.groupedRawEvidence[t.searchType].push(t)}));for(const t in this.groupedRawEvidence)this.groupedRawEvidence[t].sort(((t,e)=>(e.totalScore??0)-(t.totalScore??0)));this.loading=!1}disconnectedCallback(){super.disconnectedCallback(),window.appGlobals.activity("Raw evidence - close"),window.removeEventListener("scroll",this.handleScroll.bind(this))}formatSearchType(t){const e=t.replace(/([A-Z])/g," $1").trim();return e.charAt(0).toUpperCase()+e.slice(1)}async loadRawEvidence(){const t=await window.serverApi.getRawEvidence(this.memory.groupId,this.activeSubProblemIndex,this.policy.title);Cu.rawPolicyCache[`${this.activeSubProblemIndex}-${this.policy.title}`]=t,this.activeRawEvidence=t,this.setupRawEvidence()}static get styles(){return[super.styles,Ya,h`.loading{display:flex;justify-content:center;align-items:center;width:100%;height:100vh}.title{font-family:'Roboto Condensed',sans-serif;font-size:32px;margin-bottom:8px;color:var(--md-sys-color-primary);background-color:var(--md-sys-color-on-primary);text-align:center;padding:16px;border-radius:16px;max-width:960px;margin-top:32px;width:100%}.listTitle{font-family:'Roboto Condensed',sans-serif;font-size:26px;color:var(--md-sys-color-secondary);background-color:var(--md-sys-color-on-secondary);text-align:center;padding:16px;max-width:400px;margin:16px;border-radius:12px}.fade-in{animation:fadeIn ease 1s}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}md-outlined-select::part(menu){max-height:500px;height:500px}md-outlined-select{max-width:230px}.jumpToPolicyTitle{max-width:200px;margin-bottom:24px}.listItem{text-align:left;padding:8px;font-size:20px;color:var(--md-sys-color-on-surface)}.dropdown{position:fixed;bottom:64px;left:16px;z-index:1000}.url{font-size:18px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:350px;color:var(--md-sys-color-on-surface);margin-top:8px}.rawEvidenceContainer{background-color:var(--md-sys-color-surface-container-low);color:var(--md-sys-color-on-surface);margin:16px;padding:16px}.evidenceItem{max-width:420px;margin:16px;align-self:start}.header{margin-bottom:20px}.meta-description{max-width:600px}.topEvidencePiece{border-bottom:5px dashed var(--md-sys-color-primary);padding-bottom:24px;margin-bottom:24px}.header-title{font-size:24px;font-weight:700;max-width:600px;margin-bottom:8px}.header-meta{display:flex;flex-direction:row;align-items:center}.meta-author,.meta-date,.meta-description,.meta-publisher{margin:8px;font-size:20px}.logoImage{height:125px;max-width:600px;margin:8px}.shareImage{height:275px;max-width:800px;margin:8px;margin-bottom:8px}a{font-size:18px}.hidden{display:none}@media (max-width:960px){.title{margin-top:16px;max-width:100%;margin-right:8px;margin-left:8px;font-size:26px;border-radius:16px;max-width:100%}}`]}renderHeader(t){return W` <div class="header layout vertical center-center"> <div class="header-meta layout vertical"> <div class="layout vertical center-center"> ${t.metaLogoUrl?W`<img class="logoImage" loading="lazy" src="${t.metaLogoUrl}" alt="Logo">`:H} ${t.metaImageUrl?W`<img class="shareImage" loading="lazy" src="${t.metaImageUrl}" alt="Image">`:H} <div ?hidden="${!t.metaTitle}" class="header-title"> ${t.metaTitle} </div> </div> ${t.summary?W`<div class="meta-description">${t.summary}</div>`:H} ${t.metaDate?W`<div hidden class="meta-date">${t.metaDate}</div>`:H} <a class="url" href="${t.url}" target="_blank">${t.url}</a> </div> </div> `}scrollToEvidenceType(t){const e=this.$$("#"+t);e&&e.scrollIntoView({behavior:"smooth"})}renderDropdown(){return W` <div class="dropdown ${this.showDropdown?"":"hidden"}"> <div class="jumpToPolicyTitle">${this.policy.title}</div> <md-outlined-select label="Jump to Evidence Type ..." .quick="${!0}" .required="${!1}" .disabled="${!1}" @change="${t=>this.scrollToEvidenceType(t.target.value)}"> ${Object.keys(this.groupedRawEvidence).map((t=>W`<md-select-option .value="${t}" .headline="${this.camelCaseToRegular(t)}"></md-select-option>`))} </md-outlined-select> </div> `}renderPieceOfEvidence(t){return W`<div class="layout vertical topEvidencePiece"> ${this.renderHeader(t)} <div class="layout horizontal center-center wrap"> ${this.renderShortList(t.url,"Policy Recommendations",t.whatPolicyNeedsToImplementInResponseToEvidence)} ${this.renderShortList(t.url,"Evidence Collected (unproven)",t.mostImportantPolicyEvidenceInTextContext)} ${this.renderShortList(t.url,"Policy Risks",t.risksForPolicy)} ${this.renderShortList(t.url,"Pros for Policy from source",t.prosForPolicyFoundInTextContext)} ${this.renderShortList(t.url,"Cons for Policy from source",t.consForPolicyFoundInTextContext)} ${this.renderShortList(t.url,"Academic Sources",t.evidenceOrganizationSources)} ${this.renderShortList(t.url,"Organization Sources",t.evidenceAcademicSources)} </div> </div>`}camelCaseToRegular(t){let e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}renderShortList(t,e,i){if(i&&0!==i.length){const n=3,r=`${t}-${e}`,o=this.showFullList[r]||!1,a=o?i:i.slice(0,n);return W`<div class="evidenceItem"> <div class="listTitle">${e}</div> <div> ${a.map(((t,e)=>W` <div class="listItem">${e+1}. ${t}</div>`))} </div> ${i.length>n?W` <md-text-button @click="${()=>this.toggleShowFullList(r)}"> ${o?this.t("Less"):`${this.t("More")} (${i.length-n})`} </md-text-button> `:H} </div>`}return H}toggleShowFullList(t){this.showFullList={...this.showFullList,[t]:!this.showFullList[t]},this.requestUpdate()}renderActiveRawEvidence(){return W` ${this.renderDropdown()} <div class="layout vertical center-center"> ${Object.keys(this.groupedRawEvidence).map((t=>W` <div id="${t}" class="title"> ${this.formatSearchType(t)} </div> <div class="rawEvidenceContainer layout vertical center-center"> ${this.groupedRawEvidence[t].map((t=>this.renderPieceOfEvidence(t)))} </div> `))} </div>`}render(){return this.loading?W`<div class="loading"> <md-circular-progress indeterminate></md-circular-progress> </div>`:this.activeRawEvidence?this.renderActiveRawEvidence():H}};Au.rawPolicyCache={},i([vt({type:Object}),n("design:type",Object)],Au.prototype,"memory",void 0),i([vt({type:Object}),n("design:type",Object)],Au.prototype,"policy",void 0),i([vt({type:Number}),n("design:type",Number)],Au.prototype,"activeSubProblemIndex",void 0),i([vt({type:Array}),n("design:type",Array)],Au.prototype,"activeRawEvidence",void 0),i([vt({type:Object}),n("design:type",Object)],Au.prototype,"groupedRawEvidence",void 0),i([vt({type:Boolean}),n("design:type",Object)],Au.prototype,"loading",void 0),i([vt({type:Boolean}),n("design:type",Object)],Au.prototype,"showDropdown",void 0),i([vt({type:Object}),n("design:type",Object)],Au.prototype,"showFullList",void 0),i([xt({passive:!0}),n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],Au.prototype,"handleScroll",null),Au=Cu=i([ft("ps-raw-evidence")],Au);
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Su=Bi(class extends Ui{constructor(t){super(t),this.tt=new WeakMap}render(t){return[t]}update(t,[e]){if(Qn(this.et)&&(!Qn(e)||this.et.strings!==e.strings)){const e=nr(t).pop();let i=this.tt.get(this.et.strings);if(void 0===i){const t=document.createDocumentFragment();i=dt(H,t),i.setConnected(!1),this.tt.set(this.et.strings,i)}ir(i,[e]),tr(i,void 0,e)}if(Qn(e)){if(!Qn(this.et)||this.et.strings!==e.strings){const i=this.tt.get(e.strings);if(void 0!==i){const e=nr(i).pop();(t=>{t._$AR()})(t),tr(t,void 0,e),ir(t,[e])}}this.et=e}else this.et=void 0;return this.render(e)}});let ku=class extends hs{constructor(){super(...arguments),this.isDropdownVisible=!1,this.searchText="",this.activeFilteredPolicyIndex=null,this.isSearchVisible=!1,this.hideExtraPolicyInformation=!1,this.groupListScrollPositionY=null,this.lastKeys=[],this.findBarProbablyOpen=!1,this.touchStartX=0,this.minSwipeDistance=100,this.policyListScrollPositionX=0,this.policyListScrollPositionY=0}updateRoutes(){this.fire("update-route",{activePolicyIndex:this.activePolicyIndex,activeSubProblemIndex:this.activeSubProblemIndex,activePopulationIndex:this.activePopulationIndex})}setSubProblem(t){this.activeSubProblemIndex=t,this.subProblemListScrollPositionX=window.scrollX,this.subProblemListScrollPositionY=window.scrollY,window.scrollTo(0,0),(this.firstTimeSubProblemClick||null===this.activePopulationIndex)&&(this.firstTimeSubProblemClick=!1,this.memory.subProblems.length>0&&this.memory.subProblems[this.activeSubProblemIndex].policies&&(this.activePopulationIndex=this.memory.subProblems[this.activeSubProblemIndex].policies.populations.length-1)),this.updateRoutes(),window.appGlobals.activity("Sub Problem - click")}async handleGroupButtonClick(t){if(this.activeGroupIndex===t)this.activeGroupIndex=null,await this.updateComplete,window.scrollTo(0,this.groupListScrollPositionY),this.groupListScrollPositionY=null,window.appGlobals.activity("Policies - deactive group filter");else{this.groupListScrollPositionY=window.scrollY,this.activeGroupIndex=t,await this.updateComplete;const e=this.shadowRoot.getElementById("policyList").getBoundingClientRect(),i=window.pageYOffset;window.scrollTo(0,e.top+i),window.appGlobals.activity("Policies - activate group filter")}}reset(){this.searchText="",this.isSearchVisible=!1,this.isDropdownVisible=!1,this.activePolicyIndex=null,this.activeSubProblemIndex=null,this.fire("yp-theme-color",this.subProblemColors[7])}async connectedCallback(){super.connectedCallback(),this.childType="policy",window.appGlobals.activity("Policies - open"),document.addEventListener("keydown",this.handleKeyDown.bind(this)),this.addEventListener("touchstart",this.handleTouchStart.bind(this)),this.addEventListener("touchend",this.handleTouchEnd.bind(this))}disconnectedCallback(){super.disconnectedCallback(),window.appGlobals.activity("Policies - close"),document.removeEventListener("keydown",this.handleKeyDown),this.removeEventListener("touchstart",this.handleTouchStart.bind(this)),this.removeEventListener("touchend",this.handleTouchEnd.bind(this))}updateSwipeIndex(t){"right"===t?null!==this.activePolicyIndex&&this.activeFilteredPolicyIndex<this.filteredPolicies.length-1?(this.activeFilteredPolicyIndex+=1,window.appGlobals.activity("Policies - swipe right")):null==this.activePolicyIndex&&null!==this.activeSubProblemIndex&&this.activeSubProblemIndex<vs.maxSubProblems-1&&(this.activeSubProblemIndex+=1,window.appGlobals.activity("Sub problem - swipe right")):"left"===t&&(null!==this.activePolicyIndex&&this.activeFilteredPolicyIndex>0?(this.activeFilteredPolicyIndex-=1,window.appGlobals.activity("Policies - swipe left")):null==this.activePolicyIndex&&null!==this.activeSubProblemIndex&&this.activeSubProblemIndex>0&&(this.activeSubProblemIndex-=1,window.appGlobals.activity("Sub problem - swipe left"))),this.setSubProblemColor(this.activeSubProblemIndex)}handleKeyDown(t){if(this.lastKeys.push(t.key),this.lastKeys.length>12&&this.lastKeys.shift(),this.findBarProbablyOpen=this.lastKeys.includes("Control")&&this.lastKeys.includes("f"),"Escape"===t.key&&this.findBarProbablyOpen)return this.lastKeys=[],this.findBarProbablyOpen=!1,void console.log("Doing my escape action.");"ArrowRight"===t.key?(this.updateSwipeIndex("right"),t.stopPropagation(),t.preventDefault()):"ArrowLeft"===t.key?(this.updateSwipeIndex("left"),t.stopPropagation(),t.preventDefault()):"Escape"!==t.key||this.findBarProbablyOpen||(null!==this.activePolicyIndex?(this.activePolicyIndex=null,this.exitPolicyScreen(),t.stopPropagation(),t.preventDefault()):null!==this.activeSubProblemIndex&&(this.activeSubProblemIndex=null,this.fire("yp-theme-color",this.subProblemColors[7]),this.exitSubProblemScreen()))}exitPolicyScreen(){setTimeout((()=>{window.scrollTo(this.policyListScrollPositionX,this.policyListScrollPositionY)}),10)}handleTouchStart(t){this.touchStartX=t.touches[0].clientX}handleTouchEnd(t){const e=this.touchStartX-t.changedTouches[0].clientX;if(Math.abs(e)<this.minSwipeDistance)return;let i=t.composedPath()[0];for(;i;){if(console.error(i.tagName),"true"===i.getAttribute("data-scrollable"))return;i=i.parentElement}e>0?this.updateSwipeIndex("right"):e<0&&this.updateSwipeIndex("left"),t.stopPropagation()}updated(t){if(super.updated(t),(t.has("searchText")||t.has("activePolicyIndex"))&&(this.activeFilteredPolicyIndex=this.filteredPolicies.findIndex((t=>t===this.memory.subProblems[this.activeSubProblemIndex].policies.populations[this.activePopulationIndex][this.activePolicyIndex]))),(t.has("activePolicyIndex")||t.has("activeSubProblemIndex")||t.has("activePopulationIndex"))&&this.updateRoutes(),t.has("activeFilteredPolicyIndex")&&null!==this.activeFilteredPolicyIndex&&null!==this.activePopulationIndex&&void 0!==this.activeFilteredPolicyIndex&&this.memory.subProblems[this.activeSubProblemIndex]&&this.memory.subProblems[this.activeSubProblemIndex].policies){const t=this.memory.subProblems[this.activeSubProblemIndex].policies.populations[this.activePopulationIndex],e=this.filteredPolicies[this.activeFilteredPolicyIndex],i=t.findIndex((t=>t===e));void 0!==i&&-1!==i&&(this.activePolicyIndex=i)}}static get styles(){return[super.styles,h`.topContainer{max-width:100%}md-outlined-text-field{width:180px;margin-top:-12px;margin-left:8px}md-outlined-text-field[middle-open]{margin-top:8px}md-outlined-icon-button{margin-left:8px;margin-right:8px;margin-top:-4px}md-outlined-select{margin-top:-12px;margin-left:8px;margin-right:8px}.generations{margin-top:24px;margin-bottom:16px;max-width:1100px}md-filter-chip{margin-bottom:8px}md-filter-chip[more-than-seven-items]{margin-bottom:8px;width:134px}.policyImage{padding:0;margin-top:-20px}.policyTopImage{vertical-align:top;margin-top:20px}.policyItem{text-align:left;background-color:var(--md-sys-color-secondary-container);color:var(--md-sys-color-on-secondary-container);border-radius:16px;padding:20px;margin:16px;max-width:600px;width:600px;font-size:22px;min-height:110px;display:flex;flex-direction:column;justify-content:left;align-items:left;cursor:pointer;line-height:1.4;vertical-align:middle;position:relative}.groupInfo{position:absolute;top:18px;right:4px}.policyAttributeHeader{font-size:22px;margin-top:6px;margin-bottom:6px;font-family:Cabin,sans-serif}.groupInfoText{font-size:18px;margin-top:6px;font-family:'Roboto Condensed',sans-serif;opacity:.55}.policyItem[has-image]{margin-bottom:24px}.policyItem[group-solo]{background-color:var(--md-sys-color-tertiary-container);color:var(--md-sys-color-on-tertiary-container)}.generationContainer{width:100%}.policy{text-align:left;background-color:var(--md-sys-color-surface);color:var(--md-sys-color-on-surface);border-radius:16px;padding:16px;margin:8px 0;max-width:1360px}.policyImageContainer{display:inline-block;margin-left:8px}.policyItemTitle{padding:8px;font-size:28px;font-family:'Roboto Condensed',sans-serif}.policyItemTitle[has-image]{margin-top:6px}.policyIndex{margin-right:8px}.proCon{margin:8px;padding:24px;max-width:410px;width:100%;background-color:var(--md-sys-color-on-tertiary);color:var(--md-sys-color-tertiary);border-radius:16px;font-size:20px;align-items:self-start;line-height:1.4}.policyItemEloRating{font-size:18px;margin-top:8px;opacity:.5}.ratingsHeader{font-size:22px;margin-bottom:4px;margin-top:16px;color:var(--md-sys-color-secondary)}.ratings{background-color:var(--md-sys-color-on-secondary);color:var(--md-sys-color-secondary);padding:32px;max-width:380px;width:380px;border-radius:16px;margin:32px;padding-top:8px;padding-bottom:32px}.rating{padding:8px;padding-bottom:0}.eloRatings{font-size:24px;color:var(--md-sys-color-primary);margin-bottom:24px}.prosConsHeader{font-size:24px;color:var(--md-sys-color-tertiary);font-weight:500;margin-bottom:8px}.policyTitle{font-size:26px;line-height:1.4;margin:8px;margin-left:8px;margin-right:8px;margin-top:16px;font-family:'Roboto Condensed',sans-serif}.policyTitleDesc{max-width:600px;margin-right:8px}.policyDescription{padding:8px;font-size:20px;line-height:1.4;margin-left:0;margin-right:8px}.policyAttributes{color:var(--md-sys-color-on-surface)}.policyAttributeHeader{color:var(--md-sys-color-primary)}.policyInfoContainer{max-width:600px}.cons,.pros{width:45%;padding:10px;margin:10px 0}@media (max-width:960px){.policyItemTitle{margin-top:0;padding-top:0;padding-bottom:16px}.policyTopImage{margin-top:10px}.policy{max-width:100%;margin-top:6px}.cons,.pros{width:100%;padding:16px;margin:8px;font-size:18px;max-width:100%}.proCon{font-size:16px;padding:16px;margin:8px}.ratings{max-width:320px;width:100%;margin:16px;font-size:16px;margin-right:0;margin-left:0}.policyItem{border-radius:24px;padding:32px;max-width:300px;width:100%;font-size:18px}.policyItem[has-image]{height:unset;margin-top:0;padding-bottom:12px;margin-bottom:16px}.policyDescription{font-size:16px;margin-left:0;margin-right:0}.policyTitle{font-size:20px;margin-left:0;margin-right:0}.policyAttributes{flex-direction:column}.groupInfo{position:unset;top:unset;margin-bottom:4px;margin-right:4px}.groupInfoText{font-size:18px;margin-top:6px;font-family:'Roboto Condensed',sans-serif;opacity:.55}.policyItemTitle{font-size:22px}}[hidden]{display:none!important}`]}get filteredPolicies(){let t=this.memory.subProblems[this.activeSubProblemIndex];if(t&&t.policies){let e=t.policies.populations[this.activePopulationIndex],i={};if(!e)return[];if(e.forEach((t=>{if(void 0!==t.similarityGroup){let e=t.similarityGroup.index;i[e]?t.similarityGroup.isFirst=void 0:(i[e]=t,t.similarityGroup.isFirst=!0)}})),null!==this.activePolicyIndex){const t=e[this.activePolicyIndex];t?.similarityGroup&&this.activeGroupIndex!==t.similarityGroup.index&&!t.similarityGroup.isFirst&&(this.activeGroupIndex=t.similarityGroup.index)}if(e=null!==this.activeGroupIndex?e.filter((t=>t.similarityGroup?.index===this.activeGroupIndex)):e.filter((t=>t.similarityGroup?.isFirst||void 0===t.similarityGroup)),this.searchText){const t=this.searchText.toLowerCase().split(" ");e=e.filter((e=>t.every((t=>e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)))))}return e}return[]}render(){const t=this.memory.subProblems||[];return null!==this.activePolicyIndex?this.renderPolicyScreen(null!==this.activeFilteredPolicyIndex?this.activeFilteredPolicyIndex:this.activePolicyIndex):null!==this.activeSubProblemIndex?this.renderSubProblemScreen(t[this.activeSubProblemIndex]):this.renderSubProblemList(t,this.t("Sub Problems and Policies"))}renderPolicyItem(t,e){return W` <div class="policyItem layout vertical center-center" ?has-image="${t.imageUrl}" ?group-solo="${null!==this.activeGroupIndex}" @click="${()=>{this.activeFilteredPolicyIndex=e,this.policyListScrollPositionX=window.scrollX,this.policyListScrollPositionY=window.scrollY,window.scrollTo(0,0),window.appGlobals.activity("Policies - open detail")}}"> ${t.imageUrl?W` <div> <img alt="${t.imagePrompt}" loading="lazy" class="policyImage" height="${this.wide?"365":"200"}" src="${this.fixImageUrlIfNeeded(t.imageUrl)}"> </div> `:W``} <div class="policyItemTitle" ?has-image="${t.imageUrl}"> ${t.title} </div> <div class="policyItemEloRating" ?hidden="${null===this.activeGroupIndex}"> ${vu.number(t.eloRating)} </div> ${void 0!==t.similarityGroup?.isFirst&&t.similarityGroup.isFirst?W` <div class="groupInfo layout ${this.wide?"vertical center-center":"horizontal"}"> <md-outlined-icon-button toggle ?selected="${this.activeGroupIndex===t.similarityGroup.index}" class="groupButton" @click="${e=>{e.stopPropagation(),this.handleGroupButtonClick(t.similarityGroup.index)}}"> <md-icon>unfold_more_double</md-icon> <md-icon slot="selectedIcon">close</md-icon> </md-outlined-icon-button> <div class="groupInfoText"> ${null===this.activeGroupIndex?W`+${t.similarityGroup.totalCount}`:H} </div> </div> `:W``} </div> `}renderSubProblemScreen(t){return W` <div class="topContainer layout vertical self-start"> <div class="layout horizontal center-center"> ${this.renderSubProblem(t,!1,0,!0,!0)} </div> <div class="layout horizontal center-center"> <div class="title">${this.t("Evolving Policies")}</div> </div> <div class="generationContainer layout vertical center-center"> ${this.renderChipSet(t)} <div id="policyList"> ${this.filteredPolicies.map(((t,e)=>this.renderPolicyItem(t,e)))} </div> </div> </div> `}renderChipSet(t){if(!t.policies)return H;if(t.policies.populations){let e,i,n;return this.wide?(e=t.policies.populations.slice(0,3),t.policies.populations.length>3?(i=t.policies.populations.slice(3,6),t.policies.populations.length>6?(i=t.policies.populations.slice(-3),n=t.policies.populations.slice(3,-3)):n=[]):(i=[],n=[]),7===t.policies.populations.length&&(n=t.policies.populations.slice(3,4))):(e=t.policies.populations.slice(0,1),i=t.policies.populations.slice(-1),n=t.policies.populations.slice(1,-1)),W` <md-chip-set class="generations layout horizontal wrap" type="filter" single-select> ${this.renderFilterChips(e,0)} ${this.renderDropdown(n,e.length)} ${this.renderFilterChips(i,t.policies.populations.length-i.length)} <md-outlined-icon-button ?hidden="${this.isSearchVisible}" @click="${this.toggleSearchVisibility}"> <md-icon>search</md-icon> </md-outlined-icon-button> ${this.isSearchVisible?this.renderSearchField():H} </md-chip-set> `}return H}toggleSearchVisibility(){this.isSearchVisible=!this.isSearchVisible,window.appGlobals.activity("Policies - toggle search")}renderSearchField(){return W` <md-outlined-text-field ?middle-open="${this.isDropdownVisible}" .label="${this.t("Filter")}" .value="${this.searchText}" @keyup="${t=>{this.searchText=t.target.value}}" @keydown="${t=>{"Escape"==t.key&&(t.stopPropagation(),t.preventDefault())}}" @blur="${this.handleSearchBlur}"></md-outlined-text-field> `}handleSearchBlur(){""===this.searchText.trim()&&(this.isSearchVisible=!1)}renderFilterChips(t,e){return t.map(((i,n)=>W`<md-filter-chip class="layout horizontal center-center" ?more-than-seven-items="${t.length>7}" label="Generation ${e+n+1}" .selected="${this.activePopulationIndex===e+n}" @click="${()=>{this.activePopulationIndex=e+n,this.resetDropdown(),window.appGlobals.activity("Policies - chose generation")}}"></md-filter-chip> `))}handleDropdownChange(t){const e=t.target,i=Number(e.value)-1;!isNaN(i)&&i>=0&&i<this.memory.subProblems.length&&(this.activePopulationIndex=i)}toggleDropdownVisibility(){window.appGlobals.activity("Policies - toggle dropdown"),this.isDropdownVisible=!this.isDropdownVisible,this.isDropdownVisible&&(this.memory.subProblems.length>3?this.activePopulationIndex=3:this.memory.subProblems.length>0?this.activePopulationIndex=this.memory.subProblems.length-1:this.activePopulationIndex=0)}resetDropdown(){this.shadowRoot.querySelector("md-outlined-select")&&(this.isDropdownVisible=!1)}renderDropdown(t,e){return t.length>0&&!this.isDropdownVisible?W` <md-outlined-icon-button @click="${this.toggleDropdownVisibility}"> <md-icon>expand_more</md-icon> </md-outlined-icon-button> `:t.length>0&&this.isDropdownVisible?W` <md-outlined-select label="Generation ..." .quick="${!0}" .required="${!1}" .disabled="${!1}" @change="${t=>this.handleDropdownChange(t)}"> ${t.map(((t,i)=>W`<md-select-option .value="${(e+i+1).toString()}" .headline="Generation ${e+i+1}"></md-select-option>`))} </md-outlined-select> `:H}camelCaseToRegular(t){let e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}renderRatings(t){return W` <div class="ratings" hidden> <div class="ratingsHeader eloRatings layout horizontal center-center"> <div> ${this.t("Elo Rating")}: ${vu.number(t.eloRating)} </div> </div> ${t.ratings?W` ${Object.entries(t.ratings).map((([t,e])=>W` <div class="ratingsHeader"> ${this.camelCaseToRegular(t)} </div> ${Object.entries(e).map((([t,e])=>W` <div class="rating"> ${this.camelCaseToRegular(t)}: ${e} </div> `))} `))} `:H} </div> `}renderPolicyNavigationButtons(t,e){return W` <div class="layout horizontal center-center"> <md-icon-button aria-label="Previous" .disabled="${0===t}" @click="${()=>{t>0&&(this.activeFilteredPolicyIndex=t-1,window.appGlobals.activity("Policies - click previous policy"))}}"> <md-icon>navigate_before</md-icon> </md-icon-button> <md-icon-button aria-label="Next" .disabled="${t===e.length-1}" @click="${()=>{t<e.length-1&&(this.activeFilteredPolicyIndex=t+1,window.appGlobals.activity("Policies - click next policy"))}}"> <md-icon>navigate_next</md-icon> </md-icon-button> <md-icon-button aria-label="Close" @click="${()=>{this.activePolicyIndex=null,this.activeFilteredPolicyIndex=null,this.exitPolicyScreen(),window.appGlobals.activity("Policies - exit policy detail")}}"> <md-icon>close</md-icon> </md-icon-button> </div> `}getPolicyImgHeight(){return this.wide?314:150}getPolicyImgWidth(){return this.wide?550:263}renderPolicyImage(t){return W` <div class="policyImageContainer"> <img loading="lazy" alt="${t.imagePrompt}" title="${t.imagePrompt}" class="policyTopImage" height="${this.getPolicyImgHeight()}" width="${this.getPolicyImgWidth()}" src="${this.fixImageUrlIfNeeded(t.imageUrl)}" .key="${t.imageUrl}"> </div> `}renderPolicyScreen(t){const e=this.filteredPolicies,i=e[t];return i?W` ${i.reaped?W`<div class="reapedInfo layout horizontal center-center"> <div>REAPED</div> </div>`:W` <div class="topContainer layout vertical center-center"> ${this.renderPolicyNavigationButtons(t,e)} <div class="policy layout ${this.wide?"horizontal":"vertical"} center-cener"> ${i.imageUrl&&!this.wide?this.renderPolicyImage(i):H} <div class="policyTitleDesc"> <div class="policyTitle">${i.title}</div> <div class="policyDescription">${i.description}</div> </div> ${i.imageUrl&&this.wide?this.renderPolicyImage(i):H} </div> <div class="layout vertical center-justified policyInfoContainer"> <div class="policyDescription" ?hidden="${this.hideExtraPolicyInformation}"> <div class="policyAttributeHeader"> ${this.t("Conditions for Success")} </div> <div class="policyAttributes"> ${i.conditionsForSuccess.map((t=>W`<div>${t}</div>`))} </div> </div> <div class="policyDescription" ?hidden="${this.hideExtraPolicyInformation}"> <div class="policyAttributeHeader"> ${this.t("Main Risks")} </div> <div class="policyAttributes"> ${i.mainRisks.map((t=>W`<div>${t}</div>`))} </div> </div> <div class="policyDescription" ?hidden="${this.hideExtraPolicyInformation}"> <div class="policyAttributeHeader"> ${this.t("Main Obstacles for Implemention")} </div> <div class="policyAttributes"> ${i.mainObstaclesForImplemention.map((t=>W`<div>${t}</div>`))} </div> </div> </div> ${this.renderRatings(i)} ${Su(W`<ps-raw-evidence .activeSubProblemIndex="${this.activeSubProblemIndex}" .policy="${i}" .memory="${this.memory}"></ps-raw-evidence>`)} ${this.renderPolicyNavigationButtons(t,e)} </div> `} `:H}};i([vt({type:Boolean}),n("design:type",Object)],ku.prototype,"isDropdownVisible",void 0),i([vt({type:String}),n("design:type",Object)],ku.prototype,"searchText",void 0),i([vt({type:Number}),n("design:type",Number)],ku.prototype,"activeFilteredPolicyIndex",void 0),i([vt({type:Boolean}),n("design:type",Object)],ku.prototype,"isSearchVisible",void 0),i([vt({type:Boolean}),n("design:type",Object)],ku.prototype,"hideExtraPolicyInformation",void 0),i([vt({type:Number}),n("design:type",Number)],ku.prototype,"groupListScrollPositionY",void 0),ku=i([ft("ps-policies")],ku);const _u={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},Tu=Object.keys(_u).map((t=>_u[t])).join(""),Pu="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",Mu=/\s/g,Nu=new RegExp(`^(${Pu}\\*)?([${Tu}])(/${Pu})?([-+]{1,2}${Pu})?$`,"g");function Lu(t){throw new Error(`Invalid calc() expression: ${t}`)}function Ou(t,e){const i=Nu.exec(t.replace(Mu,""));i||Lu(t),Nu.lastIndex=0;const[,n,r,o,a]=i,{x:s,y:l,width:c,height:d}=e;let u=0;switch(r){case _u.width:u=c;break;case _u.height:u=d;break;case _u.x:u=s;break;case _u.y:u=l;break;case _u.minimum:u=Math.min(d,c);break;case _u.maximum:u=Math.max(d,c);break;case _u.diagonal:u=Math.sqrt(d*d+c*c)}return n&&(u*=parseFloat(n)),o&&(u/=parseFloat(o.slice(1))),a&&(u+=function(t){if(!t)return 0;const[e]=t;switch(e){case"+":return parseFloat(t.substr(1));case"-":return-parseFloat(t.substr(1))}return parseFloat(t)}(a)),u}function Eu(t){return"string"==typeof t&&t.includes("calc")}const Du="calc(",zu=Du.length;function ju(t,e){let i=t,n=0;for(;;){let t=i.indexOf(Du,n);if(-1===t)return i;let r=t+zu,o=1;t:for(;;){switch(i[r]){case"(":o++;break;case")":if(o--,0===o)break t;break;case void 0:Lu(i)}r++}let a=i.slice(t+zu,r);Eu(a)&&(a=ju(a,e));const s=String(Ou(a,e));i=i.slice(0,t)+s+i.slice(r+1),n=t+s.length}}const{round:Ru,floor:Gu,PI:Bu}=Math,Uu=function(t){return t%360+(t<0?360:0)},Zu=function(t,e){return e*Ru(t/e)},$u=function(t){return 180*t/Bu%360},Fu=function(t,e){return(t=(e=e||!1)?t:t%360)*Bu/180},Wu=function(t,e){if(void 0===e)e=void 0===t?1:t,t=0;else if(e<t){const i=t;t=e,e=i}return Gu(Math.random()*(e-t+1)+t)},{cos:Vu,sin:Yu,atan2:Hu}=Math,Xu=function(t,e){var i=Fu(t.y),n=Fu(e.y),r=t.x,o=e.x,a=Fu(o-r),s=Yu(a)*Vu(n),l=Vu(i)*Yu(n)-Yu(i)*Vu(n)*Vu(a),c=$u(Hu(s,l))-22.5;return c<0&&(c+=360),["NE","E","SE","S","SW","W","NW","N"][c=parseInt(c/45)]},Ju=function(t,e){var i=t.x,n=t.y;return(i-=e.x)*i+(n-=e.y)*n},Qu=function(t,e){return Math.sqrt(Ju(t,e))},Ku={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8},{abs:qu,cos:th,sin:eh,sqrt:ih,min:nh,max:rh,atan2:oh,round:ah,pow:sh,PI:lh}=Math,ch=function(t,e){if(!(this instanceof ch))return new ch(t,e);if("string"==typeof t){var i=t.split(-1===t.indexOf("@")?" ":"@");t=parseFloat(i[0]),e=parseFloat(i[1])}else Object(t)===t&&(e=t.y,t=t.x);this.x=void 0===t?0:t,this.y=void 0===e?0:e};ch.fromPolar=function(t,e,i){i=new ch(i);var n=qu(t*th(e)),r=qu(t*eh(e)),o=Uu($u(e));return o<90?r=-r:o<180?(n=-n,r=-r):o<270&&(n=-n),new ch(i.x+n,i.y+r)},ch.random=function(t,e,i,n){return new ch(Wu(t,e),Wu(i,n))},ch.prototype={type:Ku.Point,chooseClosest:function(t){var e=t.length;if(1===e)return new ch(t[0]);for(var i=null,n=1/0,r=0;r<e;r++){var o=new ch(t[r]),a=this.squaredDistance(o);a<n&&(i=o,n=a)}return i},adhereToRect:function(t){return t.containsPoint(this)||(this.x=nh(rh(this.x,t.x),t.x+t.width),this.y=nh(rh(this.y,t.y),t.y+t.height)),this},angleBetween:function(t,e){var i=this.equals(t)||this.equals(e)?NaN:this.theta(e)-this.theta(t);return i<0&&(i+=360),i},bearing:function(t){return Xu(this,t)},changeInAngle:function(t,e,i){return this.clone().offset(-t,-e).theta(i)-this.theta(i)},clone:function(){return new ch(this)},cross:function(t,e){return t&&e?(e.x-this.x)*(t.y-this.y)-(e.y-this.y)*(t.x-this.x):NaN},difference:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),new ch(this.x-(t||0),this.y-(e||0))},distance:function(t){return Qu(this,t)},dot:function(t){return t?this.x*t.x+this.y*t.y:NaN},equals:function(t){return!!t&&this.x===t.x&&this.y===t.y},lerp:function(t,e){var i=this.x,n=this.y;return new ch((1-e)*i+e*t.x,(1-e)*n+e*t.y)},magnitude:function(){return ih(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(t){return qu(t.x-this.x)+qu(t.y-this.y)},move:function(t,e){var i=Fu(new ch(t).theta(this));return this.offset(th(i)*e,-eh(i)*e)},normalize:function(t){var e=(t||1)/this.magnitude();return this.scale(e,e)},offset:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),this.x+=t||0,this.y+=e||0,this},reflection:function(t){return new ch(t).move(this,this.distance(t))},rotate:function(t,e){if(0===e)return this;t=t||new ch(0,0),e=Fu(Uu(-e));var i=th(e),n=eh(e),r=i*(this.x-t.x)-n*(this.y-t.y)+t.x,o=n*(this.x-t.x)+i*(this.y-t.y)+t.y;return this.x=r,this.y=o,this},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=sh(10,t)}return this.x=ah(this.x*e)/e,this.y=ah(this.y*e)/e,this},scale:function(t,e,i){return i=i&&new ch(i)||new ch(0,0),this.x=i.x+t*(this.x-i.x),this.y=i.y+e*(this.y-i.y),this},snapToGrid:function(t,e){return this.x=Zu(this.x,t),this.y=Zu(this.y,e||t),this},squaredDistance:function(t){return Ju(this,t)},theta:function(t){var e=-((t=new ch(t)).y-this.y),i=t.x-this.x,n=oh(e,i);return n<0&&(n=2*lh+n),180*n/lh},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(t){t=t&&new ch(t)||new ch(0,0);var e=this.x,i=this.y;return this.x=ih((e-t.x)*(e-t.x)+(i-t.y)*(i-t.y)),this.y=Fu(t.theta(new ch(e,i))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),this.x=t||0,this.y=e||0,this},vectorAngle:function(t){return new ch(0,0).angleBetween(this,t)}},ch.prototype.translate=ch.prototype.offset;const dh=ch,{max:uh,min:hh}=Math,ph=function(t,e){return this instanceof ph?t instanceof ph?new ph(t.start,t.end):(this.start=new ch(t),void(this.end=new ch(e))):new ph(t,e)};ph.prototype={type:Ku.Line,angle:function(){var t=new ch(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,t)},bbox:function(){var t=hh(this.start.x,this.end.x),e=hh(this.start.y,this.end.y),i=uh(this.start.x,this.end.x),n=uh(this.start.y,this.end.y);return new _h(t,e,i-t,n-e)},bearing:function(){return Xu(this.start,this.end)},clone:function(){return new ph(this.start,this.end)},closestPoint:function(t){return this.pointAt(this.closestPointNormalizedLength(t))},closestPointLength:function(t){return this.closestPointNormalizedLength(t)*this.length()},closestPointNormalizedLength:function(t){var e=this.vector().dot(new ph(this.start,t).vector()),i=hh(1,uh(0,e/this.squaredLength()));return i!=i?0:i},closestPointTangent:function(t){return this.tangentAt(this.closestPointNormalizedLength(t))},containsPoint:function(t){var e=this.start,i=this.end;if(0!==e.cross(t,i))return!1;var n=this.length();return!(new ph(e,t).length()>n)&&!(new ph(t,i).length()>n)},divideAt:function(t){var e=this.pointAt(t);return[new ph(this.start,e),new ph(e,this.end)]},divideAtLength:function(t){var e=this.pointAtLength(t);return[new ph(this.start,e),new ph(e,this.end)]},equals:function(t){return!!t&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.end.x===t.end.x&&this.end.y===t.end.y},intersect:function(t,e){if(t&&t.intersectionWithLine){var i=t.intersectionWithLine(this,e);return i&&t instanceof ph&&(i=i[0]),i}return null},intersectionWithLine:function(t){var e=new ch(this.end.x-this.start.x,this.end.y-this.start.y),i=new ch(t.end.x-t.start.x,t.end.y-t.start.y),n=e.x*i.y-e.y*i.x,r=new ch(t.start.x-this.start.x,t.start.y-this.start.y),o=r.x*i.y-r.y*i.x,a=r.x*e.y-r.y*e.x;if(0===n||o*n<0||a*n<0)return null;if(n>0){if(o>n||a>n)return null}else if(o<n||a<n)return null;return[new ch(this.start.x+o*e.x/n,this.start.y+o*e.y/n)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return Qu(this.start,this.end)},midpoint:function(){return new ch((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(t){const e=this.clone();if(!this.isDifferentiable())return e;const{start:i,end:n}=e,r=i.clone().rotate(n,270),o=n.clone().rotate(i,90);return i.move(o,t),n.move(r,t),e},pointAt:function(t){var e=this.start,i=this.end;return t<=0?e.clone():t>=1?i.clone():e.lerp(i,t)},pointAtLength:function(t){var e=this.start,i=this.end,n=!0;t<0&&(n=!1,t=-t);var r=this.length();return t>=r?n?i.clone():e.clone():this.pointAt((n?t:r-t)/r)},pointOffset:function(t){t=new ch(t);var e=this.start,i=this.end;return((i.x-e.x)*(t.y-e.y)-(i.y-e.y)*(t.x-e.x))/this.length()},rotate:function(t,e){return this.start.rotate(t,e),this.end.rotate(t,e),this},round:function(t){return this.start.round(t),this.end.round(t),this},scale:function(t,e,i){return this.start.scale(t,e,i),this.end.scale(t,e,i),this},setLength:function(t){var e=this.length();if(!e)return this;var i=t/e;return this.scale(i,i,this.start)},squaredLength:function(){return Ju(this.start,this.end)},tangentAt:function(t){if(!this.isDifferentiable())return null;var e=this.start,i=this.end,n=this.pointAt(t),r=new ph(e,i);return r.translate(n.x-e.x,n.y-e.y),r},tangentAtLength:function(t){if(!this.isDifferentiable())return null;var e=this.start,i=this.end,n=this.pointAtLength(t),r=new ph(e,i);return r.translate(n.x-e.x,n.y-e.y),r},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(t,e){return this.start.translate(t,e),this.end.translate(t,e),this},vector:function(){return new ch(this.end.x-this.start.x,this.end.y-this.start.y)}},ph.prototype.intersection=ph.prototype.intersect;const gh=ph,{sqrt:fh,round:mh,pow:vh}=Math,bh=function(t,e,i){return this instanceof bh?t instanceof bh?new bh(new ch(t.x,t.y),t.a,t.b):(t=new ch(t),this.x=t.x,this.y=t.y,this.a=e,void(this.b=i)):new bh(t,e,i)};bh.fromRect=function(t){return t=new _h(t),new bh(t.center(),t.width/2,t.height/2)},bh.prototype={type:Ku.Ellipse,bbox:function(){return new _h(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new ch(this.x,this.y)},clone:function(){return new bh(this)},containsPoint:function(t){return this.normalizedDistance(t)<=1},equals:function(t){return!!t&&t.x===this.x&&t.y===this.y&&t.a===this.a&&t.b===this.b},inflate:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.a+=2*t,this.b+=2*e,this},intersectionWithLine:function(t){var e=[],i=t.start,n=t.end,r=this.a,o=this.b,a=t.vector(),s=i.difference(new ch(this)),l=new ch(a.x/(r*r),a.y/(o*o)),c=new ch(s.x/(r*r),s.y/(o*o)),d=a.dot(l),u=a.dot(c),h=u*u-d*(s.dot(c)-1);if(h<0)return null;if(h>0){var p=fh(h),g=(-u-p)/d,f=(-u+p)/d;if((g<0||1<g)&&(f<0||1<f))return null;0<=g&&g<=1&&e.push(i.lerp(n,g)),0<=f&&f<=1&&e.push(i.lerp(n,f))}else{var m=-u/d;if(!(0<=m&&m<=1))return null;e.push(i.lerp(n,m))}return e},intersectionWithLineFromCenterToPoint:function(t,e){t=new ch(t),e&&t.rotate(new ch(this.x,this.y),e);var i,n=t.x-this.x,r=t.y-this.y;if(0===n)return i=this.bbox().pointNearestToPoint(t),e?i.rotate(new ch(this.x,this.y),-e):i;var o=r/n,a=o*o,s=this.a*this.a,l=this.b*this.b,c=fh(1/(1/s+a/l)),d=o*(c=n<0?-c:c);return i=new ch(this.x+c,this.y+d),e?i.rotate(new ch(this.x,this.y),-e):i},normalizedDistance:function(t){var e=t.x,i=t.y,n=this.a,r=this.b,o=this.x,a=this.y;return(e-o)*(e-o)/(n*n)+(i-a)*(i-a)/(r*r)},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=vh(10,t)}return this.x=mh(this.x*e)/e,this.y=mh(this.y*e)/e,this.a=mh(this.a*e)/e,this.b=mh(this.b*e)/e,this},tangentTheta:function(t){var e,i,n=t.x,r=t.y,o=this.a,a=this.b,s=this.bbox().center(),l=s.x,c=s.y,d=n>s.x+o/2,u=n<s.x-o/2;return d||u?i=o*o/(n-l)-o*o*(r-c)*((e=n>s.x?r-30:r+30)-c)/(a*a*(n-l))+l:e=a*a/(r-c)-a*a*(n-l)*((i=r>s.y?n+30:n-30)-l)/(o*o*(r-c))+c,new ch(i,e).theta(t)},toString:function(){return new ch(this.x,this.y).toString()+" "+this.a+" "+this.b}};const yh=bh,{abs:xh,cos:wh,sin:Ih,min:Ch,max:Ah,round:Sh,pow:kh}=Math,_h=function(t,e,i,n){if(!(this instanceof _h))return new _h(t,e,i,n);Object(t)===t&&(e=t.y,i=t.width,n=t.height,t=t.x),this.x=void 0===t?0:t,this.y=void 0===e?0:e,this.width=void 0===i?0:i,this.height=void 0===n?0:n};_h.fromEllipse=function(t){return t=new bh(t),new _h(t.x-t.a,t.y-t.b,2*t.a,2*t.b)},_h.fromPointUnion=function(...t){if(0===t.length)return null;const e=new ch;let i,n,r,o;i=n=1/0,r=o=-1/0;for(let a=0;a<t.length;a++){e.update(t[a]);const s=e.x,l=e.y;s<i&&(i=s),s>r&&(r=s),l<n&&(n=l),l>o&&(o=l)}return new _h(i,n,r-i,o-n)},_h.fromRectUnion=function(...t){if(0===t.length)return null;const e=new _h;let i,n,r,o;i=n=1/0,r=o=-1/0;for(let a=0;a<t.length;a++){e.update(t[a]);const s=e.x,l=e.y,c=s+e.width,d=l+e.height;s<i&&(i=s),c>r&&(r=c),l<n&&(n=l),d>o&&(o=d)}return new _h(i,n,r-i,o-n)},_h.prototype={type:Ku.Rect,bbox:function(t){return this.clone().rotateAroundCenter(t)},rotateAroundCenter:function(t){if(!t)return this;const{width:e,height:i}=this,n=Fu(t),r=xh(Ih(n)),o=xh(wh(n)),a=e*o+i*r,s=e*r+i*o;return this.x+=(e-a)/2,this.y+=(i-s)/2,this.width=a,this.height=s,this},bottomLeft:function(){return new ch(this.x,this.y+this.height)},bottomLine:function(){return new ph(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new ch(this.x+this.width/2,this.y+this.height)},center:function(){return new ch(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new _h(this)},containsPoint:function(t){return t instanceof ch||(t=new ch(t)),t.x>=this.x&&t.x<=this.x+this.width&&t.y>=this.y&&t.y<=this.y+this.height},containsRect:function(t){var e=new _h(this).normalize(),i=new _h(t).normalize(),n=e.width,r=e.height,o=i.width,a=i.height;if(!(n&&r&&o&&a))return!1;var s=e.x,l=e.y,c=i.x,d=i.y;return o+=c,n+=s,a+=d,r+=l,s<=c&&o<=n&&l<=d&&a<=r},corner:function(){return new ch(this.x+this.width,this.y+this.height)},equals:function(t){var e=new _h(this).normalize(),i=new _h(t).normalize();return e.x===i.x&&e.y===i.y&&e.width===i.width&&e.height===i.height},inflate:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},intersect:function(t){var e=this.origin(),i=this.corner(),n=t.origin(),r=t.corner();if(r.x<=e.x||r.y<=e.y||n.x>=i.x||n.y>=i.y)return null;var o=Ah(e.x,n.x),a=Ah(e.y,n.y);return new _h(o,a,Ch(i.x,r.x)-o,Ch(i.y,r.y)-a)},intersectionWithLine:function(t){var e,i,n=this,r=[n.topLine(),n.rightLine(),n.bottomLine(),n.leftLine()],o=[],a=[],s=r.length;for(i=0;i<s;i++)null!==(e=t.intersect(r[i]))&&a.indexOf(e.toString())<0&&(o.push(e),a.push(e.toString()));return o.length>0?o:null},intersectionWithLineFromCenterToPoint:function(t,e){t=new ch(t);var i,n=new ch(this.x+this.width/2,this.y+this.height/2);e&&t.rotate(n,e);for(var r=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],o=new ph(n,t),a=r.length-1;a>=0;--a){var s=r[a].intersection(o);if(null!==s){i=s;break}}return i&&e&&i.rotate(n,-e),i},leftLine:function(){return new ph(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new ch(this.x,this.y+this.height/2)},maxRectScaleToFit:function(t,e){var i,n,r,o,a,s,l,c;t=new _h(t),e||(e=t.center());var d=e.x,u=e.y;i=n=r=o=a=s=l=c=1/0;var h=t.topLeft();h.x<d&&(i=(this.x-d)/(h.x-d)),h.y<u&&(a=(this.y-u)/(h.y-u));var p=t.bottomRight();p.x>d&&(n=(this.x+this.width-d)/(p.x-d)),p.y>u&&(s=(this.y+this.height-u)/(p.y-u));var g=t.topRight();g.x>d&&(r=(this.x+this.width-d)/(g.x-d)),g.y<u&&(l=(this.y-u)/(g.y-u));var f=t.bottomLeft();return f.x<d&&(o=(this.x-d)/(f.x-d)),f.y>u&&(c=(this.y+this.height-u)/(f.y-u)),{sx:Ch(i,n,r,o),sy:Ch(a,s,l,c)}},maxRectUniformScaleToFit:function(t,e){var i=this.maxRectScaleToFit(t,e);return Ch(i.sx,i.sy)},moveAndExpand:function(t){return this.x+=t.x||0,this.y+=t.y||0,this.width+=t.width||0,this.height+=t.height||0,this},normalize:function(){var t=this.x,e=this.y,i=this.width,n=this.height;return this.width<0&&(t=this.x+this.width,i=-this.width),this.height<0&&(e=this.y+this.height,n=-this.height),this.x=t,this.y=e,this.width=i,this.height=n,this},offset:function(t,e){return ch.prototype.offset.call(this,t,e)},origin:function(){return new ch(this.x,this.y)},pointNearestToPoint:function(t){if(t=new ch(t),this.containsPoint(t))switch(this.sideNearestToPoint(t)){case"right":return new ch(this.x+this.width,t.y);case"left":return new ch(this.x,t.y);case"bottom":return new ch(t.x,this.y+this.height);case"top":return new ch(t.x,this.y)}return t.adhereToRect(this)},rightLine:function(){return new ph(this.topRight(),this.bottomRight())},rightMiddle:function(){return new ch(this.x+this.width,this.y+this.height/2)},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=kh(10,t)}return this.x=Sh(this.x*e)/e,this.y=Sh(this.y*e)/e,this.width=Sh(this.width*e)/e,this.height=Sh(this.height*e)/e,this},scale:function(t,e,i){return i=this.origin().scale(t,e,i),this.x=i.x,this.y=i.y,this.width*=t,this.height*=e,this},sideNearestToPoint:function(t){var e=(t=new ch(t)).x-this.x,i=this.x+this.width-t.x,n=t.y-this.y,r=e,o="left";return i<r&&(r=i,o="right"),n<r&&(r=n,o="top"),this.y+this.height-t.y<r&&(o="bottom"),o},snapToGrid:function(t,e){var i=this.origin().snapToGrid(t,e),n=this.corner().snapToGrid(t,e);return this.x=i.x,this.y=i.y,this.width=n.x-i.x,this.height=n.y-i.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new ph(this.topLeft(),this.topRight())},topMiddle:function(){return new ch(this.x+this.width/2,this.y)},topRight:function(){return new ch(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(t){return _h.fromRectUnion(this,t)},update:function(t,e,i,n){return Object(t)===t&&(e=t.y,i=t.width,n=t.height,t=t.x),this.x=t||0,this.y=e||0,this.width=i||0,this.height=n||0,this}},_h.prototype.bottomRight=_h.prototype.corner,_h.prototype.topLeft=_h.prototype.origin,_h.prototype.translate=_h.prototype.offset;const Th=_h;function Ph(t){const e=t.trim();if(""===e)return[];const i=[],n=e.split(/\b\s*,\s*|,\s*|\s+/),r=n.length;for(let t=0;t<r;t+=2)i.push({x:+n[t],y:+n[t+1]});return i}function Mh(t){const e=t.length;if(0===e)return[];const i=[];for(let n=0;n<e;n++){const e=t[n].clone();i.push(e)}return i}function Nh(t){const{abs:e}=Math;var i,n,r,o=t.length;if(0===o)return[];for(i=0;i<o;i++)(void 0===r||t[i].y<r.y||t[i].y===r.y&&t[i].x>r.x)&&(r=t[i]);var a=[];for(i=0;i<o;i++){var s=r.theta(t[i]);0===s&&(s=360);var l=[t[i],i,s];a.push(l)}if(a.sort((function(t,e){var i=t[2]-e[2];return 0===i&&(i=e[1]-t[1]),i})),a.length>2){var c=a[a.length-1];a.unshift(c)}for(var d,u,h,p,g,f,m,v={},b=[];0!==a.length;)if(u=(d=a.pop())[0],!v.hasOwnProperty(d[0]+"@@"+d[1]))for(var y=!1;!y;)if(b.length<2)b.push(d),y=!0;else{p=(h=b.pop())[0];var x=(f=(g=b.pop())[0]).cross(p,u);if(x<0)b.push(g),b.push(h),b.push(d),y=!0;else if(0===x){var w=p.angleBetween(f,u);e(w-180)<1e-10||p.equals(u)||f.equals(p)?(v[h[0]+"@@"+h[1]]=p,b.push(g)):e((w+1)%360-1)<1e-10&&(b.push(g),a.push(h))}else v[h[0]+"@@"+h[1]]=p,b.push(g)}b.length>2&&b.pop();var I=-1;for(n=b.length,i=0;i<n;i++){var C=b[i][1];(void 0===m||C<m)&&(m=C,I=i)}var A=[];if(I>0){var S=b.slice(I),k=b.slice(0,I);A=S.concat(k)}else A=b;var _=[];for(n=A.length,i=0;i<n;i++)_.push(A[i][0]);return _}const Lh=function(t){return this instanceof Lh?"string"==typeof t?new Lh.parse(t):void(this.points=Array.isArray(t)?t.map(ch):[]):new Lh(t)};Lh.parse=function(t){return new Lh(Ph(t))},Lh.fromRect=function(t){return new Lh([t.topLeft(),t.topRight(),t.bottomRight(),t.bottomLeft(),t.topLeft()])},Lh.prototype={type:Ku.Polyline,bbox:function(){var t=1/0,e=-1/0,i=1/0,n=-1/0,r=this.points,o=r.length;if(0===o)return null;for(var a=0;a<o;a++){var s=r[a],l=s.x,c=s.y;l<t&&(t=l),l>e&&(e=l),c<i&&(i=c),c>n&&(n=c)}return new _h(t,i,e-t,n-i)},clone:function(){return new Lh(Mh(this.points))},closestPoint:function(t){var e=this.closestPointLength(t);return this.pointAtLength(e)},closestPointLength:function(t){var e,i=this.lengthPoints(),n=i.length;if(0===n)return 0;if(1===n)return 0;for(var r=1/0,o=0,a=n-1,s=0;s<a;s++){var l=new ph(i[s],i[s+1]),c=l.length(),d=l.closestPointNormalizedLength(t),u=l.pointAt(d).squaredDistance(t);u<r&&(r=u,e=o+d*c),o+=c}return e},closestPointNormalizedLength:function(t){var e=this.closestPointLength(t);if(0===e)return 0;var i=this.length();return 0===i?0:e/i},closestPointTangent:function(t){var e=this.closestPointLength(t);return this.tangentAtLength(e)},containsPoint:function(t){var e=this.points,i=e.length;if(0===i)return!1;for(var n=t.x,r=t.y,o=i-1,a=0,s=0,l=new ph,c=new ph,d=new ch;a<i;a++){var u=e[o],h=e[a];if(t.equals(u))return!0;if(l.start=u,l.end=h,l.containsPoint(t))return!0;if(r<=u.y&&r>h.y||r>u.y&&r<=h.y){var p=u.x-n>h.x-n?u.x-n:h.x-n;p>=0&&(d.x=n+p,d.y=r,c.start=t,c.end=d,l.intersect(c)&&s++)}o=a}return s%2==1},close:function(){const{start:t,end:e,points:i}=this;return t&&e&&!t.equals(e)&&i.push(t.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new Lh(Nh(this.points))},equals:function(t){if(!t)return!1;var e=this.points,i=t.points,n=e.length;if(i.length!==n)return!1;for(var r=0;r<n;r++){var o=e[r],a=t.points[r];if(!o.equals(a))return!1}return!0},intersectionWithLine:function(t){for(var e=new ph(t),i=[],n=this.lengthPoints(),r=new ph,o=0,a=n.length-1;o<a;o++){r.start=n[o],r.end=n[o+1];var s=e.intersectionWithLine(r);s&&i.push(s[0])}return i.length>0?i:null},isDifferentiable:function(){var t=this.points,e=t.length;if(0===e)return!1;for(var i=new ph,n=e-1,r=0;r<n;r++)if(i.start=t[r],i.end=t[r+1],i.isDifferentiable())return!0;return!1},length:function(){var t=this.lengthPoints(),e=t.length;if(0===e)return 0;for(var i=0,n=e-1,r=0;r<n;r++)i+=t[r].distance(t[r+1]);return i},pointAt:function(t){var e=this.lengthPoints(),i=e.length;if(0===i)return null;if(1===i)return e[0].clone();if(t<=0)return e[0].clone();if(t>=1)return e[i-1].clone();var n=this.length()*t;return this.pointAtLength(n)},pointAtLength:function(t){var e=this.lengthPoints(),i=e.length;if(0===i)return null;if(1===i)return e[0].clone();var n=!0;t<0&&(n=!1,t=-t);for(var r=0,o=i-1,a=0;a<o;a++){var s=n?a:o-1-a,l=e[s],c=e[s+1],d=new ph(l,c),u=l.distance(c);if(t<=r+u)return d.pointAtLength((n?1:-1)*(t-r));r+=u}return(n?e[i-1]:e[0]).clone()},round:function(t){for(var e=this.points,i=e.length,n=0;n<i;n++)e[n].round(t);return this},scale:function(t,e,i){for(var n=this.points,r=n.length,o=0;o<r;o++)n[o].scale(t,e,i);return this},simplify:function(t={}){const e=this.points;if(e.length<3)return this;const i=t.threshold||1e-10;let n=0;for(;e[n+2];){const t=n+1,r=n+2,o=e[n],a=e[t],s=e[r];new ph(o,s).closestPoint(a).distance(a)<=i?e.splice(t,1):n+=1}return this},tangentAt:function(t){var e=this.lengthPoints().length;if(0===e)return null;if(1===e)return null;t<0&&(t=0),t>1&&(t=1);var i=this.length()*t;return this.tangentAtLength(i)},tangentAtLength:function(t){var e=this.lengthPoints(),i=e.length;if(0===i)return null;if(1===i)return null;var n,r=!0;t<0&&(r=!1,t=-t);for(var o=0,a=i-1,s=0;s<a;s++){var l=r?s:a-1-s,c=e[l],d=e[l+1],u=new ph(c,d),h=c.distance(d);if(u.isDifferentiable()){if(t<=o+h)return u.tangentAtLength((r?1:-1)*(t-o));n=u}o+=h}if(n){var p=r?1:0;return n.tangentAt(p)}return null},toString:function(){return this.points+""},translate:function(t,e){for(var i=this.points,n=i.length,r=0;r<n;r++)i[r].translate(t,e);return this},serialize:function(){var t=this.points,e=t.length;if(0===e)return"";for(var i="",n=0;n<e;n++){var r=t[n];i+=r.x+","+r.y+" "}return i.trim()}},Object.defineProperty(Lh.prototype,"start",{configurable:!0,enumerable:!0,get:function(){return 0===this.points.length?null:this.points[0]}}),Object.defineProperty(Lh.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.points.length;return 0===t?null:this.points[t-1]}});const{abs:Oh,sqrt:Eh,min:Dh,max:zh,pow:jh}=Math,Rh=function(t,e,i,n){return this instanceof Rh?t instanceof Rh?new Rh(t.start,t.controlPoint1,t.controlPoint2,t.end):(this.start=new ch(t),this.controlPoint1=new ch(e),this.controlPoint2=new ch(i),void(this.end=new ch(n))):new Rh(t,e,i,n)};function Gh(t){var e,i,n=[];for(i=arguments.length,e=1;e<i;e++)n.push(arguments[e]);if(!t)throw new Error("Missing a parent object.");var r=Object.create(t);for(i=n.length,e=0;e<i;e++){var o,a,s=n[e];for(a in s)s.hasOwnProperty(a)&&(delete r[a],o=Object.getOwnPropertyDescriptor(s,a),Object.defineProperty(r,a,o))}return r}Rh.throughPoints=function(){function t(t){var e=t.length,i=[],n=[],r=2;i[0]=t[0]/r;for(var o=1;o<e;o++)n[o]=1/r,r=(o<e-1?4:3.5)-n[o],i[o]=(t[o]-i[o-1])/r;for(o=1;o<e;o++)i[e-o-1]-=n[e-o]*i[e-o];return i}return function(e){if(!e||Array.isArray(e)&&e.length<2)throw new Error("At least 2 points are required");for(var i=function(e){var i,n=[],r=[],o=e.length-1;if(1==o)return n[0]=new ch((2*e[0].x+e[1].x)/3,(2*e[0].y+e[1].y)/3),r[0]=new ch(2*n[0].x-e[0].x,2*n[0].y-e[0].y),[n,r];var a=[];for(i=1;i<o-1;i++)a[i]=4*e[i].x+2*e[i+1].x;a[0]=e[0].x+2*e[1].x,a[o-1]=(8*e[o-1].x+e[o].x)/2;var s=t(a);for(i=1;i<o-1;++i)a[i]=4*e[i].y+2*e[i+1].y;a[0]=e[0].y+2*e[1].y,a[o-1]=(8*e[o-1].y+e[o].y)/2;var l=t(a);for(i=0;i<o;i++)n.push(new ch(s[i],l[i])),i<o-1?r.push(new ch(2*e[i+1].x-s[i+1],2*e[i+1].y-l[i+1])):r.push(new ch((e[o].x+s[o-1])/2,(e[o].y+l[o-1])/2));return[n,r]}(e),n=[],r=i[0].length,o=0;o<r;o++){var a=new ch(i[0][o].x,i[0][o].y),s=new ch(i[1][o].x,i[1][o].y);n.push(new Rh(e[o],a,s,e[o+1]))}return n}}(),Rh.prototype={type:Ku.Curve,bbox:function(){for(var t,e,i,n,r,o,a,s,l=this.start,c=this.controlPoint1,d=this.controlPoint2,u=this.end,h=l.x,p=l.y,g=c.x,f=c.y,m=d.x,v=d.y,b=u.x,y=u.y,x=new Array,w=new Array,I=[new Array,new Array],C=0;C<2;++C)if(0===C?(e=6*h-12*g+6*m,t=-3*h+9*g-9*m+3*b,i=3*g-3*h):(e=6*p-12*f+6*v,t=-3*p+9*f-9*v+3*y,i=3*f-3*p),Oh(t)<1e-12){if(Oh(e)<1e-12)continue;0<(n=-i/e)&&n<1&&w.push(n)}else s=Eh(a=e*e-4*i*t),a<0||(0<(r=(-e+s)/(2*t))&&r<1&&w.push(r),0<(o=(-e-s)/(2*t))&&o<1&&w.push(o));for(var A,S,k,_=w.length,T=_;_--;)S=(A=1-(n=w[_]))*A*A*h+3*A*A*n*g+3*A*n*n*m+n*n*n*b,I[0][_]=S,k=A*A*A*p+3*A*A*n*f+3*A*n*n*v+n*n*n*y,I[1][_]=k,x[_]={X:S,Y:k};w[T]=0,w[T+1]=1,x[T]={X:h,Y:p},x[T+1]={X:b,Y:y},I[0][T]=h,I[1][T]=p,I[0][T+1]=b,I[1][T+1]=y,w.length=T+2,I[0].length=T+2,I[1].length=T+2,x.length=T+2;var P=Dh.apply(null,I[0]),M=Dh.apply(null,I[1]),N=zh.apply(null,I[0]),L=zh.apply(null,I[1]);return new _h(P,M,N-P,L-M)},clone:function(){return new Rh(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(t,e){return this.pointAtT(this.closestPointT(t,e))},closestPointLength:function(t,e){var i=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n={precision:i,subdivisions:void 0===e.subdivisions?this.getSubdivisions({precision:i}):e.subdivisions};return this.lengthAtT(this.closestPointT(t,n),n)},closestPointNormalizedLength:function(t,e){var i=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n={precision:i,subdivisions:void 0===e.subdivisions?this.getSubdivisions({precision:i}):e.subdivisions},r=this.closestPointLength(t,n);if(!r)return 0;var o=this.length(n);return 0===o?0:r/o},closestPointT:function(t,e){for(var i,n,r,o,a,s,l,c=void 0===(e=e||{}).precision?this.PRECISION:e.precision,d=void 0===e.subdivisions?this.getSubdivisions({precision:c}):e.subdivisions,u=d.length,h=u?1/u:0,p=0;p<u;p++){var g=d[p],f=g.start.distance(t),m=g.end.distance(t),v=f+m;(!l||v<l)&&(i=g,n=p*h,r=(p+1)*h,o=f,a=m,s=g.start.distance(g.end),l=v)}for(var b=jh(10,-c);;){var y=o?Oh(o-a)/o:0,x=a?Oh(o-a)/a:0;if(y<b||x<b||(!o||o<s*b||(!a||a<s*b)))return o<=a?n:r;var w=i.divide(.5);h/=2;var I=w[0].start.distance(t),C=w[0].end.distance(t),A=I+C,S=w[1].start.distance(t),k=w[1].end.distance(t);A<=S+k?(i=w[0],r-=h,o=I,a=C):(i=w[1],n+=h,o=S,a=k)}},closestPointTangent:function(t,e){return this.tangentAtT(this.closestPointT(t,e))},containsPoint:function(t,e){return this.toPolyline(e).containsPoint(t)},divideAt:function(t,e){if(t<=0)return this.divideAtT(0);if(t>=1)return this.divideAtT(1);var i=this.tAt(t,e);return this.divideAtT(i)},divideAtLength:function(t,e){var i=this.tAtLength(t,e);return this.divideAtT(i)},divideAtT:function(t){var e=this.start,i=this.controlPoint1,n=this.controlPoint2,r=this.end;if(t<=0)return[new Rh(e,e,e,e),new Rh(e,i,n,r)];if(t>=1)return[new Rh(e,i,n,r),new Rh(r,r,r,r)];var o=this.getSkeletonPoints(t),a=o.startControlPoint1,s=o.startControlPoint2,l=o.divider,c=o.dividerControlPoint1,d=o.dividerControlPoint2;return[new Rh(e,a,s,l),new Rh(l,c,d,r)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(t){return!!t&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.controlPoint1.x===t.controlPoint1.x&&this.controlPoint1.y===t.controlPoint1.y&&this.controlPoint2.x===t.controlPoint2.x&&this.controlPoint2.y===t.controlPoint2.y&&this.end.x===t.end.x&&this.end.y===t.end.y},getSkeletonPoints:function(t){var e=this.start,i=this.controlPoint1,n=this.controlPoint2,r=this.end;if(t<=0)return{startControlPoint1:e.clone(),startControlPoint2:e.clone(),divider:e.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:n.clone()};if(t>=1)return{startControlPoint1:i.clone(),startControlPoint2:n.clone(),divider:r.clone(),dividerControlPoint1:r.clone(),dividerControlPoint2:r.clone()};var o=new ph(e,i).pointAt(t),a=new ph(i,n).pointAt(t),s=new ph(n,r).pointAt(t),l=new ph(o,a).pointAt(t),c=new ph(a,s).pointAt(t);return{startControlPoint1:o,startControlPoint2:l,divider:new ph(l,c).pointAt(t),dividerControlPoint1:c,dividerControlPoint2:s}},getSubdivisions:function(t){var e=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i=this.start,n=this.controlPoint1,r=this.controlPoint2,o=this.end,a=[new Rh(i,n,r,o)];if(0===e)return a;if(!this.isDifferentiable())return a;var s=this.endpointDistance(),l=jh(10,-e),c=2;0===n.cross(i,o)&&0===r.cross(i,o)&&(c=2*e);for(var d=0;;){d+=1;for(var u=[],h=a.length,p=0;p<h;p++){var g=a[p].divide(.5);u.push(g[0],g[1])}for(var f=0,m=u.length,v=0;v<m;v++){f+=u[v].endpointDistance()}if(d>=c)if((0!==f?(f-s)/f:0)<l)return u;a=u,s=f}},isDifferentiable:function(){var t=this.start,e=this.controlPoint1,i=this.controlPoint2,n=this.end;return!(t.equals(e)&&e.equals(i)&&i.equals(n))},length:function(t){for(var e=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i=void 0===t.subdivisions?this.getSubdivisions({precision:e}):t.subdivisions,n=0,r=i.length,o=0;o<r;o++){n+=i[o].endpointDistance()}return n},lengthAtT:function(t,e){if(t<=0)return 0;var i=void 0===(e=e||{}).precision?this.PRECISION:e.precision;return this.divide(t)[0].length({precision:i})},pointAt:function(t,e){if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();var i=this.tAt(t,e);return this.pointAtT(i)},pointAtLength:function(t,e){var i=this.tAtLength(t,e);return this.pointAtT(i)},pointAtT:function(t){return t<=0?this.start.clone():t>=1?this.end.clone():this.getSkeletonPoints(t).divider},PRECISION:3,round:function(t){return this.start.round(t),this.controlPoint1.round(t),this.controlPoint2.round(t),this.end.round(t),this},scale:function(t,e,i){return this.start.scale(t,e,i),this.controlPoint1.scale(t,e,i),this.controlPoint2.scale(t,e,i),this.end.scale(t,e,i),this},tangentAt:function(t,e){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);var i=this.tAt(t,e);return this.tangentAtT(i)},tangentAtLength:function(t,e){if(!this.isDifferentiable())return null;var i=this.tAtLength(t,e);return this.tangentAtT(i)},tangentAtT:function(t){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);var e=this.getSkeletonPoints(t),i=e.startControlPoint2,n=e.dividerControlPoint1,r=e.divider,o=new ph(i,n);return o.translate(r.x-i.x,r.y-i.y),o},tAt:function(t,e){if(t<=0)return 0;if(t>=1)return 1;var i=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n={precision:i,subdivisions:void 0===e.subdivisions?this.getSubdivisions({precision:i}):e.subdivisions},r=this.length(n)*t;return this.tAtLength(r,n)},tAtLength:function(t,e){var i=!0;t<0&&(i=!1,t=-t);for(var n,r,o,a,s,l=void 0===(e=e||{}).precision?this.PRECISION:e.precision,c=void 0===e.subdivisions?this.getSubdivisions({precision:l}):e.subdivisions,d={precision:l,subdivisions:c},u=0,h=c.length,p=1/h,g=0;g<h;g++){var f=i?g:h-1-g,m=c[g],v=m.endpointDistance();if(t<=u+v){n=m,r=f*p,o=(f+1)*p,a=i?t-u:v+u-t,s=i?v+u-t:t-u;break}u+=v}if(!n)return i?1:0;for(var b=this.length(d),y=jh(10,-l);;){var x,w;if((0!==b?a/b:0)<y)return r;if((0!==b?s/b:0)<y)return o;var I=n.divide(.5);p/=2;var C=I[0].endpointDistance(),A=I[1].endpointDistance();a<=C?(n=I[0],o-=p,w=C-(x=a)):(n=I[1],r+=p,w=A-(x=a-C)),a=x,s=w}},toPoints:function(t){for(var e=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i=void 0===t.subdivisions?this.getSubdivisions({precision:e}):t.subdivisions,n=[i[0].start.clone()],r=i.length,o=0;o<r;o++){var a=i[o];n.push(a.end.clone())}return n},toPolyline:function(t){return new Lh(this.toPoints(t))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(t,e){return this.start.translate(t,e),this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e),this}},Rh.prototype.divide=Rh.prototype.divideAtT;const Bh=function(t){if(!(this instanceof Bh))return new Bh(t);if("string"==typeof t)return new Bh.parse(t);var e,i;if(this.segments=[],t)if(Array.isArray(t)&&0!==t.length)if(i=(t=t.reduce((function(t,e){return t.concat(e)}),[])).length,t[0].isSegment)for(e=0;e<i;e++){var n=t[e];this.appendSegment(n)}else{var r=null;for(e=0;e<i;e++){var o=t[e];if(!(o instanceof ph||o instanceof Rh))throw new Error("Cannot construct a path segment from the provided object.");0===e&&this.appendSegment(Bh.createSegment("M",o.start)),r&&!r.end.equals(o.start)&&this.appendSegment(Bh.createSegment("M",o.start)),o instanceof ph?this.appendSegment(Bh.createSegment("L",o.end)):o instanceof Rh&&this.appendSegment(Bh.createSegment("C",o.controlPoint1,o.controlPoint2,o.end)),r=o}}else if(t.isSegment)this.appendSegment(t);else if(t instanceof ph)this.appendSegment(Bh.createSegment("M",t.start)),this.appendSegment(Bh.createSegment("L",t.end));else if(t instanceof Rh)this.appendSegment(Bh.createSegment("M",t.start)),this.appendSegment(Bh.createSegment("C",t.controlPoint1,t.controlPoint2,t.end));else{if(!(t instanceof Lh))throw new Error("Cannot construct a path from the provided object.");if(!t.points||0===t.points.length)return;for(i=t.points.length,e=0;e<i;e++){var a=t.points[e];0===e?this.appendSegment(Bh.createSegment("M",a)):this.appendSegment(Bh.createSegment("L",a))}}else;};function Uh(t,e){return e.unshift(null),new(Function.prototype.bind.apply(t,e))}Bh.parse=function(t){if(!t)return new Bh;for(var e=new Bh,i=t.match(/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g),n=i.length,r=0;r<n;r++){var o=i[r].match(/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g),a=Bh.createSegment.apply(this,o);e.appendSegment(a)}return e},Bh.createSegment=function(t){if(!t)throw new Error("Type must be provided.");var e=Bh.segmentTypes[t];if(!e)throw new Error(t+" is not a recognized path segment type.");for(var i=[],n=arguments.length,r=1;r<n;r++)i.push(arguments[r]);return Uh(e,i)},Bh.prototype={type:Ku.Path,appendSegment:function(t){var e,i=this.segments,n=i.length,r=0!==n?i[n-1]:null;if(Array.isArray(t)){if(!(t=t.reduce((function(t,e){return t.concat(e)}),[]))[0].isSegment)throw new Error("Segments required.");for(var o=t.length,a=0;a<o;a++){var s=t[a];e=this.prepareSegment(s,r,null),i.push(e),r=e}}else{if(!t||!t.isSegment)throw new Error("Segment required.");e=this.prepareSegment(t,r,null),i.push(e)}},bbox:function(){var t,e=this.segments,i=e.length;if(0===i)return null;for(var n=0;n<i;n++){var r=e[n];if(r.isVisible){var o=r.bbox();t=t?t.union(o):o}}if(t)return t;var a=e[i-1];return new _h(a.end.x,a.end.y,0,0)},clone:function(){for(var t=this.segments,e=t.length,i=new Bh,n=0;n<e;n++){var r=t[n].clone();i.appendSegment(r)}return i},closestPoint:function(t,e){var i=this.closestPointT(t,e);return i?this.pointAtT(i):null},closestPointLength:function(t,e){var i=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n={precision:i,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions},r=this.closestPointT(t,n);return r?this.lengthAtT(r,n):0},closestPointNormalizedLength:function(t,e){var i=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n={precision:i,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions},r=this.closestPointLength(t,n);if(0===r)return 0;var o=this.length(n);return 0===o?0:r/o},closestPointT:function(t,e){var i=this.segments,n=i.length;if(0===n)return null;for(var r,o=void 0===(e=e||{}).precision?this.PRECISION:e.precision,a=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):e.segmentSubdivisions,s=1/0,l=0;l<n;l++){var c=i[l],d=a[l];if(c.isVisible){var u=c.closestPointT(t,{precision:o,subdivisions:d}),h=c.pointAtT(u),p=new ph(h,t).squaredLength();p<s&&(r={segmentIndex:l,value:u},s=p)}}return r||{segmentIndex:n-1,value:1}},closestPointTangent:function(t,e){var i=this.segments,n=i.length;if(0===n)return null;for(var r,o=void 0===(e=e||{}).precision?this.PRECISION:e.precision,a=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):e.segmentSubdivisions,s=1/0,l=0;l<n;l++){var c=i[l],d=a[l];if(c.isDifferentiable()){var u=c.closestPointT(t,{precision:o,subdivisions:d}),h=c.pointAtT(u),p=new ph(h,t).squaredLength();p<s&&(r=c.tangentAtT(u),s=p)}}return r||null},containsPoint:function(t,e){var i=this.toPolylines(e);if(!i)return!1;for(var n=i.length,r=0,o=0;o<n;o++){i[o].containsPoint(t)&&r++}return r%2==1},divideAt:function(t,e){if(0===this.segments.length)return null;t<0&&(t=0),t>1&&(t=1);var i=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n={precision:i,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions},r=this.length(n)*t;return this.divideAtLength(r,n)},divideAtLength:function(t,e){var i=this.segments.length;if(0===i)return null;var n=!0;t<0&&(n=!1,t=-t);var r,o,a,s,l,c,d,u=void 0===(e=e||{}).precision?this.PRECISION:e.precision,h=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:u}):e.segmentSubdivisions,p=0;for(r=0;r<i;r++){var g=n?r:i-1-r;o=this.getSegment(g);var f=h[g],m=o.length({precision:u,subdivisions:f});if(o.isDifferentiable()&&(l=o,c=g,t<=p+m)){s=g,a=o.divideAtLength((n?1:-1)*(t-p),{precision:u,subdivisions:f});break}p+=m}if(!l)return null;a||(s=c,d=n?1:0,a=l.divideAtT(d));var v=this.clone();v.replaceSegment(s,a);var b=s,y=s+1,x=s+2;a[0].isDifferentiable()||(v.removeSegment(b),y-=1,x-=1);var w=v.getSegment(y).start;v.insertSegment(y,Bh.createSegment("M",w)),x+=1,a[1].isDifferentiable()||(v.removeSegment(x-1),x-=1);var I=x-b-1;for(r=x;r<v.segments.length;r++){var C=this.getSegment(r-I);if("Z"===(o=v.getSegment(r)).type&&!C.subpathStartSegment.end.equals(o.subpathStartSegment.end)){var A=Bh.createSegment("L",C.end);v.replaceSegment(r,A)}}return[new Bh(v.segments.slice(0,y)),new Bh(v.segments.slice(y))]},equals:function(t){if(!t)return!1;var e=this.segments,i=t.segments,n=e.length;if(i.length!==n)return!1;for(var r=0;r<n;r++){var o=e[r],a=i[r];if(o.type!==a.type||!o.equals(a))return!1}return!0},getSegment:function(t){var e=this.segments,i=e.length;if(0===i)throw new Error("Path has no segments.");if(t<0&&(t=i+t),t>=i||t<0)throw new Error("Index out of range.");return e[t]},getSegmentSubdivisions:function(t){for(var e=this.segments,i=e.length,n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r=[],o=0;o<i;o++){var a=e[o].getSubdivisions({precision:n});r.push(a)}return r},getSubpaths:function(){const t=this.clone().validate().segments,e=t.length,i=[];for(let n=0;n<e;n++){const e=t[n];e.isSubpathStart?i.push(new Bh(e)):i[i.length-1].appendSegment(e)}return i},insertSegment:function(t,e){var i,n=this.segments,r=n.length;if(t<0&&(t=r+t+1),t>r||t<0)throw new Error("Index out of range.");var o=null,a=null;if(0!==r&&(a=t>=1?(o=n[t-1]).nextSegment:n[0]),Array.isArray(e)){if(!(e=e.reduce((function(t,e){return t.concat(e)}),[]))[0].isSegment)throw new Error("Segments required.");for(var s=e.length,l=0;l<s;l++){var c=e[l];i=this.prepareSegment(c,o,a),n.splice(t+l,0,i),o=i}}else{if(!e||!e.isSegment)throw new Error("Segment required.");i=this.prepareSegment(e,o,a),n.splice(t,0,i)}},intersectionWithLine:function(t,e){var i=null,n=this.toPolylines(e);if(!n)return null;for(var r=0,o=n.length;r<o;r++){var a=n[r],s=t.intersect(a);s&&(i||(i=[]),Array.isArray(s)?Array.prototype.push.apply(i,s):i.push(s))}return i},isDifferentiable:function(){for(var t=this.segments,e=t.length,i=0;i<e;i++){if(t[i].isDifferentiable())return!0}return!1},isValid:function(){var t=this.segments;return 0===t.length||"M"===t[0].type},length:function(t){var e=this.segments,i=e.length;if(0===i)return 0;for(var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions,o=0,a=0;a<i;a++){var s=e[a],l=r[a];o+=s.length({subdivisions:l})}return o},lengthAtT:function(t,e){var i=this.segments,n=i.length;if(0===n)return 0;var r=t.segmentIndex;if(r<0)return 0;var o=t.value;r>=n?(r=n-1,o=1):o<0?o=0:o>1&&(o=1);for(var a,s=void 0===(e=e||{}).precision?this.PRECISION:e.precision,l=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,c=0,d=0;d<r;d++){var u=i[d];a=l[d],c+=u.length({precisison:s,subdivisions:a})}return u=i[r],a=l[r],c+=u.lengthAtT(o,{precisison:s,subdivisions:a})},pointAt:function(t,e){if(0===this.segments.length)return null;if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();var i=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n={precision:i,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions},r=this.length(n)*t;return this.pointAtLength(r,n)},pointAtLength:function(t,e){var i=this.segments,n=i.length;if(0===n)return null;if(0===t)return this.start.clone();var r=!0;t<0&&(r=!1,t=-t);for(var o,a=void 0===(e=e||{}).precision?this.PRECISION:e.precision,s=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:a}):e.segmentSubdivisions,l=0,c=0;c<n;c++){var d=r?c:n-1-c,u=i[d],h=s[d],p=u.length({precision:a,subdivisions:h});if(u.isVisible){if(t<=l+p)return u.pointAtLength((r?1:-1)*(t-l),{precision:a,subdivisions:h});o=u}l+=p}return o?r?o.end:o.start:i[n-1].end.clone()},pointAtT:function(t){var e=this.segments,i=e.length;if(0===i)return null;var n=t.segmentIndex;if(n<0)return e[0].pointAtT(0);if(n>=i)return e[i-1].pointAtT(1);var r=t.value;return r<0?r=0:r>1&&(r=1),e[n].pointAtT(r)},PRECISION:3,prepareSegment:function(t,e,i){t.previousSegment=e,t.nextSegment=i,e&&(e.nextSegment=t),i&&(i.previousSegment=t);var n=t;return t.isSubpathStart&&(t.subpathStartSegment=t,n=i),n&&this.updateSubpathStartSegment(n),t},removeSegment:function(t){var e=this.segments,i=e.length;if(0===i)throw new Error("Path has no segments.");if(t<0&&(t=i+t),t>=i||t<0)throw new Error("Index out of range.");var n=e.splice(t,1)[0],r=n.previousSegment,o=n.nextSegment;r&&(r.nextSegment=o),o&&(o.previousSegment=r),n.isSubpathStart&&o&&this.updateSubpathStartSegment(o)},replaceSegment:function(t,e){var i,n=this.segments,r=n.length;if(0===r)throw new Error("Path has no segments.");if(t<0&&(t=r+t),t>=r||t<0)throw new Error("Index out of range.");var o=n[t],a=o.previousSegment,s=o.nextSegment,l=o.isSubpathStart;if(Array.isArray(e)){if(!(e=e.reduce((function(t,e){return t.concat(e)}),[]))[0].isSegment)throw new Error("Segments required.");n.splice(t,1);for(var c=e.length,d=0;d<c;d++){var u=e[d];i=this.prepareSegment(u,a,s),n.splice(t+d,0,i),a=i,l&&i.isSubpathStart&&(l=!1)}}else{if(!e||!e.isSegment)throw new Error("Segment required.");i=this.prepareSegment(e,a,s),n.splice(t,1,i),l&&i.isSubpathStart&&(l=!1)}l&&s&&this.updateSubpathStartSegment(s)},round:function(t){for(var e=this.segments,i=e.length,n=0;n<i;n++){e[n].round(t)}return this},scale:function(t,e,i){for(var n=this.segments,r=n.length,o=0;o<r;o++){n[o].scale(t,e,i)}return this},segmentAt:function(t,e){var i=this.segmentIndexAt(t,e);return i?this.getSegment(i):null},segmentAtLength:function(t,e){var i=this.segmentIndexAtLength(t,e);return i?this.getSegment(i):null},segmentIndexAt:function(t,e){if(0===this.segments.length)return null;t<0&&(t=0),t>1&&(t=1);var i=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n={precision:i,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions},r=this.length(n)*t;return this.segmentIndexAtLength(r,n)},segmentIndexAtLength:function(t,e){var i=this.segments,n=i.length;if(0===n)return null;var r=!0;t<0&&(r=!1,t=-t);for(var o=void 0===(e=e||{}).precision?this.PRECISION:e.precision,a=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):e.segmentSubdivisions,s=null,l=0,c=0;c<n;c++){var d=r?c:n-1-c,u=i[d],h=a[d],p=u.length({precision:o,subdivisions:h});if(u.isVisible){if(t<=l+p)return d;s=d}l+=p}return s},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(t,e){if(0===this.segments.length)return null;t<0&&(t=0),t>1&&(t=1);var i=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n={precision:i,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions},r=this.length(n)*t;return this.tangentAtLength(r,n)},tangentAtLength:function(t,e){var i=this.segments,n=i.length;if(0===n)return null;var r=!0;t<0&&(r=!1,t=-t);for(var o,a=void 0===(e=e||{}).precision?this.PRECISION:e.precision,s=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:a}):e.segmentSubdivisions,l=0,c=0;c<n;c++){var d=r?c:n-1-c,u=i[d],h=s[d],p=u.length({precision:a,subdivisions:h});if(u.isDifferentiable()){if(t<=l+p)return u.tangentAtLength((r?1:-1)*(t-l),{precision:a,subdivisions:h});o=u}l+=p}if(o){var g=r?1:0;return o.tangentAtT(g)}return null},tangentAtT:function(t){var e=this.segments,i=e.length;if(0===i)return null;var n=t.segmentIndex;if(n<0)return e[0].tangentAtT(0);if(n>=i)return e[i-1].tangentAtT(1);var r=t.value;return r<0?r=0:r>1&&(r=1),e[n].tangentAtT(r)},toPoints:function(t){var e=this.segments,i=e.length;if(0===i)return null;for(var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions,o=[],a=[],s=0;s<i;s++){var l=e[s];if(l.isVisible){var c=r[s];if(c.length>0){var d=c.map((function(t){return t.start}));Array.prototype.push.apply(a,d)}else a.push(l.start)}else a.length>0&&(a.push(e[s-1].end),o.push(a),a=[])}return a.length>0&&(a.push(this.end),o.push(a)),o},toPolylines:function(t){var e=[],i=this.toPoints(t);if(!i)return null;for(var n=0,r=i.length;n<r;n++)e.push(new Lh(i[n]));return e},toString:function(){for(var t=this.segments,e=t.length,i="",n=0;n<e;n++){i+=t[n].serialize()+" "}return i.trim()},translate:function(t,e){for(var i=this.segments,n=i.length,r=0;r<n;r++){i[r].translate(t,e)}return this},updateSubpathStartSegment:function(t){for(var e=t.previousSegment;t&&!t.isSubpathStart;)t.subpathStartSegment=e?e.subpathStartSegment:null,e=t,t=t.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,Bh.createSegment("M",0,0)),this}},Object.defineProperty(Bh.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var t=this.segments,e=t.length;if(0===e)return null;for(var i=0;i<e;i++){var n=t[i];if(n.isVisible)return n.start}return t[e-1].end}}),Object.defineProperty(Bh.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.segments,e=t.length;if(0===e)return null;for(var i=e-1;i>=0;i--){var n=t[i];if(n.isVisible)return n.end}return t[e-1].end}});var Zh={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(t){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(t);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(t){if(this.divideAt)return this.divideAt(t);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(t){if(t<=0)return 0;var e=this.length();return t>=1?e:e*t},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(t){if(this.pointAt)return this.pointAt(t);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(t){if(this.tangentAt)return this.tangentAt(t);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(Zh,"end",{configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(Zh,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}}),Object.defineProperty(Zh,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var $h=function(){for(var t,e,i=[],n=arguments.length,r=0;r<n;r++)i.push(arguments[r]);if(!(this instanceof $h))return Uh($h,i);if(0===n)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");if(i[0]instanceof ph){if(1===n)return this.end=i[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+n+" lines provided).")}if("string"==typeof i[0]||"number"==typeof i[0]){if(2===n)return this.end=new ch(+i[0],+i[1]),this;if(n<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+n+" coordinates provided).");var o;for(t=[],r=0;r<n;r+=2)o=i.slice(r,r+2),t.push(Uh($h,o));return t}if(1===n)return this.end=new ch(i[0]),this;for(t=[],r=0;r<n;r+=1)e=i[r],t.push(new $h(e));return t},Fh={clone:function(){return new $h(this.end)},divideAt:function(t){var e=new ph(this.start,this.end).divideAt(t);return[new $h(e[0]),new $h(e[1])]},divideAtLength:function(t){var e=new ph(this.start,this.end).divideAtLength(t);return[new $h(e[0]),new $h(e[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!!this.previousSegment&&!this.start.equals(this.end)},round:function(t){return this.end.round(t),this},scale:function(t,e,i){return this.end.scale(t,e,i),this},serialize:function(){var t=this.end;return this.type+" "+t.x+" "+t.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(t,e){return this.end.translate(t,e),this}};Object.defineProperty(Fh,"type",{configurable:!0,enumerable:!0,value:"L"}),$h.prototype=Gh(Zh,ph.prototype,Fh);var Wh=function(){for(var t,e,i=[],n=arguments.length,r=0;r<n;r++)i.push(arguments[r]);if(!(this instanceof Wh))return Uh(Wh,i);if(0===n)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");if(i[0]instanceof Rh){if(1===n)return this.controlPoint1=i[0].controlPoint1.clone(),this.controlPoint2=i[0].controlPoint2.clone(),this.end=i[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+n+" curves provided).")}if("string"==typeof i[0]||"number"==typeof i[0]){if(6===n)return this.controlPoint1=new ch(+i[0],+i[1]),this.controlPoint2=new ch(+i[2],+i[3]),this.end=new ch(+i[4],+i[5]),this;if(n<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+n+" coordinates provided).");var o;for(t=[],r=0;r<n;r+=6)o=i.slice(r,r+6),t.push(Uh(Wh,o));return t}if(3===n)return this.controlPoint1=new ch(i[0]),this.controlPoint2=new ch(i[1]),this.end=new ch(i[2]),this;if(n<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+n+" points provided).");for(t=[],r=0;r<n;r+=3)e=i.slice(r,r+3),t.push(Uh(Wh,e));return t},Vh={clone:function(){return new Wh(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(t,e){var i=new Rh(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAt(t,e);return[new Wh(i[0]),new Wh(i[1])]},divideAtLength:function(t,e){var i=new Rh(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAtLength(t,e);return[new Wh(i[0]),new Wh(i[1])]},divideAtT:function(t){var e=new Rh(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAtT(t);return[new Wh(e[0]),new Wh(e[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var t=this.start,e=this.controlPoint1,i=this.controlPoint2,n=this.end;return!(t.equals(e)&&e.equals(i)&&i.equals(n))},round:function(t){return this.controlPoint1.round(t),this.controlPoint2.round(t),this.end.round(t),this},scale:function(t,e,i){return this.controlPoint1.scale(t,e,i),this.controlPoint2.scale(t,e,i),this.end.scale(t,e,i),this},serialize:function(){var t=this.controlPoint1,e=this.controlPoint2,i=this.end;return this.type+" "+t.x+" "+t.y+" "+e.x+" "+e.y+" "+i.x+" "+i.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(t,e){return this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e),this}};Object.defineProperty(Vh,"type",{configurable:!0,enumerable:!0,value:"C"}),Wh.prototype=Gh(Zh,Rh.prototype,Vh);var Yh=function(){for(var t,e,i=[],n=arguments.length,r=0;r<n;r++)i.push(arguments[r]);if(!(this instanceof Yh))return Uh(Yh,i);if(0===n)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");if(i[0]instanceof ph){if(1===n)return this.end=i[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+n+" lines provided).")}if(i[0]instanceof Rh){if(1===n)return this.end=i[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+n+" curves provided).")}if("string"==typeof i[0]||"number"==typeof i[0]){if(2===n)return this.end=new ch(+i[0],+i[1]),this;if(n<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+n+" coordinates provided).");var o;for(t=[],r=0;r<n;r+=2)o=i.slice(r,r+2),0===r?t.push(Uh(Yh,o)):t.push(Uh($h,o));return t}if(1===n)return this.end=new ch(i[0]),this;for(t=[],r=0;r<n;r+=1)e=i[r],0===r?t.push(new Yh(e)):t.push(new $h(e));return t},Hh={bbox:function(){return null},clone:function(){return new Yh(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(t){return this.end.equals(t.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(t){return this.end.round(t),this},scale:function(t,e,i){return this.end.scale(t,e,i),this},serialize:function(){var t=this.end;return this.type+" "+t.x+" "+t.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(t,e){return this.end.translate(t,e),this}};Object.defineProperty(Hh,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}}),Object.defineProperty(Hh,"type",{configurable:!0,enumerable:!0,value:"M"}),Yh.prototype=Gh(Zh,Hh);var Xh=function(){for(var t=[],e=arguments.length,i=0;i<e;i++)t.push(arguments[i]);if(!(this instanceof Xh))return Uh(Xh,t);if(e>0)throw new Error("Closepath constructor expects no arguments.");return this},Jh={clone:function(){return new Xh},divideAt:function(t){var e=new ph(this.start,this.end).divideAt(t);return[e[1].isDifferentiable()?new $h(e[0]):this.clone(),new $h(e[1])]},divideAtLength:function(t){var e=new ph(this.start,this.end).divideAtLength(t);return[e[1].isDifferentiable()?new $h(e[0]):this.clone(),new $h(e[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!(!this.previousSegment||!this.subpathStartSegment)&&!this.start.equals(this.end)},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(Jh,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}}),Object.defineProperty(Jh,"type",{configurable:!0,enumerable:!0,value:"Z"}),Xh.prototype=Gh(Zh,ph.prototype,Jh);var Qh=Bh.segmentTypes={L:$h,C:Wh,M:Yh,Z:Xh,z:Xh};Bh.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(Qh).join("")+",.]*$"),Bh.isDataSupported=function(t){return"string"==typeof t&&this.regexSupportedData.test(t)};const Kh={curveThroughPoints:function(t){return console.warn("deprecated"),new Bh(Rh.throughPoints(t)).serialize()},getCurveControlPoints:function(t){console.warn("deprecated");var e,i=[],n=[],r=t.length-1;if(1==r)return i[0]=new ch((2*t[0].x+t[1].x)/3,(2*t[0].y+t[1].y)/3),n[0]=new ch(2*i[0].x-t[0].x,2*i[0].y-t[0].y),[i,n];var o=[];for(e=1;e<r-1;e++)o[e]=4*t[e].x+2*t[e+1].x;o[0]=t[0].x+2*t[1].x,o[r-1]=(8*t[r-1].x+t[r].x)/2;var a=this.getFirstControlPoints(o);for(e=1;e<r-1;++e)o[e]=4*t[e].y+2*t[e+1].y;o[0]=t[0].y+2*t[1].y,o[r-1]=(8*t[r-1].y+t[r].y)/2;var s=this.getFirstControlPoints(o);for(e=0;e<r;e++)i.push(new ch(a[e],s[e])),e<r-1?n.push(new ch(2*t[e+1].x-a[e+1],2*t[e+1].y-s[e+1])):n.push(new ch((t[r].x+a[r-1])/2,(t[r].y+s[r-1])/2));return[i,n]},getCurveDivider:function(t,e,i,n){console.warn("deprecated");var r=new Rh(t,e,i,n);return function(t){var e=r.divide(t);return[{p0:e[0].start,p1:e[0].controlPoint1,p2:e[0].controlPoint2,p3:e[0].end},{p0:e[1].start,p1:e[1].controlPoint1,p2:e[1].controlPoint2,p3:e[1].end}]}},getFirstControlPoints:function(t){console.warn("deprecated");var e=t.length,i=[],n=[],r=2;i[0]=t[0]/r;for(var o=1;o<e;o++)n[o]=1/r,r=(o<e-1?4:3.5)-n[o],i[o]=(t[o]-i[o-1])/r;for(o=1;o<e;o++)i[e-o-1]-=n[e-o]*i[e-o];return i},getInversionSolver:function(t,e,i,n){console.warn("deprecated");var r=new Rh(t,e,i,n);return function(t){return r.closestPointT(t)}}},qh=function(t){return this instanceof qh?"string"==typeof t?new qh.parse(t):void(this.points=Array.isArray(t)?t.map(ch):[]):new qh(t)};function tp(t,e){const i=t.start.x,n=t.start.y,r=t.end.x,o=t.end.y,a=e.start.x,s=e.start.y,l=r-i,c=o-n,d=e.end.x-a,u=e.end.y-s,h=i-a,p=n-s,g=l*u-d*c,f=(l*p-c*h)/g,m=(d*p-u*h)/g;return f>=0&&f<=1&&m>=0&&m<=1}function ep(t,e){const i=t.a,n=t.b,r=t.x,o=t.y,a=e.start.x-r,s=e.end.x-r,l=e.start.y-o,c=i*i,d=n*n,u=s-a,h=e.end.y-o-l,p=u*u/c+h*h/d,g=2*a*u/c+2*l*h/d,f=g*g-4*p*(a*a/c+l*l/d-1);if(0===f){const t=-g/2/p;return t>=0&&t<=1}if(f>0){const t=Math.sqrt(f),e=(-g+t)/2/p,i=(-g-t)/2/p;return e>=0&&e<=1||i>=0&&i<=1}return!1}function ip(t,e){return function(t,e,i,n){const{cos:r,sin:o}=Math,a=o(e),s=r(e),l=o(n),c=r(n),d=a*a,u=s*s,h=a*s,p=l*l,g=c*c,f=l*c,m=t.a*t.a,v=t.b*t.b,b=i.a*i.a,y=i.b*i.b,x=m*d+v*u,w=b*p+y*g,I=m*u+v*d,C=b*g+y*p;let A=2*(v-m)*h,S=2*(y-b)*f,k=-2*x*t.x-A*t.y,_=-2*w*i.x-S*i.y,T=-A*t.x-2*I*t.y,P=-S*i.x-2*C*i.y;const M=x*t.x*t.x+I*t.y*t.y+A*t.x*t.y-m*v,N=w*i.x*i.x+C*i.y*i.y+S*i.x*i.y-b*y;A/=2,S/=2,k/=2,_/=2,T/=2,P/=2;const L=Tp([[x,A,k],[A,I,T],[k,T,M]]),O=Tp([[w,S,_],[S,C,P],[_,P,N]]),E=.33333333*(Tp([[w,A,k],[S,I,T],[_,T,M]])+Tp([[x,S,k],[A,C,T],[k,P,M]])+Tp([[x,A,_],[A,I,P],[k,T,N]])),D=.33333333*(Tp([[x,S,_],[A,C,P],[k,P,N]])+Tp([[w,A,_],[S,I,P],[_,T,N]])+Tp([[w,S,k],[S,C,T],[_,P,M]])),z=_p([[L,E],[E,D]]),j=_p([[L,D],[E,O]]),R=_p([[E,D],[D,O]]);if(_p([[2*z,j],[j,2*R]])>0&&(D>0||E>0))return!1;return!0}(t,0,e,0)}function np(t,e){const{start:i,end:n}=e,{x:r,y:o,width:a,height:s}=t;return!(i.x>r+a&&n.x>r+a||i.x<r&&n.x<r||i.y>o+s&&n.y>o+s||i.y<o&&n.y<o)&&(!(!t.containsPoint(e.start)&&!t.containsPoint(e.end))||(tp(t.topLine(),e)||tp(t.rightLine(),e)||tp(t.bottomLine(),e)||tp(t.leftLine(),e)))}function rp(t,e){return!!op(t,_h.fromEllipse(e))&&up(qh.fromRect(t),e)}function op(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function ap(t,e){return wp(t,e,{interior:!1})}function sp(t,e){return Ip(t,e,{interior:!1})}function lp(t,e){return Cp(t,e,{interior:!1})}function cp(t,e){return Sp(t,e,{interior:!1})}function dp(t,e){return wp(t,e,{interior:!0})}function up(t,e){return Ip(t,e,{interior:!0})}function hp(t,e){return Cp(t,e,{interior:!0})}function pp(t,e){return Sp(t,e,{interior:!0})}function gp(t,e){return kp(t,e,{interior:!0})}function fp(t,e,i){return t.getSubpaths().some((t=>{const[n]=t.toPolylines(i),{type:r}=t.getSegment(-1);return"Z"===r?dp(n,e):ap(n,e)}))}function mp(t,e,i){return t.getSubpaths().some((t=>{const[n]=t.toPolylines(i),{type:r}=t.getSegment(-1);return"Z"===r?up(n,e):sp(n,e)}))}function vp(t,e,i){return yp(t,qh.fromRect(e),i)}function bp(t,e,i){return Ap(t,e,i,{interior:!1})}function yp(t,e,i){return Ap(t,e,i,{interior:!0})}function xp(t,e,i,n){return t.getSubpaths().some((t=>{const[r]=t.toPolylines(i),{type:o}=t.getSegment(-1);return"Z"===o?yp(e,r,n):bp(e,r,n)}))}function wp(t,e,i={}){const{interior:n=!1}=i;let r;if(n){if(t.containsPoint(e.start))return!0;const{start:i,end:n,points:o}=t;r=n.equals(i)?o:[...o,i]}else r=t.points;const{length:o}=r,a=new ph;for(let t=0;t<o-1;t++)if(a.start=r[t],a.end=r[t+1],tp(e,a))return!0;return!1}function Ip(t,e,i={}){const{start:n,end:r,points:o}=t;if(e.containsPoint(n))return!0;let a;const{interior:s=!1}=i;if(s){if(t.containsPoint(e.center()))return!0;a=r.equals(n)?o:[...o,n]}else a=o;const{length:l}=a,c=new ph;for(let t=0;t<l-1;t++)if(c.start=a[t],c.end=a[t+1],ep(e,c))return!0;return!1}function Cp(t,e,i){return kp(t,qh.fromRect(e),i)}function Ap(t,e,i,n){return t.getSubpaths().some((t=>{const[r]=t.toPolylines(i),{type:o}=t.getSegment(-1);return"Z"===o?kp(e,r,n):Sp(e,r,n)}))}function Sp(t,e,i={}){const{interior:n=!1}=i;let r;if(n){const{start:i}=e;if(t.containsPoint(i))return!0;r=t.clone().close()}else r=t;const o=e.points,{length:a}=o,s=new ph;for(let t=0;t<a-1;t++)if(s.start=o[t],s.end=o[t+1],ap(r,s))return!0;return!1}function kp(t,e,i){return e.containsPoint(t.start)||Sp(t,e.clone().close(),i)}function _p(t){return t[0][0]*t[1][1]-t[0][1]*t[1][0]}function Tp(t){return t[0][0]*t[1][1]*t[2][2]-t[0][0]*t[1][2]*t[2][1]-t[0][1]*t[1][0]*t[2][2]+t[0][1]*t[1][2]*t[2][0]+t[0][2]*t[1][0]*t[2][1]-t[0][2]*t[1][1]*t[2][0]}qh.parse=function(t){return new qh(Ph(t))},qh.fromRect=function(t){return new qh([t.topLeft(),t.topRight(),t.bottomRight(),t.bottomLeft()])},qh.prototype=Gh(Lh.prototype,{type:Ku.Polygon,clone:function(){return new qh(Mh(this.points))},convexHull:function(){return new qh(Nh(this.points))},lengthPoints:function(){const{start:t,end:e,points:i}=this;return i.length<=1||t.equals(e)?i:[...i,t.clone()]}});var Pp=Object.freeze({__proto__:null,exists:function t(e,i,n,r){switch(e.type){case Ku.Line:if(i.type===Ku.Line)return tp(e,i);break;case Ku.Ellipse:switch(i.type){case Ku.Line:return ep(e,i);case Ku.Ellipse:return ip(e,i)}break;case Ku.Rect:switch(i.type){case Ku.Line:return np(e,i);case Ku.Ellipse:return rp(e,i);case Ku.Rect:return op(e,i)}break;case Ku.Polyline:switch(i.type){case Ku.Line:return ap(e,i);case Ku.Ellipse:return sp(e,i);case Ku.Rect:return lp(e,i);case Ku.Polyline:return cp(e,i)}break;case Ku.Polygon:switch(i.type){case Ku.Line:return dp(e,i);case Ku.Ellipse:return up(e,i);case Ku.Rect:return hp(e,i);case Ku.Polyline:return pp(e,i);case Ku.Polygon:return gp(e,i)}break;case Ku.Path:switch(i.type){case Ku.Line:return fp(e,i,n);case Ku.Ellipse:return mp(e,i,n);case Ku.Rect:return vp(e,i,n);case Ku.Polyline:return bp(e,i,n);case Ku.Polygon:return yp(e,i,n);case Ku.Path:return xp(e,i,n,r)}}switch(i.type){case Ku.Ellipse:case Ku.Rect:case Ku.Polyline:case Ku.Polygon:case Ku.Path:return t(i,e,r,n);default:throw Error(`The intersection for ${e} and ${i} could not be found.`)}},lineWithLine:tp,ellipseWithLine:ep,ellipseWithEllipse:ip,rectWithLine:np,rectWithEllipse:rp,rectWithRect:op,polylineWithLine:ap,polylineWithEllipse:sp,polylineWithRect:lp,polylineWithPolyline:cp,polygonWithLine:dp,polygonWithEllipse:up,polygonWithRect:hp,polygonWithPolyline:pp,polygonWithPolygon:gp,pathWithLine:fp,pathWithEllipse:mp,pathWithRect:vp,pathWithPolyline:bp,pathWithPolygon:yp,pathWithPath:xp});const Mp=Pp;var Np=Object.freeze({__proto__:null,intersection:Mp,scale:{linear:function(t,e,i){var n=t[1]-t[0],r=e[1]-e[0];return(i-t[0])/n*r+e[0]||0}},normalizeAngle:Uu,snapToGrid:Zu,toDeg:$u,toRad:Fu,random:Wu,bezier:Kh,Curve:Rh,Ellipse:bh,ellipse:yh,Line:ph,line:gh,Path:Bh,Point:ch,point:dh,Polyline:Lh,Polygon:qh,Rect:_h,rect:Th,types:Ku}),Lp="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Op(t,e){return t(e={exports:{}},e.exports),e.exports}var Ep="1.13.6",Dp="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},zp=Array.prototype,jp=Object.prototype,Rp="undefined"!=typeof Symbol?Symbol.prototype:null,Gp=zp.push,Bp=zp.slice,Up=jp.toString,Zp=jp.hasOwnProperty,$p="undefined"!=typeof ArrayBuffer,Fp="undefined"!=typeof DataView,Wp=Array.isArray,Vp=Object.keys,Yp=Object.create,Hp=$p&&ArrayBuffer.isView,Xp=isNaN,Jp=isFinite,Qp=!{toString:null}.propertyIsEnumerable("toString"),Kp=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],qp=Math.pow(2,53)-1;function tg(t,e){return e=null==e?t.length-1:+e,function(){for(var i=Math.max(arguments.length-e,0),n=Array(i),r=0;r<i;r++)n[r]=arguments[r+e];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,arguments[0],n);case 2:return t.call(this,arguments[0],arguments[1],n)}var o=Array(e+1);for(r=0;r<e;r++)o[r]=arguments[r];return o[e]=n,t.apply(this,o)}}function eg(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function ig(t){return void 0===t}function ng(t){return!0===t||!1===t||"[object Boolean]"===Up.call(t)}function rg(t){var e="[object "+t+"]";return function(t){return Up.call(t)===e}}var og=rg("String"),ag=rg("Number"),sg=rg("Date"),lg=rg("RegExp"),cg=rg("Error"),dg=rg("Symbol"),ug=rg("ArrayBuffer"),hg=rg("Function"),pg=Dp.document&&Dp.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof pg&&(hg=function(t){return"function"==typeof t||!1});var gg=hg,fg=rg("Object"),mg=Fp&&fg(new DataView(new ArrayBuffer(8))),vg="undefined"!=typeof Map&&fg(new Map),bg=rg("DataView");var yg=mg?function(t){return null!=t&&gg(t.getInt8)&&ug(t.buffer)}:bg,xg=Wp||rg("Array");function wg(t,e){return null!=t&&Zp.call(t,e)}var Ig=rg("Arguments");!function(){Ig(arguments)||(Ig=function(t){return wg(t,"callee")})}();var Cg=Ig;function Ag(t){return ag(t)&&Xp(t)}function Sg(t){return function(){return t}}function kg(t){return function(e){var i=t(e);return"number"==typeof i&&i>=0&&i<=qp}}function _g(t){return function(e){return null==e?void 0:e[t]}}var Tg=_g("byteLength"),Pg=kg(Tg),Mg=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var Ng=$p?function(t){return Hp?Hp(t)&&!yg(t):Pg(t)&&Mg.test(Up.call(t))}:Sg(!1),Lg=_g("length");function Og(t,e){e=function(t){for(var e={},i=t.length,n=0;n<i;++n)e[t[n]]=!0;return{contains:function(t){return!0===e[t]},push:function(i){return e[i]=!0,t.push(i)}}}(e);var i=Kp.length,n=t.constructor,r=gg(n)&&n.prototype||jp,o="constructor";for(wg(t,o)&&!e.contains(o)&&e.push(o);i--;)(o=Kp[i])in t&&t[o]!==r[o]&&!e.contains(o)&&e.push(o)}function Eg(t){if(!eg(t))return[];if(Vp)return Vp(t);var e=[];for(var i in t)wg(t,i)&&e.push(i);return Qp&&Og(t,e),e}function Dg(t,e){var i=Eg(e),n=i.length;if(null==t)return!n;for(var r=Object(t),o=0;o<n;o++){var a=i[o];if(e[a]!==r[a]||!(a in r))return!1}return!0}function zg(t){return t instanceof zg?t:this instanceof zg?void(this._wrapped=t):new zg(t)}function jg(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,Tg(t))}zg.VERSION=Ep,zg.prototype.value=function(){return this._wrapped},zg.prototype.valueOf=zg.prototype.toJSON=zg.prototype.value,zg.prototype.toString=function(){return String(this._wrapped)};var Rg="[object DataView]";function Gg(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var r=typeof t;return("function"===r||"object"===r||"object"==typeof e)&&Bg(t,e,i,n)}function Bg(t,e,i,n){t instanceof zg&&(t=t._wrapped),e instanceof zg&&(e=e._wrapped);var r=Up.call(t);if(r!==Up.call(e))return!1;if(mg&&"[object Object]"==r&&yg(t)){if(!yg(e))return!1;r=Rg}switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return Rp.valueOf.call(t)===Rp.valueOf.call(e);case"[object ArrayBuffer]":case Rg:return Bg(jg(t),jg(e),i,n)}var o="[object Array]"===r;if(!o&&Ng(t)){if(Tg(t)!==Tg(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(gg(a)&&a instanceof a&&gg(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[];for(var l=(i=i||[]).length;l--;)if(i[l]===t)return n[l]===e;if(i.push(t),n.push(e),o){if((l=t.length)!==e.length)return!1;for(;l--;)if(!Gg(t[l],e[l],i,n))return!1}else{var c,d=Eg(t);if(l=d.length,Eg(e).length!==l)return!1;for(;l--;)if(!wg(e,c=d[l])||!Gg(t[c],e[c],i,n))return!1}return i.pop(),n.pop(),!0}function Ug(t){if(!eg(t))return[];var e=[];for(var i in t)e.push(i);return Qp&&Og(t,e),e}function Zg(t){var e=Lg(t);return function(i){if(null==i)return!1;var n=Ug(i);if(Lg(n))return!1;for(var r=0;r<e;r++)if(!gg(i[t[r]]))return!1;return t!==Yg||!gg(i[$g])}}var $g="forEach",Fg=["clear","delete"],Wg=["get","has","set"],Vg=Fg.concat($g,Wg),Yg=Fg.concat(Wg),Hg=["add"].concat(Fg,$g,"has"),Xg=vg?Zg(Vg):rg("Map"),Jg=vg?Zg(Yg):rg("WeakMap"),Qg=vg?Zg(Hg):rg("Set"),Kg=rg("WeakSet");function qg(t){for(var e=Eg(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=t[e[r]];return n}function tf(t){for(var e={},i=Eg(t),n=0,r=i.length;n<r;n++)e[t[i[n]]]=i[n];return e}function ef(t){var e=[];for(var i in t)gg(t[i])&&e.push(i);return e.sort()}function nf(t,e){return function(i){var n=arguments.length;if(e&&(i=Object(i)),n<2||null==i)return i;for(var r=1;r<n;r++)for(var o=arguments[r],a=t(o),s=a.length,l=0;l<s;l++){var c=a[l];e&&void 0!==i[c]||(i[c]=o[c])}return i}}var rf=nf(Ug),of=nf(Eg),af=nf(Ug,!0);function sf(t){if(!eg(t))return{};if(Yp)return Yp(t);var e=function(){};e.prototype=t;var i=new e;return e.prototype=null,i}function lf(t){return xg(t)?t:[t]}function cf(t){return zg.toPath(t)}function df(t,e){for(var i=e.length,n=0;n<i;n++){if(null==t)return;t=t[e[n]]}return i?t:void 0}function uf(t,e,i){var n=df(t,cf(e));return ig(n)?i:n}function hf(t){return t}function pf(t){return t=of({},t),function(e){return Dg(e,t)}}function gf(t){return t=cf(t),function(e){return df(e,t)}}function ff(t,e,i){if(void 0===e)return t;switch(null==i?3:i){case 1:return function(i){return t.call(e,i)};case 3:return function(i,n,r){return t.call(e,i,n,r)};case 4:return function(i,n,r,o){return t.call(e,i,n,r,o)}}return function(){return t.apply(e,arguments)}}function mf(t,e,i){return null==t?hf:gg(t)?ff(t,e,i):eg(t)&&!xg(t)?pf(t):gf(t)}function vf(t,e){return mf(t,e,1/0)}function bf(t,e,i){return zg.iteratee!==vf?zg.iteratee(t,e):mf(t,e,i)}function yf(){}function xf(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}zg.toPath=lf,zg.iteratee=vf;var wf=Date.now||function(){return(new Date).getTime()};function If(t){var e=function(e){return t[e]},i="(?:"+Eg(t).join("|")+")",n=RegExp(i),r=RegExp(i,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(r,e):t}}var Cf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Af=If(Cf),Sf=If(tf(Cf)),kf=zg.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},_f=/(.)^/,Tf={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Pf=/\\|'|\r|\n|\u2028|\u2029/g;function Mf(t){return"\\"+Tf[t]}var Nf=/^\s*(\w|\$)+\s*$/;var Lf=0;function Of(t,e,i,n,r){if(!(n instanceof e))return t.apply(i,r);var o=sf(t.prototype),a=t.apply(o,r);return eg(a)?a:o}var Ef=tg((function(t,e){var i=Ef.placeholder,n=function(){for(var r=0,o=e.length,a=Array(o),s=0;s<o;s++)a[s]=e[s]===i?arguments[r++]:e[s];for(;r<arguments.length;)a.push(arguments[r++]);return Of(t,n,this,this,a)};return n}));Ef.placeholder=zg;var Df=tg((function(t,e,i){if(!gg(t))throw new TypeError("Bind must be called on a function");var n=tg((function(r){return Of(t,n,e,this,i.concat(r))}));return n})),zf=kg(Lg);function jf(t,e,i,n){if(n=n||[],e||0===e){if(e<=0)return n.concat(t)}else e=1/0;for(var r=n.length,o=0,a=Lg(t);o<a;o++){var s=t[o];if(zf(s)&&(xg(s)||Cg(s)))if(e>1)jf(s,e-1,i,n),r=n.length;else for(var l=0,c=s.length;l<c;)n[r++]=s[l++];else i||(n[r++]=s)}return n}var Rf=tg((function(t,e){var i=(e=jf(e,!1,!1)).length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var n=e[i];t[n]=Df(t[n],t)}return t}));var Gf=tg((function(t,e,i){return setTimeout((function(){return t.apply(null,i)}),e)})),Bf=Ef(Gf,zg,1);function Uf(t){return function(){return!t.apply(this,arguments)}}function Zf(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}}var $f=Ef(Zf,2);function Ff(t,e,i){e=bf(e,i);for(var n,r=Eg(t),o=0,a=r.length;o<a;o++)if(e(t[n=r[o]],n,t))return n}function Wf(t){return function(e,i,n){i=bf(i,n);for(var r=Lg(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(i(e[o],o,e))return o;return-1}}var Vf=Wf(1),Yf=Wf(-1);function Hf(t,e,i,n){for(var r=(i=bf(i,n,1))(e),o=0,a=Lg(t);o<a;){var s=Math.floor((o+a)/2);i(t[s])<r?o=s+1:a=s}return o}function Xf(t,e,i){return function(n,r,o){var a=0,s=Lg(n);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(i&&o&&s)return n[o=i(n,r)]===r?o:-1;if(r!=r)return(o=e(Bp.call(n,a,s),Ag))>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(n[o]===r)return o;return-1}}var Jf=Xf(1,Vf,Hf),Qf=Xf(-1,Yf);function Kf(t,e,i){var n=(zf(t)?Vf:Ff)(t,e,i);if(void 0!==n&&-1!==n)return t[n]}function qf(t,e,i){var n,r;if(e=ff(e,i),zf(t))for(n=0,r=t.length;n<r;n++)e(t[n],n,t);else{var o=Eg(t);for(n=0,r=o.length;n<r;n++)e(t[o[n]],o[n],t)}return t}function tm(t,e,i){e=bf(e,i);for(var n=!zf(t)&&Eg(t),r=(n||t).length,o=Array(r),a=0;a<r;a++){var s=n?n[a]:a;o[a]=e(t[s],s,t)}return o}function em(t){return function(e,i,n,r){var o=arguments.length>=3;return function(e,i,n,r){var o=!zf(e)&&Eg(e),a=(o||e).length,s=t>0?0:a-1;for(r||(n=e[o?o[s]:s],s+=t);s>=0&&s<a;s+=t){var l=o?o[s]:s;n=i(n,e[l],l,e)}return n}(e,ff(i,r,4),n,o)}}var im=em(1),nm=em(-1);function rm(t,e,i){var n=[];return e=bf(e,i),qf(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function om(t,e,i){e=bf(e,i);for(var n=!zf(t)&&Eg(t),r=(n||t).length,o=0;o<r;o++){var a=n?n[o]:o;if(!e(t[a],a,t))return!1}return!0}function am(t,e,i){e=bf(e,i);for(var n=!zf(t)&&Eg(t),r=(n||t).length,o=0;o<r;o++){var a=n?n[o]:o;if(e(t[a],a,t))return!0}return!1}function sm(t,e,i,n){return zf(t)||(t=qg(t)),("number"!=typeof i||n)&&(i=0),Jf(t,e,i)>=0}var lm=tg((function(t,e,i){var n,r;return gg(e)?r=e:(e=cf(e),n=e.slice(0,-1),e=e[e.length-1]),tm(t,(function(t){var o=r;if(!o){if(n&&n.length&&(t=df(t,n)),null==t)return;o=t[e]}return null==o?o:o.apply(t,i)}))}));function cm(t,e){return tm(t,gf(e))}function dm(t,e,i){var n,r,o=-1/0,a=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,l=(t=zf(t)?t:qg(t)).length;s<l;s++)null!=(n=t[s])&&n>o&&(o=n);else e=bf(e,i),qf(t,(function(t,i,n){((r=e(t,i,n))>a||r===-1/0&&o===-1/0)&&(o=t,a=r)}));return o}var um=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function hm(t){return t?xg(t)?Bp.call(t):og(t)?t.match(um):zf(t)?tm(t,hf):qg(t):[]}function pm(t,e,i){if(null==e||i)return zf(t)||(t=qg(t)),t[xf(t.length-1)];var n=hm(t),r=Lg(n);e=Math.max(Math.min(e,r),0);for(var o=r-1,a=0;a<e;a++){var s=xf(a,o),l=n[a];n[a]=n[s],n[s]=l}return n.slice(0,e)}function gm(t,e){return function(i,n,r){var o=e?[[],[]]:{};return n=bf(n,r),qf(i,(function(e,r){var a=n(e,r,i);t(o,e,a)})),o}}var fm=gm((function(t,e,i){wg(t,i)?t[i].push(e):t[i]=[e]})),mm=gm((function(t,e,i){t[i]=e})),vm=gm((function(t,e,i){wg(t,i)?t[i]++:t[i]=1})),bm=gm((function(t,e,i){t[i?0:1].push(e)}),!0);function ym(t,e,i){return e in i}var xm=tg((function(t,e){var i={},n=e[0];if(null==t)return i;gg(n)?(e.length>1&&(n=ff(n,e[1])),e=Ug(t)):(n=ym,e=jf(e,!1,!1),t=Object(t));for(var r=0,o=e.length;r<o;r++){var a=e[r],s=t[a];n(s,a,t)&&(i[a]=s)}return i})),wm=tg((function(t,e){var i,n=e[0];return gg(n)?(n=Uf(n),e.length>1&&(i=e[1])):(e=tm(jf(e,!1,!1),String),n=function(t,i){return!sm(e,i)}),xm(t,n,i)}));function Im(t,e,i){return Bp.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))}function Cm(t,e,i){return null==t||t.length<1?null==e||i?void 0:[]:null==e||i?t[0]:Im(t,t.length-e)}function Am(t,e,i){return Bp.call(t,null==e||i?1:e)}var Sm=tg((function(t,e){return e=jf(e,!0,!0),rm(t,(function(t){return!sm(e,t)}))})),km=tg((function(t,e){return Sm(t,e)}));function _m(t,e,i,n){ng(e)||(n=i,i=e,e=!1),null!=i&&(i=bf(i,n));for(var r=[],o=[],a=0,s=Lg(t);a<s;a++){var l=t[a],c=i?i(l,a,t):l;e&&!i?(a&&o===c||r.push(l),o=c):i?sm(o,c)||(o.push(c),r.push(l)):sm(r,l)||r.push(l)}return r}var Tm=tg((function(t){return _m(jf(t,!0,!0))}));function Pm(t){for(var e=t&&dm(t,Lg).length||0,i=Array(e),n=0;n<e;n++)i[n]=cm(t,n);return i}var Mm=tg(Pm);function Nm(t,e){return t._chain?zg(e).chain():e}function Lm(t){return qf(ef(t),(function(e){var i=zg[e]=t[e];zg.prototype[e]=function(){var t=[this._wrapped];return Gp.apply(t,arguments),Nm(this,i.apply(zg,t))}})),zg}qf(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=zp[t];zg.prototype[t]=function(){var i=this._wrapped;return null!=i&&(e.apply(i,arguments),"shift"!==t&&"splice"!==t||0!==i.length||delete i[0]),Nm(this,i)}})),qf(["concat","join","slice"],(function(t){var e=zp[t];zg.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),Nm(this,t)}}));var Om=Object.freeze({__proto__:null,VERSION:Ep,restArguments:tg,isObject:eg,isNull:function(t){return null===t},isUndefined:ig,isBoolean:ng,isElement:function(t){return!(!t||1!==t.nodeType)},isString:og,isNumber:ag,isDate:sg,isRegExp:lg,isError:cg,isSymbol:dg,isArrayBuffer:ug,isDataView:yg,isArray:xg,isFunction:gg,isArguments:Cg,isFinite:function(t){return!dg(t)&&Jp(t)&&!isNaN(parseFloat(t))},isNaN:Ag,isTypedArray:Ng,isEmpty:function(t){if(null==t)return!0;var e=Lg(t);return"number"==typeof e&&(xg(t)||og(t)||Cg(t))?0===e:0===Lg(Eg(t))},isMatch:Dg,isEqual:function(t,e){return Gg(t,e)},isMap:Xg,isWeakMap:Jg,isSet:Qg,isWeakSet:Kg,keys:Eg,allKeys:Ug,values:qg,pairs:function(t){for(var e=Eg(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=[e[r],t[e[r]]];return n},invert:tf,functions:ef,methods:ef,extend:rf,extendOwn:of,assign:of,defaults:af,create:function(t,e){var i=sf(t);return e&&of(i,e),i},clone:function(t){return eg(t)?xg(t)?t.slice():rf({},t):t},tap:function(t,e){return e(t),t},get:uf,has:function(t,e){for(var i=(e=cf(e)).length,n=0;n<i;n++){var r=e[n];if(!wg(t,r))return!1;t=t[r]}return!!i},mapObject:function(t,e,i){e=bf(e,i);for(var n=Eg(t),r=n.length,o={},a=0;a<r;a++){var s=n[a];o[s]=e(t[s],s,t)}return o},identity:hf,constant:Sg,noop:yf,toPath:lf,property:gf,propertyOf:function(t){return null==t?yf:function(e){return uf(t,e)}},matcher:pf,matches:pf,times:function(t,e,i){var n=Array(Math.max(0,t));e=ff(e,i,1);for(var r=0;r<t;r++)n[r]=e(r);return n},random:xf,now:wf,escape:Af,unescape:Sf,templateSettings:kf,template:function(t,e,i){!e&&i&&(e=i),e=af({},e,zg.templateSettings);var n=RegExp([(e.escape||_f).source,(e.interpolate||_f).source,(e.evaluate||_f).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(n,(function(e,i,n,a,s){return o+=t.slice(r,s).replace(Pf,Mf),r=s+e.length,i?o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e})),o+="';\n";var a,s=e.variable;if(s){if(!Nf.test(s))throw new Error("variable is not a bare identifier: "+s)}else o="with(obj||{}){\n"+o+"}\n",s="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{a=new Function(s,"_",o)}catch(t){throw t.source=o,t}var l=function(t){return a.call(this,t,zg)};return l.source="function("+s+"){\n"+o+"}",l},result:function(t,e,i){var n=(e=cf(e)).length;if(!n)return gg(i)?i.call(t):i;for(var r=0;r<n;r++){var o=null==t?void 0:t[e[r]];void 0===o&&(o=i,r=n),t=gg(o)?o.call(t):o}return t},uniqueId:function(t){var e=++Lf+"";return t?t+e:e},chain:function(t){var e=zg(t);return e._chain=!0,e},iteratee:vf,partial:Ef,bind:Df,bindAll:Rf,memoize:function(t,e){var i=function(n){var r=i.cache,o=""+(e?e.apply(this,arguments):n);return wg(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return i.cache={},i},delay:Gf,defer:Bf,throttle:function(t,e,i){var n,r,o,a,s=0;i||(i={});var l=function(){s=!1===i.leading?0:wf(),n=null,a=t.apply(r,o),n||(r=o=null)},c=function(){var c=wf();s||!1!==i.leading||(s=c);var d=e-(c-s);return r=this,o=arguments,d<=0||d>e?(n&&(clearTimeout(n),n=null),s=c,a=t.apply(r,o),n||(r=o=null)):n||!1===i.trailing||(n=setTimeout(l,d)),a};return c.cancel=function(){clearTimeout(n),s=0,n=r=o=null},c},debounce:function(t,e,i){var n,r,o,a,s,l=function(){var c=wf()-r;e>c?n=setTimeout(l,e-c):(n=null,i||(a=t.apply(s,o)),n||(o=s=null))},c=tg((function(c){return s=this,o=c,r=wf(),n||(n=setTimeout(l,e),i&&(a=t.apply(s,o))),a}));return c.cancel=function(){clearTimeout(n),n=o=s=null},c},wrap:function(t,e){return Ef(e,t)},negate:Uf,compose:function(){var t=arguments,e=t.length-1;return function(){for(var i=e,n=t[e].apply(this,arguments);i--;)n=t[i].call(this,n);return n}},after:function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},before:Zf,once:$f,findKey:Ff,findIndex:Vf,findLastIndex:Yf,sortedIndex:Hf,indexOf:Jf,lastIndexOf:Qf,find:Kf,detect:Kf,findWhere:function(t,e){return Kf(t,pf(e))},each:qf,forEach:qf,map:tm,collect:tm,reduce:im,foldl:im,inject:im,reduceRight:nm,foldr:nm,filter:rm,select:rm,reject:function(t,e,i){return rm(t,Uf(bf(e)),i)},every:om,all:om,some:am,any:am,contains:sm,includes:sm,include:sm,invoke:lm,pluck:cm,where:function(t,e){return rm(t,pf(e))},max:dm,min:function(t,e,i){var n,r,o=1/0,a=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,l=(t=zf(t)?t:qg(t)).length;s<l;s++)null!=(n=t[s])&&n<o&&(o=n);else e=bf(e,i),qf(t,(function(t,i,n){((r=e(t,i,n))<a||r===1/0&&o===1/0)&&(o=t,a=r)}));return o},shuffle:function(t){return pm(t,1/0)},sample:pm,sortBy:function(t,e,i){var n=0;return e=bf(e,i),cm(tm(t,(function(t,i,r){return{value:t,index:n++,criteria:e(t,i,r)}})).sort((function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(i<n||void 0===n)return-1}return t.index-e.index})),"value")},groupBy:fm,indexBy:mm,countBy:vm,partition:bm,toArray:hm,size:function(t){return null==t?0:zf(t)?t.length:Eg(t).length},pick:xm,omit:wm,first:Cm,head:Cm,take:Cm,initial:Im,last:function(t,e,i){return null==t||t.length<1?null==e||i?void 0:[]:null==e||i?t[t.length-1]:Am(t,Math.max(0,t.length-e))},rest:Am,tail:Am,drop:Am,compact:function(t){return rm(t,Boolean)},flatten:function(t,e){return jf(t,e,!1)},without:km,uniq:_m,unique:_m,union:Tm,intersection:function(t){for(var e=[],i=arguments.length,n=0,r=Lg(t);n<r;n++){var o=t[n];if(!sm(e,o)){var a;for(a=1;a<i&&sm(arguments[a],o);a++);a===i&&e.push(o)}}return e},difference:Sm,unzip:Pm,transpose:Pm,zip:Mm,object:function(t,e){for(var i={},n=0,r=Lg(t);n<r;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},range:function(t,e,i){null==e&&(e=t||0,t=0),i||(i=e<t?-1:1);for(var n=Math.max(Math.ceil((e-t)/i),0),r=Array(n),o=0;o<n;o++,t+=i)r[o]=t;return r},chunk:function(t,e){if(null==e||e<1)return[];for(var i=[],n=0,r=t.length;n<r;)i.push(Bp.call(t,n,n+=e));return i},mixin:Lm,default:zg}),Em=Lm(Om);Em._=Em;var Dm=Op((function(t){
/*!
   * jQuery JavaScript Library v3.7.1
   * https://jquery.com/
   *
   * Copyright OpenJS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2023-08-28T13:37Z
   */
!function(e,i){t.exports=e.document?i(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}}("undefined"!=typeof window?window:Lp,(function(t,e){var i=[],n=Object.getPrototypeOf,r=i.slice,o=i.flat?function(t){return i.flat.call(t)}:function(t){return i.concat.apply([],t)},a=i.push,s=i.indexOf,l={},c=l.toString,d=l.hasOwnProperty,u=d.toString,h=u.call(Object),p={},g=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},f=function(t){return null!=t&&t===t.window},m=t.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function b(t,e,i){var n,r,o=(i=i||m).createElement("script");if(o.text=t,e)for(n in v)(r=e[n]||e.getAttribute&&e.getAttribute(n))&&o.setAttribute(n,r);i.head.appendChild(o).parentNode.removeChild(o)}function y(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?l[c.call(t)]||"object":typeof t}var x="3.7.1",w=/HTML$/i,I=function(t,e){return new I.fn.init(t,e)};function C(t){var e=!!t&&"length"in t&&t.length,i=y(t);return!g(t)&&!f(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function A(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}I.fn=I.prototype={jquery:x,constructor:I,length:0,toArray:function(){return r.call(this)},get:function(t){return null==t?r.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=I.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return I.each(this,t)},map:function(t){return this.pushStack(I.map(this,(function(e,i){return t.call(e,i,e)})))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(I.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(I.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:i.sort,splice:i.splice},I.extend=I.fn.extend=function(){var t,e,i,n,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||g(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)n=t[e],"__proto__"!==e&&a!==n&&(c&&n&&(I.isPlainObject(n)||(r=Array.isArray(n)))?(i=a[e],o=r&&!Array.isArray(i)?[]:r||I.isPlainObject(i)?i:{},r=!1,a[e]=I.extend(c,o,n)):void 0!==n&&(a[e]=n));return a},I.extend({expando:"jQuery"+(x+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==c.call(t))&&(!(e=n(t))||"function"==typeof(i=d.call(e,"constructor")&&e.constructor)&&u.call(i)===h)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,i){b(t,{nonce:e&&e.nonce},i)},each:function(t,e){var i,n=0;if(C(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},text:function(t){var e,i="",n=0,r=t.nodeType;if(!r)for(;e=t[n++];)i+=I.text(e);return 1===r||11===r?t.textContent:9===r?t.documentElement.textContent:3===r||4===r?t.nodeValue:i},makeArray:function(t,e){var i=e||[];return null!=t&&(C(Object(t))?I.merge(i,"string"==typeof t?[t]:t):a.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:s.call(e,t,i)},isXMLDoc:function(t){var e=t&&t.namespaceURI,i=t&&(t.ownerDocument||t).documentElement;return!w.test(e||i&&i.nodeName||"HTML")},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n=[],r=0,o=t.length,a=!i;r<o;r++)!e(t[r],r)!==a&&n.push(t[r]);return n},map:function(t,e,i){var n,r,a=0,s=[];if(C(t))for(n=t.length;a<n;a++)null!=(r=e(t[a],a,i))&&s.push(r);else for(a in t)null!=(r=e(t[a],a,i))&&s.push(r);return o(s)},guid:1,support:p}),"function"==typeof Symbol&&(I.fn[Symbol.iterator]=i[Symbol.iterator]),I.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){l["[object "+e+"]"]=e.toLowerCase()}));var S=i.pop,k=i.sort,_=i.splice,T="[\\x20\\t\\r\\n\\f]",P=new RegExp("^"+T+"+|((?:^|[^\\\\])(?:\\\\.)*)"+T+"+$","g");I.contains=function(t,e){var i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(t.contains?t.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))};var M=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function N(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}I.escapeSelector=function(t){return(t+"").replace(M,N)};var L=m,O=a;!function(){var e,n,o,a,l,c,u,h,g,f,m=O,v=I.expando,b=0,y=0,x=tt(),w=tt(),C=tt(),M=tt(),N=function(t,e){return t===e&&(l=!0),0},E="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",D="(?:\\\\[\\da-fA-F]{1,6}"+T+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",z="\\["+T+"*("+D+")(?:"+T+"*([*^$|!~]?=)"+T+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+D+"))|)"+T+"*\\]",j=":("+D+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",R=new RegExp(T+"+","g"),G=new RegExp("^"+T+"*,"+T+"*"),B=new RegExp("^"+T+"*([>+~]|"+T+")"+T+"*"),U=new RegExp(T+"|>"),Z=new RegExp(j),$=new RegExp("^"+D+"$"),F={ID:new RegExp("^#("+D+")"),CLASS:new RegExp("^\\.("+D+")"),TAG:new RegExp("^("+D+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+T+"*(even|odd|(([+-]|)(\\d*)n|)"+T+"*(?:([+-]|)"+T+"*(\\d+)|))"+T+"*\\)|)","i"),bool:new RegExp("^(?:"+E+")$","i"),needsContext:new RegExp("^"+T+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+T+"*((?:-\\d)?\\d*)"+T+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,V=/^h\d$/i,Y=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,H=/[+~]/,X=new RegExp("\\\\[\\da-fA-F]{1,6}"+T+"?|\\\\([^\\r\\n\\f])","g"),J=function(t,e){var i="0x"+t.slice(1)-65536;return e||(i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320))},Q=function(){lt()},K=ht((function(t){return!0===t.disabled&&A(t,"fieldset")}),{dir:"parentNode",next:"legend"});try{m.apply(i=r.call(L.childNodes),L.childNodes),i[L.childNodes.length].nodeType}catch(t){m={apply:function(t,e){O.apply(t,r.call(e))},call:function(t){O.apply(t,r.call(arguments,1))}}}function q(t,e,i,n){var r,o,a,s,l,d,u,f=e&&e.ownerDocument,b=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==b&&9!==b&&11!==b)return i;if(!n&&(lt(e),e=e||c,h)){if(11!==b&&(l=Y.exec(t)))if(r=l[1]){if(9===b){if(!(a=e.getElementById(r)))return i;if(a.id===r)return m.call(i,a),i}else if(f&&(a=f.getElementById(r))&&q.contains(e,a)&&a.id===r)return m.call(i,a),i}else{if(l[2])return m.apply(i,e.getElementsByTagName(t)),i;if((r=l[3])&&e.getElementsByClassName)return m.apply(i,e.getElementsByClassName(r)),i}if(!(M[t+" "]||g&&g.test(t))){if(u=t,f=e,1===b&&(U.test(t)||B.test(t))){for((f=H.test(t)&&st(e.parentNode)||e)==e&&p.scope||((s=e.getAttribute("id"))?s=I.escapeSelector(s):e.setAttribute("id",s=v)),o=(d=dt(t)).length;o--;)d[o]=(s?"#"+s:":scope")+" "+ut(d[o]);u=d.join(",")}try{return m.apply(i,f.querySelectorAll(u)),i}catch(e){M(t,!0)}finally{s===v&&e.removeAttribute("id")}}}return bt(t.replace(P,"$1"),e,i,n)}function tt(){var t=[];return function e(i,r){return t.push(i+" ")>n.cacheLength&&delete e[t.shift()],e[i+" "]=r}}function et(t){return t[v]=!0,t}function it(t){var e=c.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function nt(t){return function(e){return A(e,"input")&&e.type===t}}function rt(t){return function(e){return(A(e,"input")||A(e,"button"))&&e.type===t}}function ot(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&K(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function at(t){return et((function(e){return e=+e,et((function(i,n){for(var r,o=t([],i.length,e),a=o.length;a--;)i[r=o[a]]&&(i[r]=!(n[r]=i[r]))}))}))}function st(t){return t&&void 0!==t.getElementsByTagName&&t}function lt(t){var e,i=t?t.ownerDocument||t:L;return i!=c&&9===i.nodeType&&i.documentElement?(u=(c=i).documentElement,h=!I.isXMLDoc(c),f=u.matches||u.webkitMatchesSelector||u.msMatchesSelector,u.msMatchesSelector&&L!=c&&(e=c.defaultView)&&e.top!==e&&e.addEventListener("unload",Q),p.getById=it((function(t){return u.appendChild(t).id=I.expando,!c.getElementsByName||!c.getElementsByName(I.expando).length})),p.disconnectedMatch=it((function(t){return f.call(t,"*")})),p.scope=it((function(){return c.querySelectorAll(":scope")})),p.cssHas=it((function(){try{return c.querySelector(":has(*,:jqfake)"),!1}catch(t){return!0}})),p.getById?(n.filter.ID=function(t){var e=t.replace(X,J);return function(t){return t.getAttribute("id")===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&h){var i=e.getElementById(t);return i?[i]:[]}}):(n.filter.ID=function(t){var e=t.replace(X,J);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&h){var i,n,r,o=e.getElementById(t);if(o){if((i=o.getAttributeNode("id"))&&i.value===t)return[o];for(r=e.getElementsByName(t),n=0;o=r[n++];)if((i=o.getAttributeNode("id"))&&i.value===t)return[o]}return[]}}),n.find.TAG=function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):e.querySelectorAll(t)},n.find.CLASS=function(t,e){if(void 0!==e.getElementsByClassName&&h)return e.getElementsByClassName(t)},g=[],it((function(t){var e;u.appendChild(t).innerHTML="<a id='"+v+"' href='' disabled='disabled'></a><select id='"+v+"-\r\\' disabled='disabled'><option selected=''></option></select>",t.querySelectorAll("[selected]").length||g.push("\\["+T+"*(?:value|"+E+")"),t.querySelectorAll("[id~="+v+"-]").length||g.push("~="),t.querySelectorAll("a#"+v+"+*").length||g.push(".#.+[+~]"),t.querySelectorAll(":checked").length||g.push(":checked"),(e=c.createElement("input")).setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),u.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),(e=c.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||g.push("\\["+T+"*name"+T+"*="+T+"*(?:''|\"\")")})),p.cssHas||g.push(":has"),g=g.length&&new RegExp(g.join("|")),N=function(t,e){if(t===e)return l=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!p.sortDetached&&e.compareDocumentPosition(t)===i?t===c||t.ownerDocument==L&&q.contains(L,t)?-1:e===c||e.ownerDocument==L&&q.contains(L,e)?1:a?s.call(a,t)-s.call(a,e):0:4&i?-1:1)},c):c}for(e in q.matches=function(t,e){return q(t,null,null,e)},q.matchesSelector=function(t,e){if(lt(t),h&&!M[e+" "]&&(!g||!g.test(e)))try{var i=f.call(t,e);if(i||p.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){M(e,!0)}return q(e,c,null,[t]).length>0},q.contains=function(t,e){return(t.ownerDocument||t)!=c&&lt(t),I.contains(t,e)},q.attr=function(t,e){(t.ownerDocument||t)!=c&&lt(t);var i=n.attrHandle[e.toLowerCase()],r=i&&d.call(n.attrHandle,e.toLowerCase())?i(t,e,!h):void 0;return void 0!==r?r:t.getAttribute(e)},q.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},I.uniqueSort=function(t){var e,i=[],n=0,o=0;if(l=!p.sortStable,a=!p.sortStable&&r.call(t,0),k.call(t,N),l){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)_.call(t,i[n],1)}return a=null,t},I.fn.uniqueSort=function(){return this.pushStack(I.uniqueSort(r.apply(this)))},n=I.expr={cacheLength:50,createPseudo:et,match:F,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(X,J),t[3]=(t[3]||t[4]||t[5]||"").replace(X,J),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||q.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&q.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return F.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&Z.test(i)&&(e=dt(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(X,J).toLowerCase();return"*"===t?function(){return!0}:function(t){return A(t,e)}},CLASS:function(t){var e=x[t+" "];return e||(e=new RegExp("(^|"+T+")"+t+"("+T+"|$)"))&&x(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,i){return function(n){var r=q.attr(n,t);return null==r?"!="===e:!e||(r+="","="===e?r===i:"!="===e?r!==i:"^="===e?i&&0===r.indexOf(i):"*="===e?i&&r.indexOf(i)>-1:"$="===e?i&&r.slice(-i.length)===i:"~="===e?(" "+r.replace(R," ")+" ").indexOf(i)>-1:"|="===e&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,n,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var c,d,u,h,p,g=o!==a?"nextSibling":"previousSibling",f=e.parentNode,m=s&&e.nodeName.toLowerCase(),y=!l&&!s,x=!1;if(f){if(o){for(;g;){for(u=e;u=u[g];)if(s?A(u,m):1===u.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?f.firstChild:f.lastChild],a&&y){for(x=(h=(c=(d=f[v]||(f[v]={}))[t]||[])[0]===b&&c[1])&&c[2],u=h&&f.childNodes[h];u=++h&&u&&u[g]||(x=h=0)||p.pop();)if(1===u.nodeType&&++x&&u===e){d[t]=[b,h,x];break}}else if(y&&(x=h=(c=(d=e[v]||(e[v]={}))[t]||[])[0]===b&&c[1]),!1===x)for(;(u=++h&&u&&u[g]||(x=h=0)||p.pop())&&(!(s?A(u,m):1===u.nodeType)||!++x||(y&&((d=u[v]||(u[v]={}))[t]=[b,x]),u!==e)););return(x-=r)===n||x%n==0&&x/n>=0}}},PSEUDO:function(t,e){var i,r=n.pseudos[t]||n.setFilters[t.toLowerCase()]||q.error("unsupported pseudo: "+t);return r[v]?r(e):r.length>1?(i=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?et((function(t,i){for(var n,o=r(t,e),a=o.length;a--;)t[n=s.call(t,o[a])]=!(i[n]=o[a])})):function(t){return r(t,0,i)}):r}},pseudos:{not:et((function(t){var e=[],i=[],n=vt(t.replace(P,"$1"));return n[v]?et((function(t,e,i,r){for(var o,a=n(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))})):function(t,r,o){return e[0]=t,n(e,null,o,i),e[0]=null,!i.pop()}})),has:et((function(t){return function(e){return q(t,e).length>0}})),contains:et((function(t){return t=t.replace(X,J),function(e){return(e.textContent||I.text(e)).indexOf(t)>-1}})),lang:et((function(t){return $.test(t||"")||q.error("unsupported lang: "+t),t=t.replace(X,J).toLowerCase(),function(e){var i;do{if(i=h?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===u},focus:function(t){return t===function(){try{return c.activeElement}catch(t){}}()&&c.hasFocus()&&!!(t.type||t.href||~t.tabIndex)},enabled:ot(!1),disabled:ot(!0),checked:function(t){return A(t,"input")&&!!t.checked||A(t,"option")&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos.empty(t)},header:function(t){return V.test(t.nodeName)},input:function(t){return W.test(t.nodeName)},button:function(t){return A(t,"input")&&"button"===t.type||A(t,"button")},text:function(t){var e;return A(t,"input")&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:at((function(){return[0]})),last:at((function(t,e){return[e-1]})),eq:at((function(t,e,i){return[i<0?i+e:i]})),even:at((function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t})),odd:at((function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t})),lt:at((function(t,e,i){var n;for(n=i<0?i+e:i>e?e:i;--n>=0;)t.push(n);return t})),gt:at((function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t}))}},n.pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=nt(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=rt(e);function ct(){}function dt(t,e){var i,r,o,a,s,l,c,d=w[t+" "];if(d)return e?0:d.slice(0);for(s=t,l=[],c=n.preFilter;s;){for(a in i&&!(r=G.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=B.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(P," ")}),s=s.slice(i.length)),n.filter)!(r=F[a].exec(s))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return e?s.length:s?q.error(t):w(t,l).slice(0)}function ut(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function ht(t,e,i){var n=e.dir,r=e.next,o=r||n,a=i&&"parentNode"===o,s=y++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||a)return t(e,i,r);return!1}:function(e,i,l){var c,d,u=[b,s];if(l){for(;e=e[n];)if((1===e.nodeType||a)&&t(e,i,l))return!0}else for(;e=e[n];)if(1===e.nodeType||a)if(d=e[v]||(e[v]={}),r&&A(e,r))e=e[n]||e;else{if((c=d[o])&&c[0]===b&&c[1]===s)return u[2]=c[2];if(d[o]=u,u[2]=t(e,i,l))return!0}return!1}}function pt(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function gt(t,e,i,n,r){for(var o,a=[],s=0,l=t.length,c=null!=e;s<l;s++)(o=t[s])&&(i&&!i(o,n,r)||(a.push(o),c&&e.push(s)));return a}function ft(t,e,i,n,r,o){return n&&!n[v]&&(n=ft(n)),r&&!r[v]&&(r=ft(r,o)),et((function(o,a,l,c){var d,u,h,p,g=[],f=[],v=a.length,b=o||function(t,e,i){for(var n=0,r=e.length;n<r;n++)q(t,e[n],i);return i}(e||"*",l.nodeType?[l]:l,[]),y=!t||!o&&e?b:gt(b,g,t,l,c);if(i?i(y,p=r||(o?t:v||n)?[]:a,l,c):p=y,n)for(d=gt(p,f),n(d,[],l,c),u=d.length;u--;)(h=d[u])&&(p[f[u]]=!(y[f[u]]=h));if(o){if(r||t){if(r){for(d=[],u=p.length;u--;)(h=p[u])&&d.push(y[u]=h);r(null,p=[],d,c)}for(u=p.length;u--;)(h=p[u])&&(d=r?s.call(o,h):g[u])>-1&&(o[d]=!(a[d]=h))}}else p=gt(p===a?p.splice(v,p.length):p),r?r(null,a,p,c):m.apply(a,p)}))}function mt(t){for(var e,i,r,a=t.length,l=n.relative[t[0].type],c=l||n.relative[" "],d=l?1:0,u=ht((function(t){return t===e}),c,!0),h=ht((function(t){return s.call(e,t)>-1}),c,!0),p=[function(t,i,n){var r=!l&&(n||i!=o)||((e=i).nodeType?u(t,i,n):h(t,i,n));return e=null,r}];d<a;d++)if(i=n.relative[t[d].type])p=[ht(pt(p),i)];else{if((i=n.filter[t[d].type].apply(null,t[d].matches))[v]){for(r=++d;r<a&&!n.relative[t[r].type];r++);return ft(d>1&&pt(p),d>1&&ut(t.slice(0,d-1).concat({value:" "===t[d-2].type?"*":""})).replace(P,"$1"),i,d<r&&mt(t.slice(d,r)),r<a&&mt(t=t.slice(r)),r<a&&ut(t))}p.push(i)}return pt(p)}function vt(t,e){var i,r=[],a=[],s=C[t+" "];if(!s){for(e||(e=dt(t)),i=e.length;i--;)(s=mt(e[i]))[v]?r.push(s):a.push(s);s=C(t,function(t,e){var i=e.length>0,r=t.length>0,a=function(a,s,l,d,u){var p,g,f,v=0,y="0",x=a&&[],w=[],C=o,A=a||r&&n.find.TAG("*",u),k=b+=null==C?1:Math.random()||.1,_=A.length;for(u&&(o=s==c||s||u);y!==_&&null!=(p=A[y]);y++){if(r&&p){for(g=0,s||p.ownerDocument==c||(lt(p),l=!h);f=t[g++];)if(f(p,s||c,l)){m.call(d,p);break}u&&(b=k)}i&&((p=!f&&p)&&v--,a&&x.push(p))}if(v+=y,i&&y!==v){for(g=0;f=e[g++];)f(x,w,s,l);if(a){if(v>0)for(;y--;)x[y]||w[y]||(w[y]=S.call(d));w=gt(w)}m.apply(d,w),u&&!a&&w.length>0&&v+e.length>1&&I.uniqueSort(d)}return u&&(b=k,o=C),x};return i?et(a):a}(a,r)),s.selector=t}return s}function bt(t,e,i,r){var o,a,s,l,c,d="function"==typeof t&&t,u=!r&&dt(t=d.selector||t);if(i=i||[],1===u.length){if((a=u[0]=u[0].slice(0)).length>2&&"ID"===(s=a[0]).type&&9===e.nodeType&&h&&n.relative[a[1].type]){if(!(e=(n.find.ID(s.matches[0].replace(X,J),e)||[])[0]))return i;d&&(e=e.parentNode),t=t.slice(a.shift().value.length)}for(o=F.needsContext.test(t)?0:a.length;o--&&(s=a[o],!n.relative[l=s.type]);)if((c=n.find[l])&&(r=c(s.matches[0].replace(X,J),H.test(a[0].type)&&st(e.parentNode)||e))){if(a.splice(o,1),!(t=r.length&&ut(a)))return m.apply(i,r),i;break}}return(d||vt(t,u))(r,e,!h,i,!e||H.test(t)&&st(e.parentNode)||e),i}ct.prototype=n.filters=n.pseudos,n.setFilters=new ct,p.sortStable=v.split("").sort(N).join("")===v,lt(),p.sortDetached=it((function(t){return 1&t.compareDocumentPosition(c.createElement("fieldset"))})),I.find=q,I.expr[":"]=I.expr.pseudos,I.unique=I.uniqueSort,q.compile=vt,q.select=bt,q.setDocument=lt,q.tokenize=dt,q.escape=I.escapeSelector,q.getText=I.text,q.isXML=I.isXMLDoc,q.selectors=I.expr,q.support=I.support,q.uniqueSort=I.uniqueSort}();var E=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&I(t).is(i))break;n.push(t)}return n},D=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},z=I.expr.match.needsContext,j=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function R(t,e,i){return g(e)?I.grep(t,(function(t,n){return!!e.call(t,n,t)!==i})):e.nodeType?I.grep(t,(function(t){return t===e!==i})):"string"!=typeof e?I.grep(t,(function(t){return s.call(e,t)>-1!==i})):I.filter(e,t,i)}I.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?I.find.matchesSelector(n,t)?[n]:[]:I.find.matches(t,I.grep(e,(function(t){return 1===t.nodeType})))},I.fn.extend({find:function(t){var e,i,n=this.length,r=this;if("string"!=typeof t)return this.pushStack(I(t).filter((function(){for(e=0;e<n;e++)if(I.contains(r[e],this))return!0})));for(i=this.pushStack([]),e=0;e<n;e++)I.find(t,r[e],i);return n>1?I.uniqueSort(i):i},filter:function(t){return this.pushStack(R(this,t||[],!1))},not:function(t){return this.pushStack(R(this,t||[],!0))},is:function(t){return!!R(this,"string"==typeof t&&z.test(t)?I(t):t||[],!1).length}});var G,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,U=I.fn.init=function(t,e,i){var n,r;if(!t)return this;if(i=i||G,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:B.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof I?e[0]:e,I.merge(this,I.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:m,!0)),j.test(n[1])&&I.isPlainObject(e))for(n in e)g(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(r=m.getElementById(n[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):g(t)?void 0!==i.ready?i.ready(t):t(I):I.makeArray(t,this)};U.prototype=I.fn,G=I(m);var Z=/^(?:parents|prev(?:Until|All))/,$={children:!0,contents:!0,next:!0,prev:!0};function F(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}I.fn.extend({has:function(t){var e=I(t,this),i=e.length;return this.filter((function(){for(var t=0;t<i;t++)if(I.contains(this,e[t]))return!0}))},closest:function(t,e){var i,n=0,r=this.length,o=[],a="string"!=typeof t&&I(t);if(!z.test(t))for(;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&I.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?I.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?s.call(I(t),this[0]):s.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(I.uniqueSort(I.merge(this.get(),I(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),I.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return E(t,"parentNode")},parentsUntil:function(t,e,i){return E(t,"parentNode",i)},next:function(t){return F(t,"nextSibling")},prev:function(t){return F(t,"previousSibling")},nextAll:function(t){return E(t,"nextSibling")},prevAll:function(t){return E(t,"previousSibling")},nextUntil:function(t,e,i){return E(t,"nextSibling",i)},prevUntil:function(t,e,i){return E(t,"previousSibling",i)},siblings:function(t){return D((t.parentNode||{}).firstChild,t)},children:function(t){return D(t.firstChild)},contents:function(t){return null!=t.contentDocument&&n(t.contentDocument)?t.contentDocument:(A(t,"template")&&(t=t.content||t),I.merge([],t.childNodes))}},(function(t,e){I.fn[t]=function(i,n){var r=I.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=I.filter(n,r)),this.length>1&&($[t]||I.uniqueSort(r),Z.test(t)&&r.reverse()),this.pushStack(r)}}));var W=/[^\x20\t\r\n\f]+/g;function V(t){return t}function Y(t){throw t}function H(t,e,i,n){var r;try{t&&g(r=t.promise)?r.call(t).done(e).fail(i):t&&g(r=t.then)?r.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}I.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return I.each(t.match(W)||[],(function(t,i){e[i]=!0})),e}(t):I.extend({},t);var e,i,n,r,o=[],a=[],s=-1,l=function(){for(r=r||t.once,n=e=!0;a.length;s=-1)for(i=a.shift();++s<o.length;)!1===o[s].apply(i[0],i[1])&&t.stopOnFalse&&(s=o.length,i=!1);t.memory||(i=!1),e=!1,r&&(o=i?[]:"")},c={add:function(){return o&&(i&&!e&&(s=o.length-1,a.push(i)),function e(i){I.each(i,(function(i,n){g(n)?t.unique&&c.has(n)||o.push(n):n&&n.length&&"string"!==y(n)&&e(n)}))}(arguments),i&&!e&&l()),this},remove:function(){return I.each(arguments,(function(t,e){for(var i;(i=I.inArray(e,o,i))>-1;)o.splice(i,1),i<=s&&s--})),this},has:function(t){return t?I.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=i="",this},disabled:function(){return!o},lock:function(){return r=a=[],i||e||(o=i=""),this},locked:function(){return!!r},fireWith:function(t,i){return r||(i=[t,(i=i||[]).slice?i.slice():i],a.push(i),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},I.extend({Deferred:function(e){var i=[["notify","progress",I.Callbacks("memory"),I.Callbacks("memory"),2],["resolve","done",I.Callbacks("once memory"),I.Callbacks("once memory"),0,"resolved"],["reject","fail",I.Callbacks("once memory"),I.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return I.Deferred((function(e){I.each(i,(function(i,n){var r=g(t[n[4]])&&t[n[4]];o[n[1]]((function(){var t=r&&r.apply(this,arguments);t&&g(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[n[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(e,n,r){var o=0;function a(e,i,n,r){return function(){var s=this,l=arguments,c=function(){var t,c;if(!(e<o)){if((t=n.apply(s,l))===i.promise())throw new TypeError("Thenable self-resolution");c=t&&("object"==typeof t||"function"==typeof t)&&t.then,g(c)?r?c.call(t,a(o,i,V,r),a(o,i,Y,r)):(o++,c.call(t,a(o,i,V,r),a(o,i,Y,r),a(o,i,V,i.notifyWith))):(n!==V&&(s=void 0,l=[t]),(r||i.resolveWith)(s,l))}},d=r?c:function(){try{c()}catch(t){I.Deferred.exceptionHook&&I.Deferred.exceptionHook(t,d.error),e+1>=o&&(n!==Y&&(s=void 0,l=[t]),i.rejectWith(s,l))}};e?d():(I.Deferred.getErrorHook?d.error=I.Deferred.getErrorHook():I.Deferred.getStackHook&&(d.error=I.Deferred.getStackHook()),t.setTimeout(d))}}return I.Deferred((function(t){i[0][3].add(a(0,t,g(r)?r:V,t.notifyWith)),i[1][3].add(a(0,t,g(e)?e:V)),i[2][3].add(a(0,t,g(n)?n:Y))})).promise()},promise:function(t){return null!=t?I.extend(t,r):r}},o={};return I.each(i,(function(t,e){var a=e[2],s=e[5];r[e[1]]=a.add,s&&a.add((function(){n=s}),i[3-t][2].disable,i[3-t][3].disable,i[0][2].lock,i[0][3].lock),a.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=a.fireWith})),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,i=e,n=Array(i),o=r.call(arguments),a=I.Deferred(),s=function(t){return function(i){n[t]=this,o[t]=arguments.length>1?r.call(arguments):i,--e||a.resolveWith(n,o)}};if(e<=1&&(H(t,a.done(s(i)).resolve,a.reject,!e),"pending"===a.state()||g(o[i]&&o[i].then)))return a.then();for(;i--;)H(o[i],s(i),a.reject);return a.promise()}});var X=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;I.Deferred.exceptionHook=function(e,i){t.console&&t.console.warn&&e&&X.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,i)},I.readyException=function(e){t.setTimeout((function(){throw e}))};var J=I.Deferred();function Q(){m.removeEventListener("DOMContentLoaded",Q),t.removeEventListener("load",Q),I.ready()}I.fn.ready=function(t){return J.then(t).catch((function(t){I.readyException(t)})),this},I.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--I.readyWait:I.isReady)||(I.isReady=!0,!0!==t&&--I.readyWait>0||J.resolveWith(m,[I]))}}),I.ready.then=J.then,"complete"===m.readyState||"loading"!==m.readyState&&!m.documentElement.doScroll?t.setTimeout(I.ready):(m.addEventListener("DOMContentLoaded",Q),t.addEventListener("load",Q));var K=function(t,e,i,n,r,o,a){var s=0,l=t.length,c=null==i;if("object"===y(i))for(s in r=!0,i)K(t,e,s,i[s],!0,o,a);else if(void 0!==n&&(r=!0,g(n)||(a=!0),c&&(a?(e.call(t,n),e=null):(c=e,e=function(t,e,i){return c.call(I(t),i)})),e))for(;s<l;s++)e(t[s],i,a?n:n.call(t[s],s,e(t[s],i)));return r?t:c?e.call(t):l?e(t[0],i):o},q=/^-ms-/,tt=/-([a-z])/g;function et(t,e){return e.toUpperCase()}function it(t){return t.replace(q,"ms-").replace(tt,et)}var nt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function rt(){this.expando=I.expando+rt.uid++}rt.uid=1,rt.prototype={cache:function(t){var e=t[this.expando];return e||(e={},nt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"==typeof e)r[it(e)]=i;else for(n in e)r[it(n)]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][it(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map(it):(e=it(e))in n?[e]:e.match(W)||[]).length;for(;i--;)delete n[e[i]]}(void 0===e||I.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!I.isEmptyObject(e)}};var ot=new rt,at=new rt,st=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,lt=/[A-Z]/g;function ct(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(lt,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:st.test(t)?JSON.parse(t):t)}(i)}catch(t){}at.set(t,e,i)}else i=void 0;return i}I.extend({hasData:function(t){return at.hasData(t)||ot.hasData(t)},data:function(t,e,i){return at.access(t,e,i)},removeData:function(t,e){at.remove(t,e)},_data:function(t,e,i){return ot.access(t,e,i)},_removeData:function(t,e){ot.remove(t,e)}}),I.fn.extend({data:function(t,e){var i,n,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=at.get(o),1===o.nodeType&&!ot.get(o,"hasDataAttrs"))){for(i=a.length;i--;)a[i]&&0===(n=a[i].name).indexOf("data-")&&(n=it(n.slice(5)),ct(o,n,r[n]));ot.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each((function(){at.set(this,t)})):K(this,(function(e){var i;if(o&&void 0===e)return void 0!==(i=at.get(o,t))||void 0!==(i=ct(o,t))?i:void 0;this.each((function(){at.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){at.remove(this,t)}))}}),I.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=ot.get(t,e),i&&(!n||Array.isArray(i)?n=ot.access(t,e,I.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=I.queue(t,e),n=i.length,r=i.shift(),o=I._queueHooks(t,e);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,(function(){I.dequeue(t,e)}),o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return ot.get(t,i)||ot.access(t,i,{empty:I.Callbacks("once memory").add((function(){ot.remove(t,[e+"queue",i])}))})}}),I.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?I.queue(this[0],t):void 0===e?this:this.each((function(){var i=I.queue(this,t,e);I._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&I.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){I.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=I.Deferred(),o=this,a=this.length,s=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(i=ot.get(o[a],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(s));return s(),r.promise(e)}});var dt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ut=new RegExp("^(?:([+-])=|)("+dt+")([a-z%]*)$","i"),ht=["Top","Right","Bottom","Left"],pt=m.documentElement,gt=function(t){return I.contains(t.ownerDocument,t)},ft={composed:!0};pt.getRootNode&&(gt=function(t){return I.contains(t.ownerDocument,t)||t.getRootNode(ft)===t.ownerDocument});var mt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&gt(t)&&"none"===I.css(t,"display")};function vt(t,e,i,n){var r,o,a=20,s=n?function(){return n.cur()}:function(){return I.css(t,e,"")},l=s(),c=i&&i[3]||(I.cssNumber[e]?"":"px"),d=t.nodeType&&(I.cssNumber[e]||"px"!==c&&+l)&&ut.exec(I.css(t,e));if(d&&d[3]!==c){for(l/=2,c=c||d[3],d=+l||1;a--;)I.style(t,e,d+c),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),d/=o;d*=2,I.style(t,e,d+c),i=i||[]}return i&&(d=+d||+l||0,r=i[1]?d+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=d,n.end=r)),r}var bt={};function yt(t){var e,i=t.ownerDocument,n=t.nodeName,r=bt[n];return r||(e=i.body.appendChild(i.createElement(n)),r=I.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),bt[n]=r,r)}function xt(t,e){for(var i,n,r=[],o=0,a=t.length;o<a;o++)(n=t[o]).style&&(i=n.style.display,e?("none"===i&&(r[o]=ot.get(n,"display")||null,r[o]||(n.style.display="")),""===n.style.display&&mt(n)&&(r[o]=yt(n))):"none"!==i&&(r[o]="none",ot.set(n,"display",i)));for(o=0;o<a;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}I.fn.extend({show:function(){return xt(this,!0)},hide:function(){return xt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){mt(this)?I(this).show():I(this).hide()}))}});var wt,It,Ct=/^(?:checkbox|radio)$/i,At=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,St=/^$|^module$|\/(?:java|ecma)script/i;wt=m.createDocumentFragment().appendChild(m.createElement("div")),(It=m.createElement("input")).setAttribute("type","radio"),It.setAttribute("checked","checked"),It.setAttribute("name","t"),wt.appendChild(It),p.checkClone=wt.cloneNode(!0).cloneNode(!0).lastChild.checked,wt.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!wt.cloneNode(!0).lastChild.defaultValue,wt.innerHTML="<option></option>",p.option=!!wt.lastChild;var kt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function _t(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&A(t,e)?I.merge([t],i):i}function Tt(t,e){for(var i=0,n=t.length;i<n;i++)ot.set(t[i],"globalEval",!e||ot.get(e[i],"globalEval"))}kt.tbody=kt.tfoot=kt.colgroup=kt.caption=kt.thead,kt.th=kt.td,p.option||(kt.optgroup=kt.option=[1,"<select multiple='multiple'>","</select>"]);var Pt=/<|&#?\w+;/;function Mt(t,e,i,n,r){for(var o,a,s,l,c,d,u=e.createDocumentFragment(),h=[],p=0,g=t.length;p<g;p++)if((o=t[p])||0===o)if("object"===y(o))I.merge(h,o.nodeType?[o]:o);else if(Pt.test(o)){for(a=a||u.appendChild(e.createElement("div")),s=(At.exec(o)||["",""])[1].toLowerCase(),l=kt[s]||kt._default,a.innerHTML=l[1]+I.htmlPrefilter(o)+l[2],d=l[0];d--;)a=a.lastChild;I.merge(h,a.childNodes),(a=u.firstChild).textContent=""}else h.push(e.createTextNode(o));for(u.textContent="",p=0;o=h[p++];)if(n&&I.inArray(o,n)>-1)r&&r.push(o);else if(c=gt(o),a=_t(u.appendChild(o),"script"),c&&Tt(a),i)for(d=0;o=a[d++];)St.test(o.type||"")&&i.push(o);return u}var Nt=/^([^.]*)(?:\.(.+)|)/;function Lt(){return!0}function Ot(){return!1}function Et(t,e,i,n,r,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof i&&(n=n||i,i=void 0),e)Et(t,s,i,n,e[s],o);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=Ot;else if(!r)return t;return 1===o&&(a=r,r=function(t){return I().off(t),a.apply(this,arguments)},r.guid=a.guid||(a.guid=I.guid++)),t.each((function(){I.event.add(this,e,r,n,i)}))}function Dt(t,e,i){i?(ot.set(t,e,!1),I.event.add(t,e,{namespace:!1,handler:function(t){var i,n=ot.get(this,e);if(1&t.isTrigger&&this[e]){if(n)(I.event.special[e]||{}).delegateType&&t.stopPropagation();else if(n=r.call(arguments),ot.set(this,e,n),this[e](),i=ot.get(this,e),ot.set(this,e,!1),n!==i)return t.stopImmediatePropagation(),t.preventDefault(),i}else n&&(ot.set(this,e,I.event.trigger(n[0],n.slice(1),this)),t.stopPropagation(),t.isImmediatePropagationStopped=Lt)}})):void 0===ot.get(t,e)&&I.event.add(t,e,Lt)}I.event={global:{},add:function(t,e,i,n,r){var o,a,s,l,c,d,u,h,p,g,f,m=ot.get(t);if(nt(t))for(i.handler&&(i=(o=i).handler,r=o.selector),r&&I.find.matchesSelector(pt,r),i.guid||(i.guid=I.guid++),(l=m.events)||(l=m.events=Object.create(null)),(a=m.handle)||(a=m.handle=function(e){return void 0!==I&&I.event.triggered!==e.type?I.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(W)||[""]).length;c--;)p=f=(s=Nt.exec(e[c])||[])[1],g=(s[2]||"").split(".").sort(),p&&(u=I.event.special[p]||{},p=(r?u.delegateType:u.bindType)||p,u=I.event.special[p]||{},d=I.extend({type:p,origType:f,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&I.expr.match.needsContext.test(r),namespace:g.join(".")},o),(h=l[p])||((h=l[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,n,g,a)||t.addEventListener&&t.addEventListener(p,a)),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=i.guid)),r?h.splice(h.delegateCount++,0,d):h.push(d),I.event.global[p]=!0)},remove:function(t,e,i,n,r){var o,a,s,l,c,d,u,h,p,g,f,m=ot.hasData(t)&&ot.get(t);if(m&&(l=m.events)){for(c=(e=(e||"").match(W)||[""]).length;c--;)if(p=f=(s=Nt.exec(e[c])||[])[1],g=(s[2]||"").split(".").sort(),p){for(u=I.event.special[p]||{},h=l[p=(n?u.delegateType:u.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)d=h[o],!r&&f!==d.origType||i&&i.guid!==d.guid||s&&!s.test(d.namespace)||n&&n!==d.selector&&("**"!==n||!d.selector)||(h.splice(o,1),d.selector&&h.delegateCount--,u.remove&&u.remove.call(t,d));a&&!h.length&&(u.teardown&&!1!==u.teardown.call(t,g,m.handle)||I.removeEvent(t,p,m.handle),delete l[p])}else for(p in l)I.event.remove(t,p+e[c],i,n,!0);I.isEmptyObject(l)&&ot.remove(t,"handle events")}},dispatch:function(t){var e,i,n,r,o,a,s=new Array(arguments.length),l=I.event.fix(t),c=(ot.get(this,"events")||Object.create(null))[l.type]||[],d=I.event.special[l.type]||{};for(s[0]=l,e=1;e<arguments.length;e++)s[e]=arguments[e];if(l.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,l)){for(a=I.event.handlers.call(this,l,c),e=0;(r=a[e++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(n=((I.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,l),l.result}},handlers:function(t,e){var i,n,r,o,a,s=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],a={},i=0;i<l;i++)void 0===a[r=(n=e[i]).selector+" "]&&(a[r]=n.needsContext?I(r,this).index(c)>-1:I.find(r,this,null,[c]).length),a[r]&&o.push(n);o.length&&s.push({elem:c,handlers:o})}return c=this,l<e.length&&s.push({elem:c,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(I.Event.prototype,t,{enumerable:!0,configurable:!0,get:g(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[I.expando]?t:new I.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return Ct.test(e.type)&&e.click&&A(e,"input")&&Dt(e,"click",!0),!1},trigger:function(t){var e=this||t;return Ct.test(e.type)&&e.click&&A(e,"input")&&Dt(e,"click"),!0},_default:function(t){var e=t.target;return Ct.test(e.type)&&e.click&&A(e,"input")&&ot.get(e,"click")||A(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},I.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},I.Event=function(t,e){if(!(this instanceof I.Event))return new I.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Lt:Ot,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&I.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[I.expando]=!0},I.Event.prototype={constructor:I.Event,isDefaultPrevented:Ot,isPropagationStopped:Ot,isImmediatePropagationStopped:Ot,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Lt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Lt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Lt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},I.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},I.event.addProp),I.each({focus:"focusin",blur:"focusout"},(function(t,e){function i(t){if(m.documentMode){var i=ot.get(this,"handle"),n=I.event.fix(t);n.type="focusin"===t.type?"focus":"blur",n.isSimulated=!0,i(t),n.target===n.currentTarget&&i(n)}else I.event.simulate(e,t.target,I.event.fix(t))}I.event.special[t]={setup:function(){var n;if(Dt(this,t,!0),!m.documentMode)return!1;(n=ot.get(this,e))||this.addEventListener(e,i),ot.set(this,e,(n||0)+1)},trigger:function(){return Dt(this,t),!0},teardown:function(){var t;if(!m.documentMode)return!1;(t=ot.get(this,e)-1)?ot.set(this,e,t):(this.removeEventListener(e,i),ot.remove(this,e))},_default:function(e){return ot.get(e.target,t)},delegateType:e},I.event.special[e]={setup:function(){var n=this.ownerDocument||this.document||this,r=m.documentMode?this:n,o=ot.get(r,e);o||(m.documentMode?this.addEventListener(e,i):n.addEventListener(t,i,!0)),ot.set(r,e,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,r=m.documentMode?this:n,o=ot.get(r,e)-1;o?ot.set(r,e,o):(m.documentMode?this.removeEventListener(e,i):n.removeEventListener(t,i,!0),ot.remove(r,e))}}})),I.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){I.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=t.relatedTarget,r=t.handleObj;return n&&(n===this||I.contains(this,n))||(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}})),I.fn.extend({on:function(t,e,i,n){return Et(this,t,e,i,n)},one:function(t,e,i,n){return Et(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,I(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=Ot),this.each((function(){I.event.remove(this,t,i,e)}))}});var zt=/<script|<style|<link/i,jt=/checked\s*(?:[^=]|=\s*.checked.)/i,Rt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Gt(t,e){return A(t,"table")&&A(11!==e.nodeType?e:e.firstChild,"tr")&&I(t).children("tbody")[0]||t}function Bt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Ut(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Zt(t,e){var i,n,r,o,a,s;if(1===e.nodeType){if(ot.hasData(t)&&(s=ot.get(t).events))for(r in ot.remove(e,"handle events"),s)for(i=0,n=s[r].length;i<n;i++)I.event.add(e,r,s[r][i]);at.hasData(t)&&(o=at.access(t),a=I.extend({},o),at.set(e,a))}}function $t(t,e){var i=e.nodeName.toLowerCase();"input"===i&&Ct.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function Ft(t,e,i,n){e=o(e);var r,a,s,l,c,d,u=0,h=t.length,f=h-1,m=e[0],v=g(m);if(v||h>1&&"string"==typeof m&&!p.checkClone&&jt.test(m))return t.each((function(r){var o=t.eq(r);v&&(e[0]=m.call(this,r,o.html())),Ft(o,e,i,n)}));if(h&&(a=(r=Mt(e,t[0].ownerDocument,!1,t,n)).firstChild,1===r.childNodes.length&&(r=a),a||n)){for(l=(s=I.map(_t(r,"script"),Bt)).length;u<h;u++)c=r,u!==f&&(c=I.clone(c,!0,!0),l&&I.merge(s,_t(c,"script"))),i.call(t[u],c,u);if(l)for(d=s[s.length-1].ownerDocument,I.map(s,Ut),u=0;u<l;u++)c=s[u],St.test(c.type||"")&&!ot.access(c,"globalEval")&&I.contains(d,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?I._evalUrl&&!c.noModule&&I._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},d):b(c.textContent.replace(Rt,""),c,d))}return t}function Wt(t,e,i){for(var n,r=e?I.filter(e,t):t,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||I.cleanData(_t(n)),n.parentNode&&(i&&gt(n)&&Tt(_t(n,"script")),n.parentNode.removeChild(n));return t}I.extend({htmlPrefilter:function(t){return t},clone:function(t,e,i){var n,r,o,a,s=t.cloneNode(!0),l=gt(t);if(!(p.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||I.isXMLDoc(t)))for(a=_t(s),n=0,r=(o=_t(t)).length;n<r;n++)$t(o[n],a[n]);if(e)if(i)for(o=o||_t(t),a=a||_t(s),n=0,r=o.length;n<r;n++)Zt(o[n],a[n]);else Zt(t,s);return(a=_t(s,"script")).length>0&&Tt(a,!l&&_t(t,"script")),s},cleanData:function(t){for(var e,i,n,r=I.event.special,o=0;void 0!==(i=t[o]);o++)if(nt(i)){if(e=i[ot.expando]){if(e.events)for(n in e.events)r[n]?I.event.remove(i,n):I.removeEvent(i,n,e.handle);i[ot.expando]=void 0}i[at.expando]&&(i[at.expando]=void 0)}}}),I.fn.extend({detach:function(t){return Wt(this,t,!0)},remove:function(t){return Wt(this,t)},text:function(t){return K(this,(function(t){return void 0===t?I.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Ft(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Gt(this,t).appendChild(t)}))},prepend:function(){return Ft(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Gt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Ft(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Ft(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(I.cleanData(_t(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return I.clone(this,t,e)}))},html:function(t){return K(this,(function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!zt.test(t)&&!kt[(At.exec(t)||["",""])[1].toLowerCase()]){t=I.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(I.cleanData(_t(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Ft(this,arguments,(function(e){var i=this.parentNode;I.inArray(this,t)<0&&(I.cleanData(_t(this)),i&&i.replaceChild(e,this))}),t)}}),I.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){I.fn[t]=function(t){for(var i,n=[],r=I(t),o=r.length-1,s=0;s<=o;s++)i=s===o?this:this.clone(!0),I(r[s])[e](i),a.apply(n,i.get());return this.pushStack(n)}}));var Vt=new RegExp("^("+dt+")(?!px)[a-z%]+$","i"),Yt=/^--/,Ht=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)},Xt=function(t,e,i){var n,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];for(r in n=i.call(t),e)t.style[r]=o[r];return n},Jt=new RegExp(ht.join("|"),"i");function Qt(t,e,i){var n,r,o,a,s=Yt.test(e),l=t.style;return(i=i||Ht(t))&&(a=i.getPropertyValue(e)||i[e],s&&a&&(a=a.replace(P,"$1")||void 0),""!==a||gt(t)||(a=I.style(t,e)),!p.pixelBoxStyles()&&Vt.test(a)&&Jt.test(e)&&(n=l.width,r=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=a,a=i.width,l.width=n,l.minWidth=r,l.maxWidth=o)),void 0!==a?a+"":a}function Kt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(d){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",d.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",pt.appendChild(c).appendChild(d);var e=t.getComputedStyle(d);n="1%"!==e.top,l=12===i(e.marginLeft),d.style.right="60%",a=36===i(e.right),r=36===i(e.width),d.style.position="absolute",o=12===i(d.offsetWidth/3),pt.removeChild(c),d=null}}function i(t){return Math.round(parseFloat(t))}var n,r,o,a,s,l,c=m.createElement("div"),d=m.createElement("div");d.style&&(d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===d.style.backgroundClip,I.extend(p,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,i,n,r;return null==s&&(e=m.createElement("table"),i=m.createElement("tr"),n=m.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",i.style.cssText="box-sizing:content-box;border:1px solid",i.style.height="1px",n.style.height="9px",n.style.display="block",pt.appendChild(e).appendChild(i).appendChild(n),r=t.getComputedStyle(i),s=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===i.offsetHeight,pt.removeChild(e)),s}}))}();var qt=["Webkit","Moz","ms"],te=m.createElement("div").style,ee={};function ie(t){var e=I.cssProps[t]||ee[t];return e||(t in te?t:ee[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),i=qt.length;i--;)if((t=qt[i]+e)in te)return t}(t)||t)}var ne=/^(none|table(?!-c[ea]).+)/,re={position:"absolute",visibility:"hidden",display:"block"},oe={letterSpacing:"0",fontWeight:"400"};function ae(t,e,i){var n=ut.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function se(t,e,i,n,r,o){var a="width"===e?1:0,s=0,l=0,c=0;if(i===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===i&&(c+=I.css(t,i+ht[a],!0,r)),n?("content"===i&&(l-=I.css(t,"padding"+ht[a],!0,r)),"margin"!==i&&(l-=I.css(t,"border"+ht[a]+"Width",!0,r))):(l+=I.css(t,"padding"+ht[a],!0,r),"padding"!==i?l+=I.css(t,"border"+ht[a]+"Width",!0,r):s+=I.css(t,"border"+ht[a]+"Width",!0,r));return!n&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-s-.5))||0),l+c}function le(t,e,i){var n=Ht(t),r=(!p.boxSizingReliable()||i)&&"border-box"===I.css(t,"boxSizing",!1,n),o=r,a=Qt(t,e,n),s="offset"+e[0].toUpperCase()+e.slice(1);if(Vt.test(a)){if(!i)return a;a="auto"}return(!p.boxSizingReliable()&&r||!p.reliableTrDimensions()&&A(t,"tr")||"auto"===a||!parseFloat(a)&&"inline"===I.css(t,"display",!1,n))&&t.getClientRects().length&&(r="border-box"===I.css(t,"boxSizing",!1,n),(o=s in t)&&(a=t[s])),(a=parseFloat(a)||0)+se(t,e,i||(r?"border":"content"),o,n,a)+"px"}function ce(t,e,i,n,r){return new ce.prototype.init(t,e,i,n,r)}I.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Qt(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=it(e),l=Yt.test(e),c=t.style;if(l||(e=ie(s)),a=I.cssHooks[e]||I.cssHooks[s],void 0===i)return a&&"get"in a&&void 0!==(r=a.get(t,!1,n))?r:c[e];"string"===(o=typeof i)&&(r=ut.exec(i))&&r[1]&&(i=vt(t,e,r),o="number"),null!=i&&i==i&&("number"!==o||l||(i+=r&&r[3]||(I.cssNumber[s]?"":"px")),p.clearCloneStyle||""!==i||0!==e.indexOf("background")||(c[e]="inherit"),a&&"set"in a&&void 0===(i=a.set(t,i,n))||(l?c.setProperty(e,i):c[e]=i))}},css:function(t,e,i,n){var r,o,a,s=it(e);return Yt.test(e)||(e=ie(s)),(a=I.cssHooks[e]||I.cssHooks[s])&&"get"in a&&(r=a.get(t,!0,i)),void 0===r&&(r=Qt(t,e,n)),"normal"===r&&e in oe&&(r=oe[e]),""===i||i?(o=parseFloat(r),!0===i||isFinite(o)?o||0:r):r}}),I.each(["height","width"],(function(t,e){I.cssHooks[e]={get:function(t,i,n){if(i)return!ne.test(I.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?le(t,e,n):Xt(t,re,(function(){return le(t,e,n)}))},set:function(t,i,n){var r,o=Ht(t),a=!p.scrollboxSize()&&"absolute"===o.position,s=(a||n)&&"border-box"===I.css(t,"boxSizing",!1,o),l=n?se(t,e,n,s,o):0;return s&&a&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-se(t,e,"border",!1,o)-.5)),l&&(r=ut.exec(i))&&"px"!==(r[3]||"px")&&(t.style[e]=i,i=I.css(t,e)),ae(0,i,l)}}})),I.cssHooks.marginLeft=Kt(p.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Qt(t,"marginLeft"))||t.getBoundingClientRect().left-Xt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),I.each({margin:"",padding:"",border:"Width"},(function(t,e){I.cssHooks[t+e]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+ht[n]+e]=o[n]||o[n-2]||o[0];return r}},"margin"!==t&&(I.cssHooks[t+e].set=ae)})),I.fn.extend({css:function(t,e){return K(this,(function(t,e,i){var n,r,o={},a=0;if(Array.isArray(e)){for(n=Ht(t),r=e.length;a<r;a++)o[e[a]]=I.css(t,e[a],!1,n);return o}return void 0!==i?I.style(t,e,i):I.css(t,e)}),t,e,arguments.length>1)}}),I.Tween=ce,ce.prototype={constructor:ce,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||I.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(I.cssNumber[i]?"":"px")},cur:function(){var t=ce.propHooks[this.prop];return t&&t.get?t.get(this):ce.propHooks._default.get(this)},run:function(t){var e,i=ce.propHooks[this.prop];return this.options.duration?this.pos=e=I.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):ce.propHooks._default.set(this),this}},ce.prototype.init.prototype=ce.prototype,ce.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=I.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){I.fx.step[t.prop]?I.fx.step[t.prop](t):1!==t.elem.nodeType||!I.cssHooks[t.prop]&&null==t.elem.style[ie(t.prop)]?t.elem[t.prop]=t.now:I.style(t.elem,t.prop,t.now+t.unit)}}},ce.propHooks.scrollTop=ce.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},I.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},I.fx=ce.prototype.init,I.fx.step={};var de,ue,he=/^(?:toggle|show|hide)$/,pe=/queueHooks$/;function ge(){ue&&(!1===m.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ge):t.setTimeout(ge,I.fx.interval),I.fx.tick())}function fe(){return t.setTimeout((function(){de=void 0})),de=Date.now()}function me(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)r["margin"+(i=ht[n])]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function ve(t,e,i){for(var n,r=(be.tweeners[e]||[]).concat(be.tweeners["*"]),o=0,a=r.length;o<a;o++)if(n=r[o].call(i,e,t))return n}function be(t,e,i){var n,r,o=0,a=be.prefilters.length,s=I.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var e=de||fe(),i=Math.max(0,c.startTime+c.duration-e),n=1-(i/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(n);return s.notifyWith(t,[c,n,i]),n<1&&a?i:(a||s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:I.extend({},e),opts:I.extend(!0,{specialEasing:{},easing:I.easing._default},i),originalProperties:e,originalOptions:i,startTime:de||fe(),duration:i.duration,tweens:[],createTween:function(e,i){var n=I.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)c.tweens[i].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),d=c.props;for(!function(t,e){var i,n,r,o,a;for(i in t)if(r=e[n=it(i)],o=t[i],Array.isArray(o)&&(r=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),(a=I.cssHooks[n])&&"expand"in a)for(i in o=a.expand(o),delete t[n],o)i in t||(t[i]=o[i],e[i]=r);else e[n]=r}(d,c.opts.specialEasing);o<a;o++)if(n=be.prefilters[o].call(c,t,d,c.opts))return g(n.stop)&&(I._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return I.map(d,ve,c),g(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),I.fx.timer(I.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}I.Animation=I.extend(be,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return vt(i.elem,t,ut.exec(e),i),i}]},tweener:function(t,e){g(t)?(e=t,t=["*"]):t=t.match(W);for(var i,n=0,r=t.length;n<r;n++)i=t[n],be.tweeners[i]=be.tweeners[i]||[],be.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var n,r,o,a,s,l,c,d,u="width"in e||"height"in e,h=this,p={},g=t.style,f=t.nodeType&&mt(t),m=ot.get(t,"fxshow");for(n in i.queue||(null==(a=I._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always((function(){h.always((function(){a.unqueued--,I.queue(t,"fx").length||a.empty.fire()}))}))),e)if(r=e[n],he.test(r)){if(delete e[n],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!m||void 0===m[n])continue;f=!0}p[n]=m&&m[n]||I.style(t,n)}if((l=!I.isEmptyObject(e))||!I.isEmptyObject(p))for(n in u&&1===t.nodeType&&(i.overflow=[g.overflow,g.overflowX,g.overflowY],null==(c=m&&m.display)&&(c=ot.get(t,"display")),"none"===(d=I.css(t,"display"))&&(c?d=c:(xt([t],!0),c=t.style.display||c,d=I.css(t,"display"),xt([t]))),("inline"===d||"inline-block"===d&&null!=c)&&"none"===I.css(t,"float")&&(l||(h.done((function(){g.display=c})),null==c&&(d=g.display,c="none"===d?"":d)),g.display="inline-block")),i.overflow&&(g.overflow="hidden",h.always((function(){g.overflow=i.overflow[0],g.overflowX=i.overflow[1],g.overflowY=i.overflow[2]}))),l=!1,p)l||(m?"hidden"in m&&(f=m.hidden):m=ot.access(t,"fxshow",{display:c}),o&&(m.hidden=!f),f&&xt([t],!0),h.done((function(){for(n in f||xt([t]),ot.remove(t,"fxshow"),p)I.style(t,n,p[n])}))),l=ve(f?m[n]:0,n,h),n in m||(m[n]=l.start,f&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?be.prefilters.unshift(t):be.prefilters.push(t)}}),I.speed=function(t,e,i){var n=t&&"object"==typeof t?I.extend({},t):{complete:i||!i&&e||g(t)&&t,duration:t,easing:i&&e||e&&!g(e)&&e};return I.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in I.fx.speeds?n.duration=I.fx.speeds[n.duration]:n.duration=I.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){g(n.old)&&n.old.call(this),n.queue&&I.dequeue(this,n.queue)},n},I.fn.extend({fadeTo:function(t,e,i,n){return this.filter(mt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=I.isEmptyObject(t),o=I.speed(e,i,n),a=function(){var e=be(this,I.extend({},t),o);(r||ot.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",o=I.timers,a=ot.get(this);if(r)a[r]&&a[r].stop&&n(a[r]);else for(r in a)a[r]&&a[r].stop&&pe.test(r)&&n(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(i),e=!1,o.splice(r,1));!e&&i||I.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,i=ot.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],o=I.timers,a=n?n.length:0;for(i.finish=!0,I.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish}))}}),I.each(["toggle","show","hide"],(function(t,e){var i=I.fn[e];I.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(me(e,!0),t,n,r)}})),I.each({slideDown:me("show"),slideUp:me("hide"),slideToggle:me("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){I.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}})),I.timers=[],I.fx.tick=function(){var t,e=0,i=I.timers;for(de=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||I.fx.stop(),de=void 0},I.fx.timer=function(t){I.timers.push(t),I.fx.start()},I.fx.interval=13,I.fx.start=function(){ue||(ue=!0,ge())},I.fx.stop=function(){ue=null},I.fx.speeds={slow:600,fast:200,_default:400},I.fn.delay=function(e,i){return e=I.fx&&I.fx.speeds[e]||e,i=i||"fx",this.queue(i,(function(i,n){var r=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(r)}}))},function(){var t=m.createElement("input"),e=m.createElement("select").appendChild(m.createElement("option"));t.type="checkbox",p.checkOn=""!==t.value,p.optSelected=e.selected,(t=m.createElement("input")).value="t",t.type="radio",p.radioValue="t"===t.value}();var ye,xe=I.expr.attrHandle;I.fn.extend({attr:function(t,e){return K(this,I.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){I.removeAttr(this,t)}))}}),I.extend({attr:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?I.prop(t,e,i):(1===o&&I.isXMLDoc(t)||(r=I.attrHooks[e.toLowerCase()]||(I.expr.match.bool.test(e)?ye:void 0)),void 0!==i?null===i?void I.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:null==(n=I.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&"radio"===e&&A(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,r=e&&e.match(W);if(r&&1===t.nodeType)for(;i=r[n++];)t.removeAttribute(i)}}),ye={set:function(t,e,i){return!1===e?I.removeAttr(t,i):t.setAttribute(i,i),i}},I.each(I.expr.match.bool.source.match(/\w+/g),(function(t,e){var i=xe[e]||I.find.attr;xe[e]=function(t,e,n){var r,o,a=e.toLowerCase();return n||(o=xe[a],xe[a]=r,r=null!=i(t,e,n)?a:null,xe[a]=o),r}}));var we=/^(?:input|select|textarea|button)$/i,Ie=/^(?:a|area)$/i;function Ce(t){return(t.match(W)||[]).join(" ")}function Ae(t){return t.getAttribute&&t.getAttribute("class")||""}function Se(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(W)||[]}I.fn.extend({prop:function(t,e){return K(this,I.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[I.propFix[t]||t]}))}}),I.extend({prop:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&I.isXMLDoc(t)||(e=I.propFix[e]||e,r=I.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=I.find.attr(t,"tabindex");return e?parseInt(e,10):we.test(t.nodeName)||Ie.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(I.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),I.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){I.propFix[this.toLowerCase()]=this})),I.fn.extend({addClass:function(t){var e,i,n,r,o,a;return g(t)?this.each((function(e){I(this).addClass(t.call(this,e,Ae(this)))})):(e=Se(t)).length?this.each((function(){if(n=Ae(this),i=1===this.nodeType&&" "+Ce(n)+" "){for(o=0;o<e.length;o++)r=e[o],i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=Ce(i),n!==a&&this.setAttribute("class",a)}})):this},removeClass:function(t){var e,i,n,r,o,a;return g(t)?this.each((function(e){I(this).removeClass(t.call(this,e,Ae(this)))})):arguments.length?(e=Se(t)).length?this.each((function(){if(n=Ae(this),i=1===this.nodeType&&" "+Ce(n)+" "){for(o=0;o<e.length;o++)for(r=e[o];i.indexOf(" "+r+" ")>-1;)i=i.replace(" "+r+" "," ");a=Ce(i),n!==a&&this.setAttribute("class",a)}})):this:this.attr("class","")},toggleClass:function(t,e){var i,n,r,o,a=typeof t,s="string"===a||Array.isArray(t);return g(t)?this.each((function(i){I(this).toggleClass(t.call(this,i,Ae(this),e),e)})):"boolean"==typeof e&&s?e?this.addClass(t):this.removeClass(t):(i=Se(t),this.each((function(){if(s)for(o=I(this),r=0;r<i.length;r++)n=i[r],o.hasClass(n)?o.removeClass(n):o.addClass(n);else void 0!==t&&"boolean"!==a||((n=Ae(this))&&ot.set(this,"__className__",n),this.setAttribute&&this.setAttribute("class",n||!1===t?"":ot.get(this,"__className__")||""))})))},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+Ce(Ae(i))+" ").indexOf(e)>-1)return!0;return!1}});var ke=/\r/g;I.fn.extend({val:function(t){var e,i,n,r=this[0];return arguments.length?(n=g(t),this.each((function(i){var r;1===this.nodeType&&(null==(r=n?t.call(this,i,I(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=I.map(r,(function(t){return null==t?"":t+""}))),(e=I.valHooks[this.type]||I.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=I.valHooks[r.type]||I.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(ke,""):null==i?"":i:void 0}}),I.extend({valHooks:{option:{get:function(t){var e=I.find.attr(t,"value");return null!=e?e:Ce(I.text(t))}},select:{get:function(t){var e,i,n,r=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],l=a?o+1:r.length;for(n=o<0?l:a?o:0;n<l;n++)if(((i=r[n]).selected||n===o)&&!i.disabled&&(!i.parentNode.disabled||!A(i.parentNode,"optgroup"))){if(e=I(i).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var i,n,r=t.options,o=I.makeArray(e),a=r.length;a--;)((n=r[a]).selected=I.inArray(I.valHooks.option.get(n),o)>-1)&&(i=!0);return i||(t.selectedIndex=-1),o}}}}),I.each(["radio","checkbox"],(function(){I.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=I.inArray(I(t).val(),e)>-1}},p.checkOn||(I.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}));var _e=t.location,Te={guid:Date.now()},Pe=/\?/;I.parseXML=function(e){var i,n;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){}return n=i&&i.getElementsByTagName("parsererror")[0],i&&!n||I.error("Invalid XML: "+(n?I.map(n.childNodes,(function(t){return t.textContent})).join("\n"):e)),i};var Me=/^(?:focusinfocus|focusoutblur)$/,Ne=function(t){t.stopPropagation()};I.extend(I.event,{trigger:function(e,i,n,r){var o,a,s,l,c,u,h,p,v=[n||m],b=d.call(e,"type")?e.type:e,y=d.call(e,"namespace")?e.namespace.split("."):[];if(a=p=s=n=n||m,3!==n.nodeType&&8!==n.nodeType&&!Me.test(b+I.event.triggered)&&(b.indexOf(".")>-1&&(y=b.split("."),b=y.shift(),y.sort()),c=b.indexOf(":")<0&&"on"+b,(e=e[I.expando]?e:new I.Event(b,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=y.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:I.makeArray(i,[e]),h=I.event.special[b]||{},r||!h.trigger||!1!==h.trigger.apply(n,i))){if(!r&&!h.noBubble&&!f(n)){for(l=h.delegateType||b,Me.test(l+b)||(a=a.parentNode);a;a=a.parentNode)v.push(a),s=a;s===(n.ownerDocument||m)&&v.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=v[o++])&&!e.isPropagationStopped();)p=a,e.type=o>1?l:h.bindType||b,(u=(ot.get(a,"events")||Object.create(null))[e.type]&&ot.get(a,"handle"))&&u.apply(a,i),(u=c&&a[c])&&u.apply&&nt(a)&&(e.result=u.apply(a,i),!1===e.result&&e.preventDefault());return e.type=b,r||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(v.pop(),i)||!nt(n)||c&&g(n[b])&&!f(n)&&((s=n[c])&&(n[c]=null),I.event.triggered=b,e.isPropagationStopped()&&p.addEventListener(b,Ne),n[b](),e.isPropagationStopped()&&p.removeEventListener(b,Ne),I.event.triggered=void 0,s&&(n[c]=s)),e.result}},simulate:function(t,e,i){var n=I.extend(new I.Event,i,{type:t,isSimulated:!0});I.event.trigger(n,null,e)}}),I.fn.extend({trigger:function(t,e){return this.each((function(){I.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var i=this[0];if(i)return I.event.trigger(t,e,i,!0)}});var Le=/\[\]$/,Oe=/\r?\n/g,Ee=/^(?:submit|button|image|reset|file)$/i,De=/^(?:input|select|textarea|keygen)/i;function ze(t,e,i,n){var r;if(Array.isArray(e))I.each(e,(function(e,r){i||Le.test(t)?n(t,r):ze(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,i,n)}));else if(i||"object"!==y(e))n(t,e);else for(r in e)ze(t+"["+r+"]",e[r],i,n)}I.param=function(t,e){var i,n=[],r=function(t,e){var i=g(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!I.isPlainObject(t))I.each(t,(function(){r(this.name,this.value)}));else for(i in t)ze(i,t[i],e,r);return n.join("&")},I.fn.extend({serialize:function(){return I.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=I.prop(this,"elements");return t?I.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!I(this).is(":disabled")&&De.test(this.nodeName)&&!Ee.test(t)&&(this.checked||!Ct.test(t))})).map((function(t,e){var i=I(this).val();return null==i?null:Array.isArray(i)?I.map(i,(function(t){return{name:e.name,value:t.replace(Oe,"\r\n")}})):{name:e.name,value:i.replace(Oe,"\r\n")}})).get()}});var je=/%20/g,Re=/#.*$/,Ge=/([?&])_=[^&]*/,Be=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ue=/^(?:GET|HEAD)$/,Ze=/^\/\//,$e={},Fe={},We="*/".concat("*"),Ve=m.createElement("a");function Ye(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,o=e.toLowerCase().match(W)||[];if(g(i))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function He(t,e,i,n){var r={},o=t===Fe;function a(s){var l;return r[s]=!0,I.each(t[s]||[],(function(t,s){var c=s(e,i,n);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(e.dataTypes.unshift(c),a(c),!1)})),l}return a(e.dataTypes[0])||!r["*"]&&a("*")}function Xe(t,e){var i,n,r=I.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&I.extend(!0,t,n),t}Ve.href=_e.href,I.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_e.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(_e.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":We,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":I.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Xe(Xe(t,I.ajaxSettings),e):Xe(I.ajaxSettings,t)},ajaxPrefilter:Ye($e),ajaxTransport:Ye(Fe),ajax:function(e,i){"object"==typeof e&&(i=e,e=void 0),i=i||{};var n,r,o,a,s,l,c,d,u,h,p=I.ajaxSetup({},i),g=p.context||p,f=p.context&&(g.nodeType||g.jquery)?I(g):I.event,v=I.Deferred(),b=I.Callbacks("once memory"),y=p.statusCode||{},x={},w={},C="canceled",A={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=Be.exec(o);)a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,x[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)A.always(t[A.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||C;return n&&n.abort(e),S(0,e),this}};if(v.promise(A),p.url=((e||p.url||_e.href)+"").replace(Ze,_e.protocol+"//"),p.type=i.method||i.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(W)||[""],null==p.crossDomain){l=m.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Ve.protocol+"//"+Ve.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=I.param(p.data,p.traditional)),He($e,p,i,A),c)return A;for(u in(d=I.event&&p.global)&&0==I.active++&&I.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ue.test(p.type),r=p.url.replace(Re,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(je,"+")):(h=p.url.slice(r.length),p.data&&(p.processData||"string"==typeof p.data)&&(r+=(Pe.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(Ge,"$1"),h=(Pe.test(r)?"&":"?")+"_="+Te.guid+++h),p.url=r+h),p.ifModified&&(I.lastModified[r]&&A.setRequestHeader("If-Modified-Since",I.lastModified[r]),I.etag[r]&&A.setRequestHeader("If-None-Match",I.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||i.contentType)&&A.setRequestHeader("Content-Type",p.contentType),A.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+We+"; q=0.01":""):p.accepts["*"]),p.headers)A.setRequestHeader(u,p.headers[u]);if(p.beforeSend&&(!1===p.beforeSend.call(g,A,p)||c))return A.abort();if(C="abort",b.add(p.complete),A.done(p.success),A.fail(p.error),n=He(Fe,p,i,A)){if(A.readyState=1,d&&f.trigger("ajaxSend",[A,p]),c)return A;p.async&&p.timeout>0&&(s=t.setTimeout((function(){A.abort("timeout")}),p.timeout));try{c=!1,n.send(x,S)}catch(t){if(c)throw t;S(-1,t)}}else S(-1,"No Transport");function S(e,i,a,l){var u,h,m,x,w,C=i;c||(c=!0,s&&t.clearTimeout(s),n=void 0,o=l||"",A.readyState=e>0?4:0,u=e>=200&&e<300||304===e,a&&(x=function(t,e,i){for(var n,r,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in s)if(s[r]&&s[r].test(n)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),i[o]}(p,A,a)),!u&&I.inArray("script",p.dataTypes)>-1&&I.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),x=function(t,e,i,n){var r,o,a,s,l,c={},d=t.dataTypes.slice();if(d[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(o=d.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=d.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(r in c)if((s=r.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=s[0],d.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(p,x,A,u),u?(p.ifModified&&((w=A.getResponseHeader("Last-Modified"))&&(I.lastModified[r]=w),(w=A.getResponseHeader("etag"))&&(I.etag[r]=w)),204===e||"HEAD"===p.type?C="nocontent":304===e?C="notmodified":(C=x.state,h=x.data,u=!(m=x.error))):(m=C,!e&&C||(C="error",e<0&&(e=0))),A.status=e,A.statusText=(i||C)+"",u?v.resolveWith(g,[h,C,A]):v.rejectWith(g,[A,C,m]),A.statusCode(y),y=void 0,d&&f.trigger(u?"ajaxSuccess":"ajaxError",[A,p,u?h:m]),b.fireWith(g,[A,C]),d&&(f.trigger("ajaxComplete",[A,p]),--I.active||I.event.trigger("ajaxStop")))}return A},getJSON:function(t,e,i){return I.get(t,e,i,"json")},getScript:function(t,e){return I.get(t,void 0,e,"script")}}),I.each(["get","post"],(function(t,e){I[e]=function(t,i,n,r){return g(i)&&(r=r||n,n=i,i=void 0),I.ajax(I.extend({url:t,type:e,dataType:r,data:i,success:n},I.isPlainObject(t)&&t))}})),I.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),I._evalUrl=function(t,e,i){return I.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){I.globalEval(t,e,i)}})},I.fn.extend({wrapAll:function(t){var e;return this[0]&&(g(t)&&(t=t.call(this[0])),e=I(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return g(t)?this.each((function(e){I(this).wrapInner(t.call(this,e))})):this.each((function(){var e=I(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)}))},wrap:function(t){var e=g(t);return this.each((function(i){I(this).wrapAll(e?t.call(this,i):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){I(this).replaceWith(this.childNodes)})),this}}),I.expr.pseudos.hidden=function(t){return!I.expr.pseudos.visible(t)},I.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},I.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var Je={0:200,1223:204},Qe=I.ajaxSettings.xhr();p.cors=!!Qe&&"withCredentials"in Qe,p.ajax=Qe=!!Qe,I.ajaxTransport((function(e){var i,n;if(p.cors||Qe&&!e.crossDomain)return{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);i=function(t){return function(){i&&(i=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Je[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=i(),n=s.onerror=s.ontimeout=i("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout((function(){i&&n()}))},i=i("abort");try{s.send(e.hasContent&&e.data||null)}catch(t){if(i)throw t}},abort:function(){i&&i()}}})),I.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),I.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return I.globalEval(t),t}}}),I.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),I.ajaxTransport("script",(function(t){var e,i;if(t.crossDomain||t.scriptAttrs)return{send:function(n,r){e=I("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),m.head.appendChild(e[0])},abort:function(){i&&i()}}}));var Ke,qe=[],ti=/(=)\?(?=&|$)|\?\?/;I.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=qe.pop()||I.expando+"_"+Te.guid++;return this[t]=!0,t}}),I.ajaxPrefilter("json jsonp",(function(e,i,n){var r,o,a,s=!1!==e.jsonp&&(ti.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ti.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=g(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(ti,"$1"+r):!1!==e.jsonp&&(e.url+=(Pe.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||I.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){a=arguments},n.always((function(){void 0===o?I(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=i.jsonpCallback,qe.push(r)),a&&g(o)&&o(a[0]),a=o=void 0})),"script"})),p.createHTMLDocument=((Ke=m.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ke.childNodes.length),I.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(p.createHTMLDocument?((n=(e=m.implementation.createHTMLDocument("")).createElement("base")).href=m.location.href,e.head.appendChild(n)):e=m),o=!i&&[],(r=j.exec(t))?[e.createElement(r[1])]:(r=Mt([t],e,o),o&&o.length&&I(o).remove(),I.merge([],r.childNodes)));var n,r,o},I.fn.load=function(t,e,i){var n,r,o,a=this,s=t.indexOf(" ");return s>-1&&(n=Ce(t.slice(s)),t=t.slice(0,s)),g(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&I.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){o=arguments,a.html(n?I("<div>").append(I.parseHTML(t)).find(n):t)})).always(i&&function(t,e){a.each((function(){i.apply(this,o||[t.responseText,e,t])}))}),this},I.expr.pseudos.animated=function(t){return I.grep(I.timers,(function(e){return t===e.elem})).length},I.offset={setOffset:function(t,e,i){var n,r,o,a,s,l,c=I.css(t,"position"),d=I(t),u={};"static"===c&&(t.style.position="relative"),s=d.offset(),o=I.css(t,"top"),l=I.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(a=(n=d.position()).top,r=n.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),g(e)&&(e=e.call(t,i,I.extend({},s))),null!=e.top&&(u.top=e.top-s.top+a),null!=e.left&&(u.left=e.left-s.left+r),"using"in e?e.using.call(t,u):d.css(u)}},I.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){I.offset.setOffset(this,t,e)}));var e,i,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],r={top:0,left:0};if("fixed"===I.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===I.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((r=I(t).offset()).top+=I.css(t,"borderTopWidth",!0),r.left+=I.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-I.css(n,"marginTop",!0),left:e.left-r.left-I.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===I.css(t,"position");)t=t.offsetParent;return t||pt}))}}),I.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var i="pageYOffset"===e;I.fn[t]=function(n){return K(this,(function(t,n,r){var o;if(f(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[n];o?o.scrollTo(i?o.pageXOffset:r,i?r:o.pageYOffset):t[n]=r}),t,n,arguments.length)}})),I.each(["top","left"],(function(t,e){I.cssHooks[e]=Kt(p.pixelPosition,(function(t,i){if(i)return i=Qt(t,e),Vt.test(i)?I(t).position()[e]+"px":i}))})),I.each({Height:"height",Width:"width"},(function(t,e){I.each({padding:"inner"+t,content:e,"":"outer"+t},(function(i,n){I.fn[n]=function(r,o){var a=arguments.length&&(i||"boolean"!=typeof r),s=i||(!0===r||!0===o?"margin":"border");return K(this,(function(e,i,r){var o;return f(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?I.css(e,i,s):I.style(e,i,r,s)}),e,a?r:void 0,a)}}))})),I.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){I.fn[e]=function(t){return this.on(e,t)}})),I.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},hover:function(t,e){return this.on("mouseenter",t).on("mouseleave",e||t)}}),I.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){I.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}));var ei=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;I.proxy=function(t,e){var i,n,o;if("string"==typeof e&&(i=t[e],e=t,t=i),g(t))return n=r.call(arguments,2),o=function(){return t.apply(e||this,n.concat(r.call(arguments)))},o.guid=t.guid=t.guid||I.guid++,o},I.holdReady=function(t){t?I.readyWait++:I.ready(!0)},I.isArray=Array.isArray,I.parseJSON=JSON.parse,I.nodeName=A,I.isFunction=g,I.isWindow=f,I.camelCase=it,I.type=y,I.now=Date.now,I.isNumeric=function(t){var e=I.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},I.trim=function(t){return null==t?"":(t+"").replace(ei,"$1")};var ii=t.jQuery,ni=t.$;return I.noConflict=function(e){return t.$===I&&(t.$=ni),e&&t.jQuery===I&&(t.jQuery=ii),I},void 0===e&&(t.jQuery=t.$=I),I}))})),zm=Op((function(t,e){!function(t){var i,n="object"==typeof self&&self.self===self&&self||"object"==typeof Lp&&Lp.global===Lp&&Lp,r=Em;try{i=Dm}catch(t){}!function(t,e,i,n){var r=t.Backbone,o=Array.prototype.slice;e.VERSION="1.4.1",e.$=n,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a,s=e.Events={},l=/\s+/,c=function(t,e,n,r,o){var a,s=0;if(n&&"object"==typeof n){void 0!==r&&"context"in o&&void 0===o.context&&(o.context=r);for(a=i.keys(n);s<a.length;s++)e=c(t,e,a[s],n[a[s]],o)}else if(n&&l.test(n))for(a=n.split(l);s<a.length;s++)e=t(e,a[s],r,o);else e=t(e,n,r,o);return e};s.on=function(t,e,i){(this._events=c(d,this._events||{},t,e,{context:i,ctx:this,listening:a}),a)&&((this._listeners||(this._listeners={}))[a.id]=a,a.interop=!1);return this},s.listenTo=function(t,e,n){if(!t)return this;var r=t._listenId||(t._listenId=i.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),s=a=o[r];s||(this._listenId||(this._listenId=i.uniqueId("l")),s=a=o[r]=new m(this,t));var l=u(t,e,n,this);if(a=void 0,l)throw l;return s.interop&&s.on(e,n),this};var d=function(t,e,i,n){if(i){var r=t[e]||(t[e]=[]),o=n.context,a=n.ctx,s=n.listening;s&&s.count++,r.push({callback:i,context:o,ctx:o||a,listening:s})}return t},u=function(t,e,i,n){try{t.on(e,i,n)}catch(t){return t}};s.off=function(t,e,i){return this._events?(this._events=c(h,this._events,t,e,{context:i,listeners:this._listeners}),this):this},s.stopListening=function(t,e,n){var r=this._listeningTo;if(!r)return this;for(var o=t?[t._listenId]:i.keys(r),a=0;a<o.length;a++){var s=r[o[a]];if(!s)break;s.obj.off(e,n,this),s.interop&&s.off(e,n)}return i.isEmpty(r)&&(this._listeningTo=void 0),this};var h=function(t,e,n,r){if(t){var o,a=r.context,s=r.listeners,l=0;if(e||a||n){for(o=e?[e]:i.keys(t);l<o.length;l++){var c=t[e=o[l]];if(!c)break;for(var d=[],u=0;u<c.length;u++){var h=c[u];if(n&&n!==h.callback&&n!==h.callback._callback||a&&a!==h.context)d.push(h);else{var p=h.listening;p&&p.off(e,n)}}d.length?t[e]=d:delete t[e]}return t}for(o=i.keys(s);l<o.length;l++)s[o[l]].cleanup()}};s.once=function(t,e,i){var n=c(p,{},t,e,this.off.bind(this));return"string"==typeof t&&null==i&&(e=void 0),this.on(n,e,i)},s.listenToOnce=function(t,e,i){var n=c(p,{},e,i,this.stopListening.bind(this,t));return this.listenTo(t,n)};var p=function(t,e,n,r){if(n){var o=t[e]=i.once((function(){r(e,o),n.apply(this,arguments)}));o._callback=n}return t};s.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),i=Array(e),n=0;n<e;n++)i[n]=arguments[n+1];return c(g,this._events,t,void 0,i),this};var g=function(t,e,i,n){if(t){var r=t[e],o=t.all;r&&o&&(o=o.slice()),r&&f(r,n),o&&f(o,[e].concat(n))}return t},f=function(t,e){var i,n=-1,r=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++n<r;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<r;)(i=t[n]).callback.call(i.ctx,o);return;case 2:for(;++n<r;)(i=t[n]).callback.call(i.ctx,o,a);return;case 3:for(;++n<r;)(i=t[n]).callback.call(i.ctx,o,a,s);return;default:for(;++n<r;)(i=t[n]).callback.apply(i.ctx,e);return}},m=function(t,e){this.id=t._listenId,this.listener=t,this.obj=e,this.interop=!0,this.count=0,this._events=void 0};m.prototype.on=s.on,m.prototype.off=function(t,e){var i;this.interop?(this._events=c(h,this._events,t,e,{context:void 0,listeners:void 0}),i=!this._events):(this.count--,i=0===this.count),i&&this.cleanup()},m.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},s.bind=s.on,s.unbind=s.off,i.extend(e,s);var v=e.Model=function(t,e){var n=t||{};e||(e={}),this.preinitialize.apply(this,arguments),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{});var r=i.result(this,"defaults");n=i.defaults(i.extend({},r,n),r),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(v.prototype,s,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,n){if(null==t)return this;var r;if("object"==typeof t?(r=t,n=e):(r={})[t]=e,n||(n={}),!this._validate(r,n))return!1;var o=n.unset,a=n.silent,s=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=i.clone(this.attributes),this.changed={});var c=this.attributes,d=this.changed,u=this._previousAttributes;for(var h in r)e=r[h],i.isEqual(c[h],e)||s.push(h),i.isEqual(u[h],e)?delete d[h]:d[h]=e,o?delete c[h]:c[h]=e;if(this.idAttribute in r){var p=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,p,n)}if(!a){s.length&&(this._pending=n);for(var g=0;g<s.length;g++)this.trigger("change:"+s[g],this,c[s[g]],n)}if(l)return this;if(!a)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&i.clone(this.changed);var e,n=this._changing?this._previousAttributes:this.attributes,r={};for(var o in t){var a=t[o];i.isEqual(n[o],a)||(r[o]=a,e=!0)}return!!e&&r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=i.extend({parse:!0},t);var e=this,n=t.success;return t.success=function(i){var r=t.parse?e.parse(i,t):i;if(!e.set(r,t))return!1;n&&n.call(t.context,e,i,t),e.trigger("sync",e,i,t)},H(this,t),this.sync("read",this,t)},save:function(t,e,n){var r;null==t||"object"==typeof t?(r=t,n=e):(r={})[t]=e;var o=(n=i.extend({validate:!0,parse:!0},n)).wait;if(r&&!o){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;var a=this,s=n.success,l=this.attributes;n.success=function(t){a.attributes=l;var e=n.parse?a.parse(t,n):t;if(o&&(e=i.extend({},r,e)),e&&!a.set(e,n))return!1;s&&s.call(n.context,a,t,n),a.trigger("sync",a,t,n)},H(this,n),r&&o&&(this.attributes=i.extend({},l,r));var c=this.isNew()?"create":n.patch?"patch":"update";"patch"!==c||n.attrs||(n.attrs=r);var d=this.sync(c,this,n);return this.attributes=l,d},destroy:function(t){t=t?i.clone(t):{};var e=this,n=t.success,r=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(i){r&&o(),n&&n.call(t.context,e,i,t),e.isNew()||e.trigger("sync",e,i,t)};var a=!1;return this.isNew()?i.defer(t.success):(H(this,t),a=this.sync("delete",this,t)),r||o(),a},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||Y();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1)}});var b=e.Collection=function(t,e){e||(e={}),this.preinitialize.apply(this,arguments),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},y={add:!0,remove:!0,merge:!0},x={add:!0,remove:!1},w=function(t,e,i){i=Math.min(Math.max(i,0),t.length);var n,r=Array(t.length-i),o=e.length;for(n=0;n<r.length;n++)r[n]=t[n+i];for(n=0;n<o;n++)t[n+i]=e[n];for(n=0;n<r.length;n++)t[n+o+i]=r[n]};i.extend(b.prototype,s,{model:v,preinitialize:function(){},initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,x))},remove:function(t,e){e=i.extend({},e);var n=!i.isArray(t);t=n?[t]:t.slice();var r=this._removeModels(t,e);return!e.silent&&r.length&&(e.changes={added:[],merged:[],removed:r},this.trigger("update",this,e)),n?r[0]:r},set:function(t,e){if(null!=t){(e=i.extend({},y,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var n=!i.isArray(t);t=n?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);var o,a,s=[],l=[],c=[],d=[],u={},h=e.add,p=e.merge,g=e.remove,f=!1,m=this.comparator&&null==r&&!1!==e.sort,v=i.isString(this.comparator)?this.comparator:null;for(a=0;a<t.length;a++){o=t[a];var b=this.get(o);if(b){if(p&&o!==b){var x=this._isModel(o)?o.attributes:o;e.parse&&(x=b.parse(x,e)),b.set(x,e),c.push(b),m&&!f&&(f=b.hasChanged(v))}u[b.cid]||(u[b.cid]=!0,s.push(b)),t[a]=b}else h&&(o=t[a]=this._prepareModel(o,e))&&(l.push(o),this._addReference(o,e),u[o.cid]=!0,s.push(o))}if(g){for(a=0;a<this.length;a++)u[(o=this.models[a]).cid]||d.push(o);d.length&&this._removeModels(d,e)}var I=!1,C=!m&&h&&g;if(s.length&&C?(I=this.length!==s.length||i.some(this.models,(function(t,e){return t!==s[e]})),this.models.length=0,w(this.models,s,0),this.length=this.models.length):l.length&&(m&&(f=!0),w(this.models,l,null==r?this.length:r),this.length=this.models.length),f&&this.sort({silent:!0}),!e.silent){for(a=0;a<l.length;a++)null!=r&&(e.index=r+a),(o=l[a]).trigger("add",o,this,e);(f||I)&&this.trigger("sort",this,e),(l.length||d.length||c.length)&&(e.changes={added:l,removed:d,merged:c},this.trigger("update",this,e))}return n?t[0]:t}},reset:function(t,e){e=e?i.clone(e):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(this._isModel(t)?t.attributes:t,t.idAttribute)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var n=e.length;return i.isFunction(e)&&(e=e.bind(this)),1===n||i.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){var e=(t=i.extend({parse:!0},t)).success,n=this;return t.success=function(i){var r=t.reset?"reset":"set";n[r](i,t),e&&e.call(t.context,n,i,t),n.trigger("sync",n,i,t)},H(this,t),this.sync("read",this,t)},create:function(t,e){var n=(e=e?i.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;n||this.add(t,e);var r=this,o=e.success;return e.success=function(t,e,i){n&&r.add(t,i),o&&o.call(i.context,t,e,i)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t,e){return t[e||this.model.prototype.idAttribute||"id"]},values:function(){return new C(this,A)},keys:function(){return new C(this,S)},entries:function(){return new C(this,k)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){return this._isModel(t)?(t.collection||(t.collection=this),t):((e=e?i.clone(e):{}).collection=this,(n=this.model.prototype?new this.model(t,e):this.model(t,e)).validationError?(this.trigger("invalid",this,n.validationError,e),!1):n);var n},_removeModels:function(t,e){for(var i=[],n=0;n<t.length;n++){var r=this.get(t[n]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,delete this._byId[r.cid];var a=this.modelId(r.attributes,r.idAttribute);null!=a&&delete this._byId[a],e.silent||(e.index=o,r.trigger("remove",r,this,e)),i.push(r),this._removeReference(r,e)}}return i},_isModel:function(t){return t instanceof v},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes,t.idAttribute);null!=i&&(this._byId[i]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes,t.idAttribute);null!=i&&delete this._byId[i],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){if(e){if(("add"===t||"remove"===t)&&i!==this)return;if("destroy"===t&&this.remove(e,n),"changeId"===t){var r=this.modelId(e.previousAttributes(),e.idAttribute),o=this.modelId(e.attributes,e.idAttribute);null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=e)}}this.trigger.apply(this,arguments)}});var I="function"==typeof Symbol&&Symbol.iterator;I&&(b.prototype[I]=b.prototype.values);var C=function(t,e){this._collection=t,this._kind=e,this._index=0},A=1,S=2,k=3;I&&(C.prototype[I]=function(){return this});C.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var t,e=this._collection.at(this._index);if(this._index++,this._kind===A)t=e;else{var i=this._collection.modelId(e.attributes,e.idAttribute);t=this._kind===S?i:[i,e]}return{value:t,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var _=e.View=function(t){this.cid=i.uniqueId("view"),this.preinitialize.apply(this,arguments),i.extend(this,i.pick(t,P)),this._ensureElement(),this.initialize.apply(this,arguments)},T=/^(\S+)\s*(.*)$/,P=["model","collection","el","id","attributes","className","tagName","events"];i.extend(_.prototype,s,{tagName:"div",$:function(t){return this.$el.find(t)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=i.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var n=t[e];if(i.isFunction(n)||(n=this[n]),n){var r=e.match(T);this.delegate(r[1],r[2],n.bind(this))}}return this},delegate:function(t,e,i){return this.$el.on(t+".delegateEvents"+this.cid,e,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,i){return this.$el.off(t+".delegateEvents"+this.cid,e,i),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t.class=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}});var M=function(t,e,i,n){switch(e){case 1:return function(){return t[i](this[n])};case 2:return function(e){return t[i](this[n],e)};case 3:return function(e,r){return t[i](this[n],L(e,this),r)};case 4:return function(e,r,o){return t[i](this[n],L(e,this),r,o)};default:return function(){var e=o.call(arguments);return e.unshift(this[n]),t[i].apply(t,e)}}},N=function(t,e,n,r){i.each(n,(function(i,n){e[n]&&(t.prototype[n]=M(e,i,n,r))}))},L=function(t,e){return i.isFunction(t)?t:i.isObject(t)&&!e._isModel(t)?O(t):i.isString(t)?function(e){return e.get(t)}:t},O=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}},E={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},D={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};i.each([[b,E,"models"],[v,D,"attributes"]],(function(t){var e=t[0],n=t[1],r=t[2];e.mixin=function(t){var n=i.reduce(i.functions(t),(function(t,e){return t[e]=0,t}),{});N(e,t,n,r)},N(e,i,n,r)})),e.sync=function(t,n,r){var o=z[t];i.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(r.url||(a.url=i.result(n,"url")||Y()),null!=r.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(r.attrs||n.toJSON(r))),r.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",r.emulateJSON&&(a.data._method=o);var s=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),s)return s.apply(this,arguments)}}"GET"===a.type||r.emulateJSON||(a.processData=!1);var l=r.error;r.error=function(t,e,i){r.textStatus=e,r.errorThrown=i,l&&l.call(r.context,t,e,i)};var c=r.xhr=e.ajax(i.extend(a,r));return n.trigger("request",n,c,r),c};var z={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var j=e.Router=function(t){t||(t={}),this.preinitialize.apply(this,arguments),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},R=/\((.*?)\)/g,G=/(\(\?)?:\w+/g,B=/\*\w+/g,U=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(j.prototype,s,{preinitialize:function(){},initialize:function(){},route:function(t,n,r){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(r=n,n=""),r||(r=this[n]);var o=this;return e.history.route(t,(function(i){var a=o._extractParameters(t,i);!1!==o.execute(r,a,n)&&(o.trigger.apply(o,["route:"+n].concat(a)),o.trigger("route",n,a),e.history.trigger("route",o,n,a))})),this},execute:function(t,e,i){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(U,"\\$&").replace(R,"(?:$1)?").replace(G,(function(t,e){return e?t:"([^/?]+)"})).replace(B,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,(function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null}))}});var Z=e.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},$=/^[#\/]|\s+$/g,F=/^\/+|\/+$/g,W=/#.*$/;Z.started=!1,i.extend(Z.prototype,s,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace($,"")},start:function(t){if(Z.started)throw new Error("Backbone.history has already been started");if(Z.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(F,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,r=n.insertBefore(this.iframe,n.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),Z.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),i.some(this.handlers,(function(e){if(e.route.test(t))return e.callback(t),!0})))},navigate:function(t,e){if(!Z.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var i=this.root;""!==t&&"?"!==t.charAt(0)||(i=i.slice(0,-1)||"/");var n=i+t;t=t.replace(W,"");var r=this.decodeFragment(t);if(this.fragment!==r){if(this.fragment=r,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var o=this.iframe.contentWindow;e.replace||(o.document.open(),o.document.close()),this._updateHash(o.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new Z;var V=function(t,e){var n,r=this;return n=t&&i.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},i.extend(n,r,e),n.prototype=i.create(r.prototype,t),n.prototype.constructor=n,n.__super__=r.prototype,n};v.extend=b.extend=j.extend=_.extend=Z.extend=V;var Y=function(){throw new Error('A "url" property or function must be specified')},H=function(t,e){var i=e.error;e.error=function(n){i&&i.call(e.context,t,n,e),t.trigger("error",t,n,e)}}}(n,e,r,i)}()})),jm=zm;const Rm=function(){if(!("object"==typeof window&&!!window.SVGAngle))return function(){throw new Error("SVG is required to use Vectorizer.")};var t={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},e=Math,i=e.PI,n=e.atan2,r=e.sqrt,o=e.min,a=e.max,s=e.cos,l=e.sin,c=function(e,i,n){if(!(this instanceof c))return c.apply(Object.create(c.prototype),arguments);if(e){if(c.isV(e)&&(e=e.node),i=i||{},c.isString(e)){if("svg"===(e=e.trim()).toLowerCase())e=c.createSvgDocument();else if("<"===e[0]){var r=c.createSvgDocument(e);if(r.childNodes.length>1){var o,a,s=[];for(o=0,a=r.childNodes.length;o<a;o++){var l=r.childNodes[o];s.push(new c(document.importNode(l,!0)))}return s}e=document.importNode(r.firstChild,!0)}else e=document.createElementNS(t.svg,e);c.ensureId(e)}return this.node=e,this.setAttributes(i),n&&this.append(n),this}},d=c.prototype;function u(t,e,i){i||(i={});for(var n=i.includeAnnotationIndices,r=i.eol,o=i.lineHeight,a=i.baseSize,s=0,l={},d=e.length-1,u=0;u<=d;u++){var h=e[u],p=null;if(c.isObject(h)){var g=h.attrs,f=c("tspan",g),m=f.node,v=h.t;r&&u===d&&(v+=r),m.textContent=v;var b=g.class;b&&f.addClass(b),n&&f.attr("annotations",h.annotations),p=parseFloat(g["font-size"]),isFinite(p)||(p=a),p&&p>s&&(s=p)}else r&&u===d&&(h+=r),m=document.createTextNode(h||" "),a&&a>s&&(s=a);t.appendChild(m)}return s&&(l.maxFontSize=s),o?l.lineHeight=o:s&&(l.lineHeight=1.2*s),l}Object.defineProperty(d,"id",{enumerable:!0,get:function(){return this.node.id},set:function(t){this.node.id=t}}),d.getTransformToElement=function(t){var e=this.node;if(c.isSVGGraphicsElement(t)&&c.isSVGGraphicsElement(e)){var i=c.toNode(t).getScreenCTM(),n=e.getScreenCTM();if(i&&n)return i.inverse().multiply(n)}return c.createSVGMatrix()},d.transform=function(t,e){var i=this.node;if(c.isUndefined(t))return c.transformStringToMatrix(this.attr("transform"));if(e&&e.absolute)return this.attr("transform",c.matrixToTransformString(t));var n=c.createSVGTransform(t);return i.transform.baseVal.appendItem(n),this},d.translate=function(t,e,i){i=i||{},e=e||0;var n=this.attr("transform")||"",r=c.parseTransformString(n);if(n=r.value,c.isUndefined(t))return r.translate;n=n.replace(/translate\([^)]*\)/g,"").trim();var o="translate("+(i.absolute?t:r.translate.tx+t)+","+(i.absolute?e:r.translate.ty+e)+")";return this.attr("transform",(o+" "+n).trim()),this},d.rotate=function(t,e,i,n){n=n||{};var r=this.attr("transform")||"",o=c.parseTransformString(r);if(r=o.value,c.isUndefined(t))return o.rotate;r=r.replace(/rotate\([^)]*\)/g,"").trim(),t%=360;var a="rotate("+(n.absolute?t:o.rotate.angle+t)+(void 0!==e&&void 0!==i?","+e+","+i:"")+")";return this.attr("transform",(r+" "+a).trim()),this},d.scale=function(t,e){e=c.isUndefined(e)?t:e;var i=this.attr("transform")||"",n=c.parseTransformString(i);if(i=n.value,c.isUndefined(t))return n.scale;i=i.replace(/scale\([^)]*\)/g,"").trim();var r="scale("+t+","+e+")";return this.attr("transform",(i+" "+r).trim()),this},d.bbox=function(t,e){var i,n=this.node,r=n.ownerSVGElement;if(!r)return new _h(0,0,0,0);try{i=n.getBBox()}catch(t){i={x:n.clientLeft,y:n.clientTop,width:n.clientWidth,height:n.clientHeight}}if(t)return new _h(i);var o=this.getTransformToElement(e||r);return c.transformRect(i,o)},d.getBBox=function(t){var e,i={},n=this.node;if(!n.ownerSVGElement||!c.isSVGGraphicsElement(n))return new _h(0,0,0,0);if(t&&(t.target&&(i.target=c.toNode(t.target)),t.recursive&&(i.recursive=t.recursive)),i.recursive){var r=this.children(),o=r.length;if(0===o)return this.getBBox({target:i.target,recursive:!1});i.target||(i.target=this);for(var a=0;a<o;a++){var s,l=r[a];s=0===l.children().length?l.getBBox({target:i.target,recursive:!1}):l.getBBox({target:i.target,recursive:!0}),e=e?e.union(s):s}return e}try{e=n.getBBox()}catch(t){e={x:n.clientLeft,y:n.clientTop,width:n.clientWidth,height:n.clientHeight}}if(i.target){var d=this.getTransformToElement(i.target);return c.transformRect(e,d)}return new _h(e)};var h=/em$/;function p(t,e){var i=parseFloat(t);return h.test(t)?i*e:i}d.text=function(e,i){if(e&&"string"!=typeof e)throw new Error("Vectorizer: text() expects the first argument to be a string.");e=c.sanitizeText(e),i||(i={});var n=i.displayEmpty,r=i.eol,o=i.textPath,a=i.textVerticalAnchor,s="middle"===a||"bottom"===a||"top"===a,l=i.x;void 0===l&&(l=this.attr("x")||0);var d=i.includeAnnotationIndices,g=i.annotations;g&&!c.isArray(g)&&(g=[g]);var f=i.lineHeight,m="auto"===f,v=m?"1.5em":f||"1em";this.empty(),this.attr({"xml:space":"preserve",display:e||n?null:"none"});var b=parseFloat(this.attr("font-size"));b||(b=16,(s||g)&&this.attr("font-size",b));var y,x=document;o?("string"==typeof o&&(o={d:o}),y=function(t,e){t||(t={});var i=c("textPath"),n=t.d;if(n&&void 0===t["xlink:href"]){var r=c("path").attr("d",n).appendTo(e.defs());i.attr("xlink:href","#"+r.id)}return c.isObject(t)&&i.attr(t),i.node}(o,this)):y=x.createDocumentFragment();for(var w,I=0,C=e.split("\n"),A=[],S=0,k=C.length-1;S<=k;S++){var _,T=v,P="v-line",M=x.createElementNS(t.svg,"tspan"),N=C[S];if(N)if(g){var L=c.annotateString(N,g,{offset:-I,includeAnnotationIndices:d}),O=(_=u(M,L,{includeAnnotationIndices:d,eol:S!==k&&r,lineHeight:m?null:v,baseSize:b})).lineHeight;O&&m&&0!==S&&(T=O),0===S&&(w=.8*_.maxFontSize)}else r&&S!==k&&(N+=r),M.textContent=N;else{M.textContent="-",P+=" v-empty-line";var E=M.style;if(E.fillOpacity=0,E.strokeOpacity=0,g){_={};let t=b;for(let e=(L=c.findAnnotationsAtIndex(g,I)).length;e>0;e--){const i=L[e-1].attrs;if(!i||!("font-size"in i))continue;const n=parseFloat(i["font-size"]);if(isFinite(n)){t=n;break}}m&&(S>0?T=1.2*t:w=.8*t),M.setAttribute("font-size",t),_.maxFontSize=t}}_&&A.push(_),S>0&&M.setAttribute("dy",T),(S>0||o)&&M.setAttribute("x",l),M.className.baseVal=P,y.appendChild(M),I+=N.length+1}if(s)if(g)T=function(t,e,i,n){if(!Array.isArray(e))return 0;var r=e.length;if(!r)return 0;for(var o=e[0],a=p(o.maxFontSize,i)||i,s=0,l=p(n,i),c=1;c<r;c++)s+=p((o=e[c]).lineHeight,i)||l;var d,u=p(o.maxFontSize,i)||i;switch(t){case"middle":d=a/2-.15*u-s/2;break;case"bottom":d=-.25*u-s;break;default:d=.8*a}return d}(a,A,b,v);else if("top"===a)T="0.8em";else{var D;switch(k>0?(D=parseFloat(v)||1,D*=k,h.test(v)||(D/=b)):D=0,a){case"middle":T=.3-D/2+"em";break;case"bottom":T=-D-.3+"em"}}else 0===a?T="0em":a?T=a:(T=0,null===this.attr("y")&&this.attr("y",w||"0.8em"));return y.firstChild.setAttribute("dy",T),this.append(y),this},d.removeAttr=function(t){const e=v[t],{ns:i,local:n}=c.qualifyAttr(e),r=this.node;return i?r.hasAttributeNS(i,n)&&r.removeAttributeNS(i,n):r.hasAttribute(e)&&r.removeAttribute(e),this},d.attr=function(t,e){if(c.isUndefined(t)){for(var i=this.node.attributes,n={},r=0;r<i.length;r++)n[i[r].name]=i[r].value;return n}if(c.isString(t)&&c.isUndefined(e))return this.node.getAttribute(v[t]);if("object"==typeof t)for(var o in t)t.hasOwnProperty(o)&&this.setAttribute(o,t[o]);else this.setAttribute(t,e);return this},d.normalizePath=function(){return"PATH"===this.tagName()&&this.attr("d",c.normalizePathData(this.attr("d"))),this},d.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},d.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},d.setAttributes=function(t){for(var e in t)t.hasOwnProperty(e)&&this.setAttribute(e,t[e]);return this},d.append=function(t){c.isArray(t)||(t=[t]);for(var e=0,i=t.length;e<i;e++)this.node.appendChild(c.toNode(t[e]));return this},d.prepend=function(t){var e=this.node.firstChild;return e?c(e).before(t):this.append(t)},d.before=function(t){var e=this.node,i=e.parentNode;if(i){c.isArray(t)||(t=[t]);for(var n=0,r=t.length;n<r;n++)i.insertBefore(c.toNode(t[n]),e)}return this},d.appendTo=function(t){return c.toNode(t).appendChild(this.node),this},d.svg=function(){return this.node instanceof window.SVGSVGElement?this:c(this.node.ownerSVGElement)},d.tagName=function(){return this.node.tagName.toUpperCase()},d.defs=function(){var t=this.svg()||this,e=t.node.getElementsByTagName("defs")[0];return e?c(e):c("defs").appendTo(t)},d.clone=function(){var t=c(this.node.cloneNode(!0));return t.node.id=c.uniqueId(),t},d.findOne=function(t){var e=this.node.querySelector(t);return e?c(e):void 0},d.find=function(t){var e=[],i=this.node.querySelectorAll(t);if(i)for(var n=0;n<i.length;n++)e.push(c(i[n]));return e},d.children=function(){for(var t=this.node.childNodes,e=[],i=0;i<t.length;i++){1===t[i].nodeType&&e.push(c(t[i]))}return e},d.parent=function(){return c(this.node.parentNode)||null},d.index=function(){for(var t=0,e=this.node.previousSibling;e;)1===e.nodeType&&t++,e=e.previousSibling;return t},d.findParentByClass=function(t,e){for(var i=this.node.ownerSVGElement,n=this.node.parentNode;n&&n!==e&&n!==i;){var r=c(n);if(r.hasClass(t))return r;n=n.parentNode}return null},d.contains=function(t){var e=this.node,i=c.toNode(t),n=i&&i.parentNode;return e===n||!!(n&&1===n.nodeType&&16&e.compareDocumentPosition(n))},d.toLocalPoint=function(t,e){var i=this.svg().node,n=i.createSVGPoint();n.x=t,n.y=e;try{var r=n.matrixTransform(i.getScreenCTM().inverse()),o=this.getTransformToElement(i).inverse()}catch(t){return n}return r.matrixTransform(o)},d.translateCenterToPoint=function(t){var e=this.getBBox({target:this.svg()}).center();return this.translate(t.x-e.x,t.y-e.y),this},d.translateAndAutoOrient=function(t,e,i){t=new ch(t),e=new ch(e),i||(i=this.svg());var n=this.scale();this.attr("transform","");var r=this.getBBox({target:i}).scale(n.sx,n.sy),o=c.createSVGTransform();o.setTranslate(-r.x-r.width/2,-r.y-r.height/2);var a=c.createSVGTransform(),s=t.angleBetween(e,t.clone().offset(1,0));s&&a.setRotate(s,0,0);var l=c.createSVGTransform(),d=t.clone().move(e,r.width/2);l.setTranslate(2*t.x-d.x,2*t.y-d.y);var u=this.getTransformToElement(i),h=c.createSVGTransform();return h.setMatrix(l.matrix.multiply(a.matrix.multiply(o.matrix.multiply(u.scale(n.sx,n.sy))))),this.attr("transform",c.matrixToTransformString(h.matrix)),this},d.animateAlongPath=function(t,e){e=c.toNode(e);var i=c.ensureId(e),n=c("animateMotion",t),r=c("mpath",{"xlink:href":"#"+i});n.append(r),this.append(n);try{n.node.beginElement()}catch(t){if("fake"===document.documentElement.getAttribute("smiling")){var o=n.node;o.animators=[];var a=o.getAttribute("id");a&&(id2anim[a]=o);for(var s=getTargets(o),l=0,d=s.length;l<d;l++){var u=s[l],h=new Animator(o,u,l);animators.push(h),o.animators[l]=h,h.register()}}}return this};const g=/[^\x20\t\r\n\f]+/g;function f(t){return c.isString(t)&&t.trim().match(g)||[]}d.hasClass=function(t){return!!c.isString(t)&&this.node.classList.contains(t.trim())},d.addClass=function(t){return this.node.classList.add(...f(t)),this},d.removeClass=function(t){return this.node.classList.remove(...f(t)),this},d.toggleClass=function(t,e){const i=f(t);for(let t=0;t<i.length;t++)this.node.classList.toggle(i[t],e);return this},d.sample=function(t){t=t||1;for(var e,i=this.node,n=i.getTotalLength(),r=[],o=0;o<n;)e=i.getPointAtLength(o),r.push({x:e.x,y:e.y,distance:o}),o+=t;return r},d.convertToPath=function(){var t=c("path");t.attr(this.attr());var e=this.convertToPathData();return e&&t.attr("d",e),t},d.convertToPathData=function(){var t=this.tagName();switch(t){case"PATH":return this.attr("d");case"LINE":return c.convertLineToPathData(this.node);case"POLYGON":return c.convertPolygonToPathData(this.node);case"POLYLINE":return c.convertPolylineToPathData(this.node);case"ELLIPSE":return c.convertEllipseToPathData(this.node);case"CIRCLE":return c.convertCircleToPathData(this.node);case"RECT":return c.convertRectToPathData(this.node)}throw new Error(t+" cannot be converted to PATH.")},c.prototype.toGeometryShape=function(){var t,e,i,n,r,o,a,s,l,d,u,h,p,g,f;switch(this.tagName()){case"RECT":return t=parseFloat(this.attr("x"))||0,e=parseFloat(this.attr("y"))||0,i=parseFloat(this.attr("width"))||0,n=parseFloat(this.attr("height"))||0,new _h(t,e,i,n);case"CIRCLE":return r=parseFloat(this.attr("cx"))||0,o=parseFloat(this.attr("cy"))||0,a=parseFloat(this.attr("r"))||0,new bh({x:r,y:o},a,a);case"ELLIPSE":return r=parseFloat(this.attr("cx"))||0,o=parseFloat(this.attr("cy"))||0,s=parseFloat(this.attr("rx"))||0,l=parseFloat(this.attr("ry"))||0,new bh({x:r,y:o},s,l);case"POLYLINE":return d=c.getPointsFromSvgNode(this),new Lh(d);case"POLYGON":return(d=c.getPointsFromSvgNode(this)).length>1&&d.push(d[0]),new Lh(d);case"PATH":return u=this.attr("d"),Bh.isDataSupported(u)||(u=c.normalizePathData(u)),new Bh(u);case"LINE":return h=parseFloat(this.attr("x1"))||0,g=parseFloat(this.attr("y1"))||0,p=parseFloat(this.attr("x2"))||0,f=parseFloat(this.attr("y2"))||0,new ph({x:h,y:g},{x:p,y:f})}return this.getBBox()},d.findIntersection=function(t,e){var i=this.svg().node;e=e||i;var n=this.getBBox({target:e}),r=n.center();if(n.intersectionWithLineFromCenterToPoint(t)){var o,a=this.tagName();if("RECT"===a){var s=new _h(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),l=this.getTransformToElement(e),d=c.decomposeMatrix(l),u=i.createSVGTransform();u.setRotate(-d.rotation,r.x,r.y);var h=c.transformRect(s,u.matrix.multiply(l));o=new _h(h).intersectionWithLineFromCenterToPoint(t,d.rotation)}else if("PATH"===a||"POLYGON"===a||"POLYLINE"===a||"CIRCLE"===a||"ELLIPSE"===a){var p,g,f,m,v,b=("PATH"===a?this:this.convertToPath()).sample(),y=1/0,x=[];for(p=0;p<b.length;p++)g=b[p],f=(f=c.createSVGPoint(g.x,g.y)).matrixTransform(this.getTransformToElement(e)),(v=(g=new ch(f)).distance(r)+(m=1.1*g.distance(t)))<y?(y=v,x=[{sample:g,refDistance:m}]):v<y+1&&x.push({sample:g,refDistance:m});x.sort((function(t,e){return t.refDistance-e.refDistance})),x[0]&&(o=x[0].sample)}return o}},d.setAttribute=function(t,e){const i=this.node;if(null===e)return this.removeAttr(t),this;const n=v[t],{ns:r}=c.qualifyAttr(n);return r?i.setAttributeNS(r,n,e):"id"===n?i.id=e:i.setAttribute(n,e),this},c.createSvgDocument=function(e){if(e){const i=`<svg xmlns="${t.svg}" xmlns:xlink="${t.xlink}" version="1.1">${e}</svg>`,{documentElement:n}=c.parseXML(i,{async:!1});return n}const i=document.createElementNS(t.svg,"svg");return i.setAttributeNS(t.xmlns,"xmlns:xlink",t.xlink),i.setAttribute("version","1.1"),i},c.createSVGStyle=function(t){const{node:e}=c("style",{type:"text/css"},[c.createCDATASection(t)]);return e},c.createCDATASection=function(t=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(t)},c.idCounter=0,c.uniqueId=function(){return"v-"+ ++c.idCounter},c.toNode=function(t){return c.isV(t)?t.node:t.nodeName&&t||t[0]},c.ensureId=function(t){return(t=c.toNode(t)).id||(t.id=c.uniqueId())},c.sanitizeText=function(t){return(t||"").replace(/ /g," ")},c.isUndefined=function(t){return void 0===t},c.isString=function(t){return"string"==typeof t},c.isObject=function(t){return t&&"object"==typeof t},c.isArray=Array.isArray,c.parseXML=function(t,e){var i;e=e||{};try{var n=new DOMParser;c.isUndefined(e.async)||(n.async=e.async),i=n.parseFromString(t,"text/xml")}catch(t){i=void 0}if(!i||i.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+t);return i};const m=Object.create(null);["baseFrequency","baseProfile","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].forEach((t=>m[t]=t));const v=new Proxy(m,{get:(t,e)=>c.supportCamelCaseAttributes?e in t?t[e]:t[e]=e.replace(/[A-Z]/g,"-$&").toLowerCase():e});Object.defineProperty(c,"attributeNames",{value:v,writable:!1}),Object.defineProperty(c,"supportCamelCaseAttributes",{value:!1,writable:!0}),c.qualifyAttr=function(e){if(-1!==e.indexOf(":")){var i=e.split(":");return{ns:t[i[0]],local:i[1]}}return{ns:null,local:e}},c.transformSeparatorRegex=/[ ,]+/,c.transformRegex=/\b\w+\([^()]+\)/g,c.transformFunctionRegex=/\b(\w+)\(([^()]+)\)/,c.transformTranslateRegex=/\btranslate\(([^()]+)\)/,c.transformRotateRegex=/\brotate\(([^()]+)\)/,c.transformScaleRegex=/\bscale\(([^()]+)\)/,c.transformStringToMatrix=function(t){let e=c.createSVGMatrix();const i=t&&t.match(c.transformRegex);if(!i)return e;const n=i.length;for(let t=0;t<n;t++){const n=i[t].match(c.transformFunctionRegex);if(n){let t,i,r,o,a,s=c.createSVGMatrix();const l=n[1].toLowerCase(),d=n[2].split(c.transformSeparatorRegex);switch(l){case"scale":t=parseFloat(d[0]),i=void 0===d[1]?t:parseFloat(d[1]),s=s.scaleNonUniform(t,i);break;case"translate":r=parseFloat(d[0]),o=parseFloat(d[1]),s=s.translate(r,o);break;case"rotate":a=parseFloat(d[0]),r=parseFloat(d[1])||0,o=parseFloat(d[2])||0,s=0!==r||0!==o?s.translate(r,o).rotate(a).translate(-r,-o):s.rotate(a);break;case"skewx":a=parseFloat(d[0]),s=s.skewX(a);break;case"skewy":a=parseFloat(d[0]),s=s.skewY(a);break;case"matrix":s.a=parseFloat(d[0]),s.b=parseFloat(d[1]),s.c=parseFloat(d[2]),s.d=parseFloat(d[3]),s.e=parseFloat(d[4]),s.f=parseFloat(d[5]);break;default:continue}e=e.multiply(s)}}return e},c.matrixToTransformString=function(t){return t||(t=!0),"matrix("+(void 0!==t.a?t.a:1)+","+(void 0!==t.b?t.b:0)+","+(void 0!==t.c?t.c:0)+","+(void 0!==t.d?t.d:1)+","+(void 0!==t.e?t.e:0)+","+(void 0!==t.f?t.f:0)+")"},c.parseTransformString=function(t){var e,i,n;if(t){var r=c.transformSeparatorRegex;if(t.trim().indexOf("matrix")>=0){var o=c.transformStringToMatrix(t),a=c.decomposeMatrix(o);e=[a.translateX,a.translateY],n=[a.scaleX,a.scaleY],i=[a.rotation];var s=[];0===e[0]&&0===e[1]||s.push("translate("+e+")"),1===n[0]&&1===n[1]||s.push("scale("+n+")"),0!==i[0]&&s.push("rotate("+i+")"),t=s.join(" ")}else{const o=t.match(c.transformTranslateRegex);o&&(e=o[1].split(r));const a=t.match(c.transformRotateRegex);a&&(i=a[1].split(r));const s=t.match(c.transformScaleRegex);s&&(n=s[1].split(r))}}var l=n&&n[0]?parseFloat(n[0]):1;return{value:t,translate:{tx:e&&e[0]?parseInt(e[0],10):0,ty:e&&e[1]?parseInt(e[1],10):0},rotate:{angle:i&&i[0]?parseInt(i[0],10):0,cx:i&&i[1]?parseInt(i[1],10):void 0,cy:i&&i[2]?parseInt(i[2],10):void 0},scale:{sx:l,sy:n&&n[1]?parseFloat(n[1]):l}}},c.deltaTransformPoint=function(t,e){return{x:e.x*t.a+e.y*t.c+0,y:e.x*t.b+e.y*t.d+0}},c.decomposeMatrix=function(t){var e=c.deltaTransformPoint(t,{x:0,y:1}),o=c.deltaTransformPoint(t,{x:1,y:0}),a=180/i*n(e.y,e.x)-90,s=180/i*n(o.y,o.x);return{translateX:t.e,translateY:t.f,scaleX:r(t.a*t.a+t.b*t.b),scaleY:r(t.c*t.c+t.d*t.d),skewX:a,skewY:s,rotation:a}},c.matrixToScale=function(t){var e,i,n,o;return t?(e=c.isUndefined(t.a)?1:t.a,o=c.isUndefined(t.d)?1:t.d,i=t.b,n=t.c):e=o=1,{sx:i?r(e*e+i*i):e,sy:n?r(n*n+o*o):o}},c.matrixToRotate=function(t){var e={x:0,y:1};return t&&(e=c.deltaTransformPoint(t,e)),{angle:Uu($u(n(e.y,e.x))-90)}},c.matrixToTranslate=function(t){return{tx:t&&t.e||0,ty:t&&t.f||0}},c.isV=function(t){return t instanceof c},c.isVElement=c.isV,c.isSVGGraphicsElement=function(t){return!!t&&((t=c.toNode(t))instanceof SVGElement&&"function"==typeof t.getScreenCTM)};var b=c("svg").node;return c.createSVGMatrix=function(t){var e=b.createSVGMatrix();for(var i in t)e[i]=t[i];return e},c.createSVGTransform=function(t){return c.isUndefined(t)?b.createSVGTransform():(t instanceof SVGMatrix||(t=c.createSVGMatrix(t)),b.createSVGTransformFromMatrix(t))},c.createSVGPoint=function(t,e){var i=b.createSVGPoint();return i.x=t,i.y=e,i},c.transformRect=function(t,e){var i=b.createSVGPoint();i.x=t.x,i.y=t.y;var n=i.matrixTransform(e);i.x=t.x+t.width,i.y=t.y;var r=i.matrixTransform(e);i.x=t.x+t.width,i.y=t.y+t.height;var s=i.matrixTransform(e);i.x=t.x,i.y=t.y+t.height;var l=i.matrixTransform(e),c=o(n.x,r.x,s.x,l.x),d=a(n.x,r.x,s.x,l.x),u=o(n.y,r.y,s.y,l.y),h=a(n.y,r.y,s.y,l.y);return new _h(c,u,d-c,h-u)},c.transformPoint=function(t,e){return new ch(c.createSVGPoint(t.x,t.y).matrixTransform(e))},c.transformLine=function(t,e){return new ph(c.transformPoint(t.start,e),c.transformPoint(t.end,e))},c.transformPolyline=function(t,e){var i=t instanceof Lh?t.points:t;c.isArray(i)||(i=[]);for(var n=[],r=0,o=i.length;r<o;r++)n[r]=c.transformPoint(i[r],e);return new Lh(n)},c.styleToObject=function(t){for(var e={},i=t.split(";"),n=0;n<i.length;n++){var r=i[n].split("=");e[r[0].trim()]=r[1].trim()}return e},c.createSlicePathData=function(t,e,n,r){var o=2*i-1e-6,a=t,c=e,d=n,u=r,h=(u<d&&(h=d,d=u,u=h),u-d),p=h<i?"0":"1",g=s(d),f=l(d),m=s(u),v=l(u);return h>=o?a?"M0,"+c+"A"+c+","+c+" 0 1,1 0,"+-c+"A"+c+","+c+" 0 1,1 0,"+c+"M0,"+a+"A"+a+","+a+" 0 1,0 0,"+-a+"A"+a+","+a+" 0 1,0 0,"+a+"Z":"M0,"+c+"A"+c+","+c+" 0 1,1 0,"+-c+"A"+c+","+c+" 0 1,1 0,"+c+"Z":a?"M"+c*g+","+c*f+"A"+c+","+c+" 0 "+p+",1 "+c*m+","+c*v+"L"+a*m+","+a*v+"A"+a+","+a+" 0 "+p+",0 "+a*g+","+a*f+"Z":"M"+c*g+","+c*f+"A"+c+","+c+" 0 "+p+",1 "+c*m+","+c*v+"L0,0Z"},c.mergeAttrs=function(t,e){for(var i in e)"class"===i?t[i]=t[i]?t[i]+" "+e[i]:e[i]:"style"===i?c.isObject(t[i])&&c.isObject(e[i])?t[i]=c.mergeAttrs(t[i],e[i]):c.isObject(t[i])?t[i]=c.mergeAttrs(t[i],c.styleToObject(e[i])):c.isObject(e[i])?t[i]=c.mergeAttrs(c.styleToObject(t[i]),e[i]):t[i]=c.mergeAttrs(c.styleToObject(t[i]),c.styleToObject(e[i])):t[i]=e[i];return t},c.annotateString=function(t,e,i){e=e||[];for(var n,r,o,a=(i=i||{}).offset||0,s=[],l=[],d=0;d<t.length;d++){r=l[d]=t[d];for(var u=0;u<e.length;u++){var h=e[u],p=h.start+a,g=h.end+a;d>=p&&d<g&&(c.isObject(r)?r.attrs=c.mergeAttrs(c.mergeAttrs({},r.attrs),h.attrs):r=l[d]={t:t[d],attrs:h.attrs},i.includeAnnotationIndices&&(r.annotations||(r.annotations=[])).push(u))}(o=l[d-1])?c.isObject(r)&&c.isObject(o)?JSON.stringify(r.attrs)===JSON.stringify(o.attrs)?n.t+=r.t:(s.push(n),n=r):c.isObject(r)||c.isObject(o)?(s.push(n),n=r):n=(n||"")+r:n=r}return n&&s.push(n),s},c.findAnnotationsAtIndex=function(t,e){var i=[];return t&&t.forEach((function(t){t.start<e&&e<=t.end&&i.push(t)})),i},c.findAnnotationsBetweenIndexes=function(t,e,i){var n=[];return t&&t.forEach((function(t){(e>=t.start&&e<t.end||i>t.start&&i<=t.end||t.start>=e&&t.end<i)&&n.push(t)})),n},c.shiftAnnotations=function(t,e,i){return t&&t.forEach((function(t){t.start<e&&t.end>=e?t.end+=i:t.start>=e&&(t.start+=i,t.end+=i)})),t},c.convertLineToPathData=function(t){return["M",(t=c(t)).attr("x1"),t.attr("y1"),"L",t.attr("x2"),t.attr("y2")].join(" ")},c.convertPolygonToPathData=function(t){var e=c.getPointsFromSvgNode(t);return 0===e.length?null:c.svgPointsToPath(e)+" Z"},c.convertPolylineToPathData=function(t){var e=c.getPointsFromSvgNode(t);return 0===e.length?null:c.svgPointsToPath(e)},c.svgPointsToPath=function(t){for(var e=0,i=t.length;e<i;e++)t[e]=t[e].x+" "+t[e].y;return"M "+t.join(" L")},c.getPointsFromSvgNode=function(t){var e=[],i=(t=c.toNode(t)).points;if(i)for(var n=0,r=i.numberOfItems;n<r;n++)e.push(i.getItem(n));return e},c.KAPPA=.551784,c.convertCircleToPathData=function(t){t=c(t);var e=parseFloat(t.attr("cx"))||0,i=parseFloat(t.attr("cy"))||0,n=parseFloat(t.attr("r")),r=n*c.KAPPA;return["M",e,i-n,"C",e+r,i-n,e+n,i-r,e+n,i,"C",e+n,i+r,e+r,i+n,e,i+n,"C",e-r,i+n,e-n,i+r,e-n,i,"C",e-n,i-r,e-r,i-n,e,i-n,"Z"].join(" ")},c.convertEllipseToPathData=function(t){t=c(t);var e=parseFloat(t.attr("cx"))||0,i=parseFloat(t.attr("cy"))||0,n=parseFloat(t.attr("rx")),r=parseFloat(t.attr("ry"))||n,o=n*c.KAPPA,a=r*c.KAPPA;return["M",e,i-r,"C",e+o,i-r,e+n,i-a,e+n,i,"C",e+n,i+a,e+o,i+r,e,i+r,"C",e-o,i+r,e-n,i+a,e-n,i,"C",e-n,i-a,e-o,i-r,e,i-r,"Z"].join(" ")},c.convertRectToPathData=function(t){return t=c(t),c.rectToPath({x:parseFloat(t.attr("x"))||0,y:parseFloat(t.attr("y"))||0,width:parseFloat(t.attr("width"))||0,height:parseFloat(t.attr("height"))||0,rx:parseFloat(t.attr("rx"))||0,ry:parseFloat(t.attr("ry"))||0})},c.rectToPath=function(t){var e=t.x,i=t.y,n=t.width,r=t.height,a=o(t.rx||t["top-rx"]||0,n/2),s=o(t.rx||t["bottom-rx"]||0,n/2),l=o(t.ry||t["top-ry"]||0,r/2),c=o(t.ry||t["bottom-ry"]||0,r/2);return(a||s||l||c?["M",e,i+l,"v",r-l-c,"a",s,c,0,0,0,s,c,"h",n-2*s,"a",s,c,0,0,0,s,-c,"v",-(r-c-l),"a",a,l,0,0,0,-a,-l,"h",-(n-2*a),"a",a,l,0,0,0,-a,l,"Z"]:["M",e,i,"H",e+n,"V",i+r,"H",e,"V",i,"Z"]).join(" ")},c.normalizePathData=function(){var t="\t\n\v\f\r   ᠎             　\u2028\u2029",e=new RegExp("([a-z])["+t+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+t+"]*,?["+t+"]*)+)","ig"),i=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+t+"]*,?["+t+"]*","ig"),n=Math,r=n.PI,o=n.sin,a=n.cos,s=n.tan,l=n.asin,c=n.sqrt,d=n.abs;function u(t,e,i,n,r,o){var a=1/3,s=2/3;return[a*t+s*i,a*e+s*n,a*r+s*i,a*o+s*n,r,o]}function h(t,e,i){return{x:t*a(i)-e*o(i),y:t*o(i)+e*a(i)}}function p(t,e,i,n,u,g,f,m,v,b){var y,x=120*r/180,w=r/180*(+u||0),I=[];if(b)N=b[0],L=b[1],P=b[2],M=b[3];else{t=(y=h(t,e,-w)).x,e=y.y;var C=(t-(m=(y=h(m,v,-w)).x))/2,A=(e-(v=y.y))/2,S=C*C/(i*i)+A*A/(n*n);S>1&&(i*=S=c(S),n*=S);var k=i*i,_=n*n,T=(g==f?-1:1)*c(d((k*_-k*A*A-_*C*C)/(k*A*A+_*C*C))),P=T*i*A/n+(t+m)/2,M=T*-n*C/i+(e+v)/2,N=l(((e-M)/n).toFixed(9)),L=l(((v-M)/n).toFixed(9));(N=t<P?r-N:N)<0&&(N=2*r+N),(L=m<P?r-L:L)<0&&(L=2*r+L),f&&N>L&&(N-=2*r),!f&&L>N&&(L-=2*r)}var O=L-N;if(d(O)>x){var E=L,D=m,z=v;I=p(m=P+i*a(L=N+x*(f&&L>N?1:-1)),v=M+n*o(L),i,n,u,0,f,D,z,[L,E,P,M])}O=L-N;var j=a(N),R=o(N),G=a(L),B=o(L),U=s(O/4),Z=4/3*(i*U),$=4/3*(n*U),F=[t,e],W=[t+Z*R,e-$*j],V=[m+Z*B,v-$*G],Y=[m,v];if(W[0]=2*F[0]-W[0],W[1]=2*F[1]-W[1],b)return[W,V,Y].concat(I);for(var H=[],X=(I=[W,V,Y].concat(I).join().split(",")).length,J=0;J<X;J++)H[J]=J%2?h(I[J-1],I[J],w).y:h(I[J],I[J+1],w).x;return H}function g(t){if(Array.isArray(t)&&Array.isArray(t&&t[0])||(t=function(t){if(!t)return null;var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=[];return String(t).replace(e,(function(t,e,o){var a=[],s=e.toLowerCase();for(o.replace(i,(function(t,e){e&&a.push(+e)})),"m"===s&&a.length>2&&(r.push([e].concat(a.splice(0,2))),s="l",e="m"===e?"l":"L");a.length>=n[s]&&(r.push([e].concat(a.splice(0,n[s]))),n[s]););})),r}(t)),!t||!t.length)return[["M",0,0]];for(var n,r=[],o=0,a=0,s=0,l=0,c=t.length,d=0;d<c;d++){var u=[];r.push(u);var h,p,g=t[d];if((n=g[0])!=n.toUpperCase())switch(u[0]=n.toUpperCase(),u[0]){case"A":u[1]=g[1],u[2]=g[2],u[3]=g[3],u[4]=g[4],u[5]=g[5],u[6]=+g[6]+o,u[7]=+g[7]+a;break;case"V":u[1]=+g[1]+a;break;case"H":u[1]=+g[1]+o;break;case"M":for(s=+g[1]+o,l=+g[2]+a,h=g.length,p=1;p<h;p++)u[p]=+g[p]+(p%2?o:a);break;default:for(h=g.length,p=1;p<h;p++)u[p]=+g[p]+(p%2?o:a)}else for(var f=g.length,m=0;m<f;m++)u[m]=g[m];switch(u[0]){case"Z":o=+s,a=+l;break;case"H":o=u[1];break;case"V":a=u[1];break;case"M":s=u[u.length-2],l=u[u.length-1],o=u[u.length-2],a=u[u.length-1];break;default:o=u[u.length-2],a=u[u.length-1]}}return r}function f(t){var e=g(t),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function n(t,e,i){var n,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(t[0]in{T:1,Q:1}||(e.qx=null,e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=0===parseFloat(t[1])||0===parseFloat(t[2])?["L",t[6],t[7]]:["C"].concat(p.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===i||"S"===i?(n=2*e.x-e.bx,r=2*e.y-e.by):(n=e.x,r=e.y),t=["C",n,r].concat(t.slice(1));break;case"T":"Q"===i||"T"===i?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(u(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(u(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"H":t=["L"].concat(t[1],e.y);break;case"V":t=["L"].concat(e.x,t[1])}return t}function r(t,i){if(t[i].length>7){t[i].shift();for(var n=t[i];n.length;)o[i]="A",t.splice(i++,0,["C"].concat(n.splice(0,6)));t.splice(i,1),l=e.length}}for(var o=[],a="",s="",l=e.length,c=0;c<l;c++){e[c]&&(a=e[c][0]),"C"!==a&&(o[c]=a,c>0&&(s=o[c-1])),e[c]=n(e[c],i,s),"A"!==o[c]&&"C"===a&&(o[c]="C"),r(e,c);var d=e[c],h=d.length;i.x=d[h-2],i.y=d[h-1],i.bx=parseFloat(d[h-4])||i.x,i.by=parseFloat(d[h-3])||i.y}return e[0][0]&&"M"===e[0][0]||e.unshift(["M",0,0]),e}return function(t){return f(t).join(",").split(",").join(" ")}}(),c.namespace=t,c.g=Np,c}();var Gm=Rm;const Bm={useCSSSelectors:!0,classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300},Um="[object Arguments]",Zm="[object Array]",$m="[object Boolean]",Fm="[object Date]",Wm="[object Error]",Vm="[object Map]",Ym="[object Number]",Hm="[object Object]",Xm="[object RegExp]",Jm="[object Set]",Qm="[object String]",Km="[object Symbol]",qm="[object ArrayBuffer]",tv="[object DataView]",ev="[object Float32Array]",iv="[object Float64Array]",nv="[object Int8Array]",rv="[object Int16Array]",ov="[object Int32Array]",av="[object Uint8Array]",sv="[object Uint8ClampedArray]",lv="[object Uint16Array]",cv="[object Uint32Array]",dv={[Um]:!0,[Zm]:!0,[qm]:!0,[tv]:!0,[$m]:!0,[Fm]:!0,[ev]:!0,[iv]:!0,[nv]:!0,[rv]:!0,[ov]:!0,[Vm]:!0,[Ym]:!0,[Hm]:!0,[Xm]:!0,[Jm]:!0,[Qm]:!0,[Km]:!0,[av]:!0,[sv]:!0,[lv]:!0,[cv]:!0,[Wm]:!1,"[object Function]":!1,"[object WeakMap]":!1},uv="\\ud800-\\udfff",hv="\\u2700-\\u27bf",pv="a-z\\xdf-\\xf6\\xf8-\\xff",gv="A-Z\\xc0-\\xd6\\xd8-\\xde",fv="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",mv="['’]",vv=`[${fv}]`,bv="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]",yv=`[${hv}]`,xv=`[${pv}]`,wv=`[^${uv}${fv+"\\d"+hv+pv+gv}]`,Iv="\\ud83c[\\udffb-\\udfff]",Cv=`[^${uv}]`,Av="(?:\\ud83c[\\udde6-\\uddff]){2}",Sv="[\\ud800-\\udbff][\\udc00-\\udfff]",kv=`[${gv}]`,_v=`(?:${xv}|${wv})`,Tv=`(?:${kv}|${wv})`,Pv=`(?:${mv}(?:d|ll|m|re|s|t|ve))?`,Mv=`(?:${mv}(?:D|LL|M|RE|S|T|VE))?`,Nv=`${`(?:${bv}|${Iv})`}?`,Lv="[\\ufe0e\\ufe0f]?",Ov=Lv+Nv+`(?:\\u200d(?:${[Cv,Av,Sv].join("|")})${Lv+Nv})*`,Ev=`(?:${[yv,Av,Sv].join("|")})${Ov}`,Dv=RegExp([`${kv}?${xv}+${Pv}(?=${[vv,kv,"$"].join("|")})`,`${Tv}+${Mv}(?=${[vv,kv+_v,"$"].join("|")})`,`${kv}?${_v}+${Pv}`,`${kv}+${Mv}`,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",Ev].join("|"),"g"),zv="__hash_undefined__",jv=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\]$/,Rv=`(?:${[`${Cv}${bv}?`,bv,Av,Sv,`[${uv}]`].join("|")})`,Gv=RegExp(`${Iv}(?=${Iv})|${Rv+Ov}`,"g"),Bv=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Uv=/^\w*$/,Zv=".".charCodeAt(0),$v=/\\(\\)?/g,Fv=RegExp("[^.[\\]]+|\\[(?:([^\"'][^[]*)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))","g"),Wv=/^(?:0|[1-9]\d*)$/,Vv=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),Yv=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Hv=t=>Gv.test(t),Xv=t=>Hv(t)?(t=>t.match(Gv)||[])(t):(t=>t.split(""))(t),Jv=t=>null==t?[]:Qv(t).map((e=>t[e])),Qv=t=>ab(t)?Kv(t):Object.keys(Object(t)),Kv=(t,e)=>{const i=Array.isArray(t),n=!i&&eb(t)&&cb(t)===Um,r=!i&&!n&&fb(t),o=i||n||r,a=t.length,s=new Array(o?a:0);let l=o?-1:a;for(;++l<a;)s[l]=`${l}`;for(const i in t)!e&&!hasOwnProperty.call(t,i)||o&&("length"===i||Rb(i,a))||s.push(i);return s},qv=(t,e)=>{let{length:i}=t;for(;i--;)if(tb(t[i][0],e))return i;return-1},tb=(t,e)=>t===e||t!=t&&e!=e,eb=t=>null!=t&&"object"==typeof t,ib=(t,e,i)=>{if(!xy(i))return!1;const n=typeof e;return!!("number"==n?ab(i)&&e>-1&&e<i.length:"string"==n&&e in i)&&tb(i[e],t)},nb=t=>{const e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Object.prototype)},rb=(t,e,i)=>{const n=t[e];hasOwnProperty.call(t,e)&&tb(n,i)&&(void 0!==i||e in t)||(t[e]=i)},ob=(t,e,i)=>{let n=-1;const r=e.length;for(;++n<r;){const r=e[n];rb(i,r,t[r])}return i},ab=t=>null!=t&&"function"!=typeof t&&"number"==typeof t.length&&t.length>-1&&t.length%1==0,sb=t=>"symbol"==typeof t||eb(t)&&cb(t)===Km,lb=(t,e)=>{let i=-1;const n=t.length;for(e||(e=new Array(n));++i<n;)e[i]=t[i];return e},cb=t=>null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t),db=t=>{const e=new t.constructor(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e},ub=(t,e)=>{const i=e?db(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)},hb=t=>"function"!=typeof t.constructor||nb(t)?{}:Object.create(Object.getPrototypeOf(t)),pb=t=>{if(null==t)return[];t=Object(t);return Object.getOwnPropertySymbols(t).filter((e=>propertyIsEnumerable.call(t,e)))};const gb=(t,e,i)=>{const n=t.constructor;switch(e){case qm:return db(t);case $m:case Fm:return new n(+t);case tv:return function(t,e){const i=e?db(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}(t,i);case ev:case iv:case nv:case rv:case ov:case av:case sv:case lv:case cv:return ub(t,i);case Vm:case Ym:case Qm:return new n(t);case Xm:return(t=>{const e=new t.constructor(t.source,/\w*$/.exec(t));return e.lastIndex=t.lastIndex,e})(t);case Jm:return new n;case Km:return Symbol.prototype.valueOf?Object(Symbol.prototype.valueOf.call(t)):{}}},fb=t=>eb(t)&&jv.test(cb(t)),mb=t=>{const e=Object.keys(t);return Array.isArray(t)||null==t||e.push(...pb(Object(t))),e},vb=t=>{const e=[];for(;t;)e.push(...pb(t)),t=Object.getPrototypeOf(Object(t));return e},bb=t=>{const e=[];for(const i in t)e.push(i);return Array.isArray(t)||e.push(...vb(t)),e},yb=({__data__:t},e)=>{const i=t;return Bb(e)?i["string"==typeof e?"string":"hash"]:i.map},xb=(t,e,i)=>t===e||(null==t||null==e||!eb(t)&&!eb(e)?t!=t&&e!=e:wb(t,e,xb,i)),wb=(t,e,i,n)=>{let r=Array.isArray(t);const o=Array.isArray(e);let a=r?Zm:cb(t),s=o?Zm:cb(e);a=a==Um?Hm:a,s=s==Um?Hm:s;let l=a==Hm;const c=s==Hm,d=a==s;if(d&&!l)return n||(n=new fy),r||fb(t)?Ib(t,e,!1,i,n):kb(t,e,a,i,n);const u=l&&hasOwnProperty.call(t,"__wrapped__"),h=c&&hasOwnProperty.call(e,"__wrapped__");if(u||h){const r=u?t.value():t,o=h?e.value():e;return n||(n=new fy),i(r,o,n)}return!!d&&(n||(n=new fy),((t,e,i,n)=>{const r=mb(t),o=r.length;if(o!=mb(e).length)return!1;let a,s=o;for(;s--;)if(a=r[s],!hasOwnProperty.call(e,a))return!1;const l=n.get(t),c=n.get(e);if(l&&c)return l==e&&c==t;let d,u=!0;for(n.set(t,e),n.set(e,t);++s<o;){a=r[s];const o=t[a],l=e[a];if(o!==l&&!i(o,l,n)){u=!1;break}d||(d="constructor"==a)}if(u&&!d){const i=t.constructor,n=e.constructor;i==n||!("constructor"in t)||!("constructor"in e)||"function"==typeof i&&i instanceof i&&"function"==typeof n&&n instanceof n||(u=!1)}return n.delete(t),n.delete(e),u})(t,e,i,n))},Ib=(t,e,i,n,r)=>{const o=t.length;if(o!=e.length)return!1;const a=r.get(t),s=r.get(e);if(a&&s)return a==e&&s==t;let l=-1,c=!0;const d=i?new yy:void 0;for(r.set(t,e),r.set(e,t);++l<o;){const i=t[l],o=e[l];if(d){if(!Cb(e,((t,e)=>{if(!Ab(d,e)&&(i===t||n(i,t,r)))return d.push(e)}))){c=!1;break}}else if(i!==o&&!n(i,o,r)){c=!1;break}}return r.delete(t),r.delete(e),c},Cb=(t,e)=>{let i=-1;const n=null==t?0:t.length;for(;++i<n;)if(e(t[i],i,t))return!0;return!1},Ab=(t,e)=>t.has(e),Sb=(t,e,i,n)=>!(t.byteLength!=e.byteLength||!i(new Uint8Array(t),new Uint8Array(e),n)),kb=(t,e,i,n,r)=>{switch(i){case tv:return t.byteLength==e.byteLength&&t.byteOffset==e.byteOffset&&(t=t.buffer,e=e.buffer,Sb(t,e,n,r));case qm:return Sb(t,e,n,r);case $m:case Fm:case Ym:return tb(+t,+e);case Wm:return t.name==e.name&&t.message==e.message;case Xm:case Qm:return t==`${e}`;case Vm:let i=_b;case Jm:if(i||(i=Tb),t.size!=e.size)return!1;const o=r.get(t);if(o)return o==e;r.set(t,e);const a=Ib(i(t),i(e),!0,n,r);return r.delete(t),a;case Km:return Symbol.prototype.valueOf.call(t)==Symbol.prototype.valueOf.call(e)}return!1},_b=t=>{let e=-1,i=Array(t.size);return t.forEach(((t,n)=>{i[++e]=[n,t]})),i},Tb=t=>{let e=-1;const i=new Array(t.size);return t.forEach((t=>{i[++e]=t})),i},Pb=(t,e)=>{if(Array.isArray(t))return!1;const i=typeof t;return!("number"!==i&&"boolean"!==i&&null!=t&&!sb(t))||(Uv.test(t)||!Bv.test(t)||null!=e&&t in Object(e))},Mb=(t,e)=>Array.isArray(t)?t:Pb(t,e)?[t]:(t=>{const e=[];return t.charCodeAt(0)===Zv&&e.push(""),t.replace(Fv,((t,i,n,r)=>{let o=t;n?o=r.replace($v,"$1"):i&&(o=i.trim()),e.push(o)})),e})(`${t}`),Nb=(t,e)=>{let i=0;const n=(e=Mb(e,t)).length;for(;null!=t&&i<n;)t=t[Eb(e[i])],i++;return i&&i==n?t:void 0};function Lb(t,e){if(t!==e){const i=void 0!==t,n=null===t,r=t==t,o=sb(t),a=void 0!==e,s=null===e,l=e==e,c=sb(e);if(!s&&!c&&!o&&t>e||o&&a&&l&&!s&&!c||n&&a&&l||!i&&l||!r)return 1;if(!n&&!o&&!c&&t<e||c&&i&&r&&!n&&!o||s&&i&&r||!a&&r||!l)return-1}return 0}const Ob=(t,e)=>{let i=(t,e)=>!!(null==t?0:t.length)&&t.indexOf(e)>-1,n=!0;const r=[],o=e.length;if(!t.length)return r;e.length>=200&&(i=(t,e)=>t.has(e),n=!1,e=new yy(e));t:for(let a in t){let s=t[a];const l=s;if(s=0!==s?s:0,n&&l==l){let t=o;for(;t--;)if(e[t]===l)continue t;r.push(s)}else i(e,l)||r.push(s)}return r},Eb=t=>{if("string"==typeof t||sb(t))return t;const e=`${t}`;return"0"==e&&1/t==-1/0?"-0":e},Db=(t,e=!1,i=!1,n=!0,r,o,a,s)=>{let l;if(r&&(l=a?r(t,o,a,s):r(t)),void 0!==l)return l;if(!xy(t))return t;const c=Array.isArray(t),d=cb(t);if(c){if(l=(t=>{const e=t.length;let i=new t.constructor(e);return e&&"string"==typeof t[0]&&hasOwnProperty.call(t,"index")&&(i.index=t.index,i.input=t.input),i})(t),!e)return lb(t,l)}else{const n="function"==typeof t;if(d===Hm||d===Um||n&&!a){if(l=i||n?{}:hb(t),!e)return i?zb(t,ob(t,Object.keys(t),l)):((t,e)=>ob(t,pb(t),e))(t,Object.assign(l,t))}else{if(n||!dv[d])return a?t:{};l=gb(t,d,e)}}s||(s=new fy);const u=s.get(t);if(u)return u;if(s.set(t,l),(t=>eb(t)&&cb(t)==Vm)(t))return t.forEach(((o,a)=>{l.set(a,Db(o,e,i,n,r,a,t,s))})),l;if((t=>eb(t)&&cb(t)==Jm)(t))return t.forEach((o=>{l.add(Db(o,e,i,n,r,o,t,s))})),l;if(fb(t))return l;const h=c?void 0:(n?i?bb:mb:i?Ub:Qv)(t);return(h||t).forEach(((o,a)=>{h&&(o=t[a=o]),rb(l,a,Db(o,e,i,n,r,a,t,s))})),l},zb=(t,e)=>ob(t,vb(t),e),jb=(t,e)=>e.length<2?t:Nb(t,e.slice(0,-1)),Rb=(t,e)=>{const i=typeof t;return!!(e=null==e?Number.MAX_SAFE_INTEGER:e)&&("number"===i||"symbol"!==i&&Wv.test(t))&&t>-1&&t%1==0&&t<e},Gb=(t,e)=>{e=Mb(e,t),t=jb(t,e);const i=e[e.length-1];return null==t||delete t[Eb(i)]},Bb=t=>{const e=typeof t;return"string"===e||"number"===e||"symbol"===e||"boolean"===e?"__proto__"!==t:null===t},Ub=t=>{const e=[];for(const i in t)e.push(i);return e},Zb=(t,e)=>{if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]};function $b(t,e=!1){return(i,...n)=>{let r=-1,o=n.length,a=o>1?n[o-1]:void 0;const s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):e?(t,e)=>{if(Array.isArray(t)&&!Array.isArray(e))return e}:void 0,s&&ib(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),i=Object(i);++r<o;){const e=n[r];e&&t(i,e,r,a)}return i}}const Fb=(t,e,i,n,r)=>{t!==e&&Vy(e,((o,a)=>{if(xy(o))r||(r=new fy),Wb(t,e,a,i,Fb,n,r);else{let i=n?n(t[a],o,`${a}`,t,e,r):void 0;void 0===i&&(i=o),Vb(t,a,i)}}))},Wb=(t,e,i,n,r,o,a)=>{const s=Zb(t,i),l=Zb(e,i),c=a.get(l);if(c)return void Vb(t,i,c);let d=o?o(s,l,`${i}`,t,e,a):void 0,u=void 0===d;if(u){const t=Array.isArray(l),e=!t&&fb(l);d=l,t||e?Array.isArray(s)?d=s:eb(s)&&ab(s)?d=lb(s):e?(u=!1,d=ub(l,!0)):d=[]:Dy(l)||cy(l)?(d=s,cy(s)?d=(t=>{t=Object(t);const e={};for(const i in t)e[i]=t[i];return e})(s):"function"!=typeof s&&xy(s)||(d=hb(l))):u=!1}u&&(a.set(l,d),r(d,l,n,o,a),a.delete(l)),Vb(t,i,d)},Vb=(t,e,i)=>{(void 0!==i&&!tb(t[e],i)||void 0===i&&!(e in t))&&rb(t,e,i)};const Yb=(t,e)=>t&&function(t,e,i){const n=Object(t),r=i(t);let{length:o}=r,a=-1;for(;o--;){const t=r[++a];if(!1===e(n[t],t,n))break}return t}(t,e,Qv),Hb=(t,e)=>{if(null==t)return t;if(!ab(t))return Yb(t,e);const i=t.length,n=Object(t);let r=-1;for(;++r<i&&!1!==e(n[r],r,n););return t};const Xb=Set&&1/Tb(new Set([void 0,-0]))[1]==1/0?t=>new Set(t):()=>{};function Jb(t,e,i,n,r,o){return xy(t)&&xy(e)&&(o.set(e,t),Fb(t,e,void 0,Jb,o),o.delete(e)),t}function Qb(t,e,i){e=e.length?e.map((t=>Array.isArray(t)?e=>Nb(e,1===t.length?t[0]:t):t)):[t=>t];let n=-1,r=-1;const o=ab(t)?new Array(t.length):[];return Hb(t,(t=>{const i=e.map((e=>e(t)));o[++r]={criteria:i,index:++n,value:t}})),function(t,e){let{length:i}=t;t.sort(e);for(;i--;)t[i]=t[i].value;return t}(o,((t,e)=>function(t,e,i){let n=-1;const r=t.criteria,o=e.criteria,a=r.length,s=i.length;for(;++n<a;){const t=n<s?i[n]:null,e=(t&&"function"==typeof t?t:Lb)(r[n],o[n]);if(e)return t&&"function"!=typeof t?e*("desc"==t?-1:1):e}return t.index-e.index}(t,e,i)))}function Kb(t){return t==t&&!xy(t)}function qb(t,e){return i=>null!=i&&(i[t]===e&&(void 0!==e||t in Object(i)))}function ty(t,e){return Pb(t)&&Kb(e)?qb(Eb(t),e):i=>{const n=Nb(i,t);return void 0===n&&n===e?function(t,e){return null!=t&&uy(t,e,dy)}(i,t):xb(e,n)}}function ey(t){const e=function(t){const e=Qv(t);let i=e.length;for(;i--;){const n=e[i],r=t[n];e[i]=[n,r,Kb(r)]}return e}(t);return 1===e.length&&e[0][2]?qb(e[0][0],e[0][1]):i=>i===t||function(t,e,i,n){let r=i.length;const o=r,a=!n;if(null==t)return!o;let s,l;t=Object(t);for(;r--;)if(s=i[r],a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1;for(;++r<o;){s=i[r];const o=s[0],c=t[o],d=s[1];if(a&&s[2]){if(void 0===c&&!(o in t))return!1}else{const i=new fy;if(n&&(l=n(c,d,o,t,e,i)),!(void 0===l?xb(d,c,i):l))return!1}}return!0}(i,t,e)}function iy(t){return Pb(t)?(e=Eb(t),t=>null==t?void 0:t[e]):function(t){return e=>Nb(e,t)}(t);var e}function ny(t){return"function"==typeof t?t:null==t?t=>t:"object"==typeof t?Array.isArray(t)?ty(t[0],t[1]):ey(t):iy(t)}function ry(){const t=ny;return arguments.length?t(arguments[0]):t}const oy=(t,e,i,n)=>{let r=-1;const o=null==t?0:t.length;for(n&&o&&(i=t[++r]);++r<o;)i=e(i,t[r],r,t);return i},ay=(t,e,i,n,r)=>(r(t,((t,r,o)=>{i=n?(n=!1,t):e(i,t,r,o)})),i);const sy=t=>Array.isArray(t)||cy(t)||!(!t||!t[Symbol.isConcatSpreadable]);function ly(t,e,i,n,r){let o=-1;const a=t.length;for(i||(i=sy),r||(r=[]);++o<a;){var s=t[o];e>0&&i(s)?e>1?ly(s,e-1,i,n,r):r.push(...s):n||(r[r.length]=s)}return r}const cy=t=>eb(t)&&"[object Arguments]"==cb(t),dy=(t,e)=>null!=t&&e in Object(t),uy=(t,e,i)=>{for(var n,r=-1,o=(e=Mb(e,t)).length,a=!1;++r<o;){var s=Eb(e[r]);if(!(a=null!=t&&i(t,s)))break;t=t[s]}return a||++r!=o?a:!!(o=null==t?0:t.length)&&("number"==typeof(n=o)&&n>-1&&n%1==0&&n<=Number.MAX_SAFE_INTEGER)&&Rb(s,o)&&(Array.isArray(t)||cy(t))},hy=(t,e)=>{if(void 0===e){const e=Vv(t)?(t=>t.match(Dv))(t):(t=>t.match(Yv))(t);return e||[]}return t.match(e)||[]},py=(gy="toUpperCase",t=>{if(!t)return"";const e=Hv(t)?Xv(t):void 0,i=e?e[0]:t[0],n=e?((t,e,i)=>{const{length:n}=t;return i=void 0===i?n:i,!e&&i>=n?t:t.slice(e,i)})(e,1).join(""):t.slice(1);return i[gy]()+n});var gy;class fy{constructor(t){const e=this.__data__=new my(t);this.size=e.size}clear(){this.__data__=new my,this.size=0}delete(t){const e=this.__data__,i=e.delete(t);return this.size=e.size,i}get(t){return this.__data__.get(t)}has(t){return this.__data__.has(t)}set(t,e){let i=this.__data__;if(i instanceof my){const n=i.__data__;if(n.length<199)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new vy(n)}return i.set(t,e),this.size=i.size,this}}class my{constructor(t){let e=-1;const i=null==t?0:t.length;for(this.clear();++e<i;){const i=t[e];this.set(i[0],i[1])}}clear(){this.__data__=[],this.size=0}delete(t){const e=this.__data__,i=qv(e,t);if(i<0)return!1;return i==e.length-1?e.pop():e.splice(i,1),--this.size,!0}get(t){const e=this.__data__,i=qv(e,t);return i<0?void 0:e[i][1]}has(t){return qv(this.__data__,t)>-1}set(t,e){const i=this.__data__,n=qv(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this}}class vy{constructor(t){let e=-1;const i=null==t?0:t.length;for(this.clear();++e<i;){const i=t[e];this.set(i[0],i[1])}}clear(){this.size=0,this.__data__={hash:new by,map:new Map,string:new by}}delete(t){const e=yb(this,t).delete(t);return this.size-=e?1:0,e}get(t){return yb(this,t).get(t)}has(t){return yb(this,t).has(t)}set(t,e){const i=yb(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this}}class by{constructor(t){let e=-1;const i=null==t?0:t.length;for(this.clear();++e<i;){const i=t[e];this.set(i[0],i[1])}}clear(){this.__data__=Object.create(null),this.size=0}delete(t){const e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}get(t){const e=this.__data__[t];return e===zv?void 0:e}has(t){return void 0!==this.__data__[t]}set(t,e){const i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=void 0===e?zv:e,this}}class yy{constructor(t){let e=-1;const i=null==t?0:t.length;for(this.__data__=new vy;++e<i;)this.add(t[e])}add(t){return this.__data__.set(t,zv),this}has(t){return this.__data__.has(t)}}yy.prototype.push=yy.prototype.add;const xy=function(t){return!!t&&("object"==typeof t||"function"==typeof t)},wy=function(t){var e=Object.prototype.toString;return"number"==typeof t||!!t&&"object"==typeof t&&e.call(t)===Ym},Iy=function(t){var e=Object.prototype.toString;return"string"==typeof t||!!t&&"object"==typeof t&&e.call(t)===Qm},Cy=$b(((t,e)=>{if(nb(e)||ab(e))ob(e,Qv(e),t);else for(var i in e)hasOwnProperty.call(e,i)&&rb(t,i,e[i])})),Ay=(t,...e)=>{let i=-1,n=e.length;const r=n>2?e[2]:void 0;for(r&&ib(e[0],e[1],r)&&(n=1);++i<n;){const n=e[i];if(null==n)continue;const r=Object.keys(n),o=r.length;let a=-1;for(;++a<o;){const e=r[a],i=t[e];(void 0===i||tb(i,Object.prototype[e])&&!hasOwnProperty.call(t,e))&&(t[e]=n[e])}}return t},Sy=function(...t){return t.push(void 0,Jb),Hy.apply(void 0,t)},ky=(t,e,...i)=>{let n=-1;const r="function"==typeof e,o=ab(t)?new Array(t.length):[];return Hb(t,(t=>{o[++n]=r?e.apply(t,i):_y(t,e,...i)})),o},_y=(t,e,...i)=>{e=Mb(e,t);const n=null==(t=jb(t,e))?t:t[Eb(function(t){const e=null==t?0:t.length;return e?t[e-1]:void 0}(e))];return null==n?void 0:n.apply(t,i)},Ty=(t,e,i)=>{let n=0,r=null==t?0:t.length;if(0==r)return 0;const o=(e=(i=ry(i,2))(e))!=e,a=null===e,s=sb(e),l=void 0===e;for(;n<r;){let c;const d=Math.floor((n+r)/2),u=i(t[d]),h=void 0!==u,p=null===u,g=u==u,f=sb(u);c=o?g:l?g&&h:a?g&&h&&!p:s?g&&h&&!p&&!f:!p&&!f&&u<e,c?n=d+1:r=d}return Math.min(r,4294967294)},Py=(t,e)=>{let i=-1,n=(t,e)=>!!(null==t?0:t.length)&&t.indexOf(e)>-1;e=ry(e,2);let r=!0;const{length:o}=t,a=[];let s=a;if(o>=200){const i=e?null:Xb(t);if(i)return Tb(i);r=!1,n=(t,e)=>t.has(e),s=new yy}else s=e?[]:a;t:for(;++i<o;){let o=t[i];const l=e?e(o):o;if(o=0!==o?o:0,r&&l==l){let t=s.length;for(;t--;)if(s[t]===l)continue t;e&&s.push(l),a.push(o)}else n(s,l)||(s!==a&&s.push(l),a.push(o))}return a},My=t=>Db(t),Ny=t=>Db(t,!0),Ly=t=>{if(null==t)return!0;if(ab(t)&&(Array.isArray(t)||"string"==typeof t||"function"==typeof t.splice||fb(t)||cy(t)))return!t.length;const e=cb(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(nb(t))return!(t=>{if(!nb(t))return Object.keys(t);var e=[];for(var i in Object(t))hasOwnProperty.call(t,i)&&"constructor"!=i&&e.push(i);return e})(t).length;for(const e in t)if(hasOwnProperty.call(t,e))return!1;return!0},Oy=(t,e)=>xb(t,e),Ey=t=>"function"==typeof t,Dy=t=>{if(!eb(t)||"[object Object]"!=cb(t))return!1;if(null===Object.getPrototypeOf(t))return!0;let e=t;for(;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},zy=t=>{if(!t)return[];if(ab(t))return Iy(t)?Xv(t):lb(t);if(Symbol.iterator&&Symbol.iterator in Object(t)){const e=t[Symbol.iterator]();let i;const n=[];for(;!(i=e.next()).done;)n.push(i.value);return n}const e=cb(t);return(e==Vm?_b:e==Jm?Tb:Jv)(t)};const jy=(t,e)=>(e=ry(e,2),function(t,e,i){return(Array.isArray(t)?oy:ay)(t,e,i,arguments.length<3,Hb)}(t,((t,i,n)=>(n=e(i),hasOwnProperty.call(t,n)?t[n].push(i):rb(t,n,[i]),t)),{})),Ry=(t,e=[])=>{if(null==t)return[];const i=e.length;return i>1&&ib(t,e[0],e[1])?e=[]:i>2&&ib(e[0],e[1],e[2])&&(e=[e[0]]),Array.isArray(e)||(e=[ry(e,2)]),Qb(t,e.flat(1),[])},Gy=t=>(null==t?0:t.length)?ly(t,1/0):[],By=(t,...e)=>ab(t)?Ob(t,e):[],Uy=(t,...e)=>eb(t)&&ab(t)?Ob(t,e.flat(1)):[],Zy=(...t)=>{const e=t.flat(1);return Py(e)},$y=(t,e)=>{if(null==t)return!1;"string"==typeof e&&(e=e.split("."));let i=-1,n=t;for(;++i<e.length;){if(!n||!hasOwnProperty.call(n,e[i]))return!1;n=n[e[i]]}return!0},Fy=(t,e,i)=>{let n=-1,r=(e=Mb(e,t)).length;for(r||(r=1,t=void 0);++n<r;){let o=null==t?void 0:t[Eb(e[n])];void 0===o&&(n=r,o=i),t="function"==typeof o?o.call(t):o}return t},Wy=(t,...e)=>{let i={};if(null==t)return i;let n=!1;e=e.flat(1).map((e=>(e=Mb(e,t),n||(n=e.length>1),e))),ob(t,bb(t),i),n&&(i=Db(i,!0,!0,!0,(t=>Dy(t)?void 0:t)));let r=e.length;for(;r--;)Gb(i,e[r]);return i},Vy=(t,e=(t=>t))=>{let i=-1;const n=Object(t),r=ab(t)?Kv(t,!0):Ub(t);let o=r.length;for(;o--;){const t=r[++i];if(!1===e(n[t],t,n))break}};let Yy=0;const Hy=$b(((t,e,i,n)=>{Fb(t,e,i,n)}),!0),Xy=function(t){return t?t.toString().split(" ").map((function(t){return t.substr(0,Bm.classNamePrefix.length)!==Bm.classNamePrefix&&(t=Bm.classNamePrefix+t),t})).join(" "):t},Jy=function(t){return t?t.toString().split(" ").map((function(t){return t.substr(0,Bm.classNamePrefix.length)===Bm.classNamePrefix&&(t=t.substr(Bm.classNamePrefix.length)),t})).join(" "):t},Qy=function(t,e){const i={},n={},r=Gm.namespace.svg,o=e||r,a=document.createDocumentFragment(),s=function(t,e,o){for(let a=0;a<t.length;a++){const l=t[a];if("string"==typeof l){const t=document.createTextNode(l);e.appendChild(t);continue}if(!l.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");const c=l.tagName;let d;l.hasOwnProperty("namespaceURI")&&(o=l.namespaceURI),d=document.createElementNS(o,c);const u=o===r,h=u?Gm:Dm,p=l.attributes;p&&h(d).attr(p);const g=l.style;if(g&&Dm(d).css(g),l.hasOwnProperty("className")){const t=l.className;u?d.className.baseVal=t:d.className=t}if(l.hasOwnProperty("textContent")&&(d.textContent=l.textContent),l.hasOwnProperty("selector")){const t=l.selector;if(i[t])throw new Error("json-dom-parser: selector must be unique");i[t]=d,h(d).attr("joint-selector",t)}if(l.hasOwnProperty("groupSelector")){let t=l.groupSelector;Array.isArray(t)||(t=[t]);for(let e=0;e<t.length;e++){const i=t[e];let r=n[i];r||(r=n[i]=[]),r.push(d)}}e.appendChild(d);const f=l.children;Array.isArray(f)&&s(f,d,o)}};return s(t,a,o),{fragment:a,selectors:i,groupSelectors:n}},Ky=function(t){let e=0;if(0===t.length)return e;for(let i=0;i<t.length;i++){e=(e<<5)-e+t.charCodeAt(i),e&=e}return e},qy=function(t,e,i){for(var n,r=Array.isArray(e)?e:e.split(i||"/"),o=0,a=r.length;o<a;){if(n=r[o++],Object(t)!==t||!(n in t))return;t=t[n]}return t},tx=function(t,e){return"string"!=typeof e&&"number"!=typeof e&&(e=String(e)),("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!==e},ex=function(t,e,i,n){const r=Array.isArray(e)?e:e.split(n||"/"),o=r.length-1;let a=t,s=0;for(;s<o;s++){const e=r[s];if(!tx(a,e))return t;a=a[e]||(a[e]={})}return a[r[o]]=i,t},ix=function(t,e,i){const n=Array.isArray(e)?e:e.split(i||"/"),r=n.length-1;let o=t,a=0;for(;a<r;a++){const e=n[a];if(!tx(o,e))return t;const i=o[e];if(!i)return t;o=i}return delete o[n[r]],t},nx=function(t){return nx.id=nx.id||1,void 0===t?"j_"+nx.id++:(t.id=void 0===t.id?"j_"+nx.id++:t.id,t.id)},rx=function(t){if(t.normalized)return t;const{originalEvent:e,target:i}=t,n=e&&e.changedTouches&&e.changedTouches[0];if(n)for(let e in n)void 0===t[e]&&(t[e]=n[e]);if(i){const e=i.correspondingUseElement;e&&(t.target=e)}return t.normalized=!0,t},ox=function(){var t;if("undefined"!=typeof window&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!t){var e=0;t=function(t){var i=(new Date).getTime(),n=Math.max(0,16-(i-e)),r=setTimeout((function(){t(i+n)}),n);return e=i+n,r}}return function(e,i,...n){return t(void 0!==i?e.bind(i,...n):e)}}(),ax=((lx="undefined"!=typeof window)&&(sx=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),sx=sx||clearTimeout,lx?sx.bind(window):sx);var sx,lx;const cx=function(t){return Iy(t)&&"%"===t.slice(-1)},dx=function(t,e){var i=parseFloat(t);if(Number.isNaN(i))return null;var n,r={};if(r.value=i,null==e)n="[A-Za-z]*";else if(Array.isArray(e)){if(0===e.length)return null;n=e.join("|")}else Iy(e)&&(n=e);var o=function(e){var i=new RegExp("(?:\\d+(?:\\.\\d+)*)("+e+")$").exec(t);return i?i[1]:null}(n);return null===o?null:(r.unit=o,r)},ux=0;function hx(t,e){const i=t.split(e);let n=1;for(let t=0,r=i.length-1;t<r;t++){const o=[];(t>0||""!==i[0])&&o.push(ux),o.push(e),(t<r-1||""!==i[r])&&o.push(ux),i.splice(n,0,...o),n+=o.length+1}return i.filter((t=>""!==t))}function px(t,e){if(null===t)return e.getBBox().height;switch(t.unit){case"em":return e.getBBox().height*t.value;case"px":case"":return t.value}}const gx=function(t,e,i={},n={}){var r=e.width,o=e.height,a=n.svgDocument||Gm("svg").node,s=Gm("tspan").node,l=Gm("text").attr(i).append(s).node,c=document.createTextNode("");l.style.opacity=0,l.style.display="block",s.style.display="block",s.appendChild(c),a.appendChild(l),n.svgDocument||document.body.appendChild(a);const d=n.preserveSpaces,u=n.separator||""===n.separator?n.separator:" ",h="string"==typeof u?u:" ";var p=n.eol||"\n",g=n.hyphen?new RegExp(n.hyphen):/[^\w\d\u00C0-\u1FFF\u2800-\uFFFD]/,f=n.maxLineCount;wy(f)||(f=1/0);var m,v,b,y=t.split(u),x=[],w=[];d&&Gm(s).attr("xml:space","preserve");for(var I=0,C=0,A=y.length;I<A;I++){var S=y[I];if((S||d)&&"string"==typeof S){var k=!1;if(p&&S.indexOf(p)>=0){if(S.length>1){const t=hx(y[I],p);y.splice(I,1,...t),I--,A=y.length;continue}if(d&&"string"==typeof y[I-1]){y.splice(I,ux,"",ux),A+=2,I--;continue}w[++C]=d&&"string"!=typeof y[I+1]?void 0:"",k=!0}if(!k){let t;if(t=d?void 0!==w[C]?w[C]+h+S:S:w[C]?w[C]+h+S:S,c.data=t,s.getComputedTextLength()<=r)w[C]=t,(m||v)&&(x[C++]=!0,m=0,v=0);else{if(!w[C]||m){var _=!!m;if(m=S.length-1,_||!m){if(!m){if(!w[C]){w=[];break}y.splice(I,2,S+y[I+1]),A--,x[C++]=!0,I--;continue}y[I]=S.substring(0,m);const t=y[I+1];y[I+1]=S.substring(m)+(void 0===t||t===ux?"":t)}else{if(v)y.splice(I,2,y[I]+y[I+1]),v=0;else{var T=S.search(g);T>-1&&T!==S.length-1&&0!==T&&(v=T+1,m=0),y.splice(I,1,S.substring(0,v||m),S.substring(v||m)),A++}C&&!x[C-1]&&C--}d&&""===w[C]||I--;continue}C++,I--}}var P=null;if(w.length>f)P=f-1;else if(void 0!==o){if(void 0===b&&""!==c.data)if("auto"===i.lineHeight)b=px({value:1.5,unit:"em"},l);else{b=px(dx(i.lineHeight,["em","px",""]),l)}b*w.length>o&&(P=Math.floor(o/b)-1)}if(null!==P){w.splice(P+1);var M=n.ellipsis;if(!M||P<0)break;"string"!=typeof M&&(M="…");var N=w[P];if(!N&&!k)break;var L,O,E=N.length;do{if(O=N[E],L=N.substring(0,E),O?O.match(u)&&(L+=O):L+=h,L+=M,c.data=L,s.getComputedTextLength()<=r){w[P]=L;break}E--}while(E>=0);break}}}return n.svgDocument?a.removeChild(l):document.body.removeChild(a),w.join(p)},fx=function(t){if(Object(t)!==t){var e=0;return isFinite(t)&&(e=+t),{top:e,right:e,bottom:e,left:e}}var i,n,r,o;return i=n=r=o=0,isFinite(t.vertical)&&(i=r=+t.vertical),isFinite(t.horizontal)&&(n=o=+t.horizontal),isFinite(t.top)&&(i=+t.top),isFinite(t.right)&&(n=+t.right),isFinite(t.bottom)&&(r=+t.bottom),isFinite(t.left)&&(o=+t.left),{top:i,right:n,bottom:r,left:o}},mx={linear:function(t){return t},quad:function(t){return t*t},cubic:function(t){return t*t*t},inout:function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,i=e*t;return 4*(t<.5?i:3*(t-e)+i-.75)},exponential:function(t){return Math.pow(2,10*(t-1))},bounce:function(t){for(var e=0,i=1;;e+=i,i/=2)if(t>=(7-4*e)/11){var n=(11-6*e-11*t)/4;return-n*n+i*i}},reverse:function(t){return function(e){return 1-t(1-e)}},reflect:function(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}},clamp:function(t,e,i){return e=e||0,i=i||1,function(n){var r=t(n);return r<e?e:r>i?i:r}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},elastic:function(t){return t||(t=1.5),function(e){return Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}}},vx={number:function(t,e){var i=e-t;return function(e){return t+i*e}},object:function(t,e){var i=Object.keys(t);return function(n){var r,o,a={};for(r=i.length-1;-1!=r;r--)a[o=i[r]]=t[o]+(e[o]-t[o])*n;return a}},hexColor:function(t,e){var i=parseInt(t.slice(1),16),n=parseInt(e.slice(1),16),r=255&i,o=(255&n)-r,a=65280&i,s=(65280&n)-a,l=16711680&i,c=(16711680&n)-l;return function(t){return"#"+(1<<24|r+o*t&255|a+s*t&65280|l+c*t&16711680).toString(16).slice(1)}},unit:function(t,e){var i=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,n=i.exec(t),r=i.exec(e),o=r[1].indexOf("."),a=o>0?r[1].length-o-1:0;t=+n[1];var s=+r[1]-t,l=n[2];return function(e){return(t+s*e).toFixed(a)+l}}},bx={outline:function(t){var e=Number.isFinite(t.margin)?t.margin:2,i=Number.isFinite(t.width)?t.width:1;return yx('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>')({color:t.color||"blue",opacity:Number.isFinite(t.opacity)?t.opacity:1,outerRadius:e+i,innerRadius:e})},highlight:function(t){return yx('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>')({color:t.color||"red",width:Number.isFinite(t.width)?t.width:1,blur:Number.isFinite(t.blur)?t.blur:0,opacity:Number.isFinite(t.opacity)?t.opacity:1})},blur:function(t){var e=Number.isFinite(t.x)?t.x:2;return yx('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(t.y)?[e,t.y]:e})},dropShadow:function(t){var e="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return yx(e)({dx:t.dx||0,dy:t.dy||0,opacity:Number.isFinite(t.opacity)?t.opacity:1,color:t.color||"black",blur:Number.isFinite(t.blur)?t.blur:4})},grayscale:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return yx('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})},sepia:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return yx('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})},saturate:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return yx('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-e})},hueRotate:function(t){return yx('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:t.angle||0})},invert:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return yx('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:1-e})},brightness:function(t){return yx('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(t.amount)?t.amount:1})},contrast:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return yx('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:.5-e/2})}},yx=function(t){var e=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(i){return i=i||{},t.replace(e,(function(t){for(var e=Array.from(arguments).slice(1,4).find((function(t){return!!t})).split("."),n=i[e.shift()];void 0!==n&&e.length;)n=n[e.shift()];return void 0!==n?n:""}))}};function xx(t){t=Py(t);const e=zy(t).reduce((function(t,e){return t[e.id]=e.clone(),t}),{});return zy(t).forEach((function(t){const i=e[t.id];if(i.isLink()){const t=i.source(),n=i.target();t.id&&e[t.id]&&i.prop("source/id",e[t.id].id),n.id&&e[n.id]&&i.prop("target/id",e[n.id].id)}const n=t.get("parent");n&&e[n]&&i.set("parent",e[n].id);const r=zy(t.get("embeds")).reduce((function(t,i){return e[i]&&t.push(e[i].id),t}),[]);Ly(r)||i.set("embeds",r)})),e}const wx=["checked","selected","disabled","readOnly","contentEditable","value","indeterminate"].reduce(((t,e)=>(t[e]=!0,t)),{});var Ix={qualify:function(t){return Dy(t)},set:function(t,e,i){Object.keys(t).forEach((function(e){if(wx[e]&&e in i){const n=t[e];"SELECT"===i.tagName&&Array.isArray(n)?Array.from(i.options).forEach((function(t,e){t.selected=n.includes(t.value)})):i[e]=n}}))}};function Cx(t,e){return function(i,n){var r=cx(i);i=parseFloat(i),r&&(i/=100);var o={};if(isFinite(i)){var a=r||i>=0&&i<=1?i*n[e]:Math.max(i+n[e],0);o[t]=a}return o}}function Ax(t,e,i){return function(n,r){var o,a=cx(n);if(n=parseFloat(n),a&&(n/=100),isFinite(n)){var s=r[i]();o=a||n>0&&n<1?s[t]+r[e]*n:s[t]+n}var l=ch();return l[t]=o||0,l}}function Sx(t,e,i){return function(n,r){var o;o="middle"===n?r[e]/2:n===i?r[e]:isFinite(n)?n>-1&&n<1?-r[e]*n:-n:cx(n)?r[e]*parseFloat(n)/100:0;var a=ch();return a[t]=-(r[t]+o),a}}function kx(t,e){var i="joint-shape",n=e&&e.resetOffset;return function(e,r,o){var a=Dm(o),s=a.data(i);if(!s||s.value!==e){var l=t(e);s={value:e,shape:l,shapeBBox:l.bbox()},a.data(i,s)}var c=s.shape.clone(),d=s.shapeBBox.clone(),u=d.origin(),h=r.origin();d.x=h.x,d.y=h.y;var p=r.maxRectScaleToFit(d,h),g=0===d.width||0===r.width?1:p.sx,f=0===d.height||0===r.height?1:p.sy;return c.scale(g,f,u),n&&c.translate(-u.x,-u.y),c}}function _x(t){var e=kx((function(t){return new Bh(Gm.normalizePathData(t))}),t);return function(t,i,n){return{d:e(t,i,n).serialize()}}}function Tx(t){var e=kx(Lh,t);return function(t,i,n){return{points:e(t,i,n).serialize()}}}function Px(t,e){var i=new ch(1,0);return function(n){var r,o,a=this[t](n);return a?(o=e.rotate?a.vector().vectorAngle(i):0,r=a.start):(r=this.path.start,o=0),0===o?{transform:"translate("+r.x+","+r.y+")"}:{transform:"translate("+r.x+","+r.y+") rotate("+o+")"}}}function Mx(t){return function(e,i,n){const r=Gm(n);r.attr(t)!==e&&r.attr(t,e)}}function Nx(t,e,i){return void 0!==i.text}function Lx(){return this.model.isLink()}function Ox(t){var e={},i=t.stroke;"string"==typeof i&&(e.stroke=i,e.fill=i);var n=t.strokeOpacity;return void 0===n&&(n=t["stroke-opacity"]),void 0===n&&(n=t.opacity),void 0!==n&&(e["stroke-opacity"]=n,e["fill-opacity"]=n),e}function Ex(t){const{paper:e}=this;return`url(#${"pattern"===t.type?e.definePattern(t):e.defineGradient(t)})`}const Dx={xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},href:{set:Mx("href")},xlinkHref:{set:Mx("xlink:href")},filter:{qualify:Dy,set:function(t){return"url(#"+this.paper.defineFilter(t)+")"}},fill:{qualify:Dy,set:Ex},stroke:{qualify:Dy,set:Ex},sourceMarker:{qualify:Dy,set:function(t,e,i,n){return t=Cy(Ox(n),t),{"marker-start":"url(#"+this.paper.defineMarker(t)+")"}}},targetMarker:{qualify:Dy,set:function(t,e,i,n){return t=Cy(Ox(n),{transform:"rotate(180)"},t),{"marker-end":"url(#"+this.paper.defineMarker(t)+")"}}},vertexMarker:{qualify:Dy,set:function(t,e,i,n){return t=Cy(Ox(n),t),{"marker-mid":"url(#"+this.paper.defineMarker(t)+")"}}},text:{qualify:function(t,e,i){return!i.textWrap||!Dy(i.textWrap)},set:function(t,e,i,n){const r=Dm(i),o="joint-text",a=r.data(o),{lineHeight:s,annotations:l,textVerticalAnchor:c,eol:d,displayEmpty:u}=n;let h=n.textPath,p=n.x;Eu(p)&&(p=ju(p,e));let g=n["font-size"]||n.fontSize;Eu(g)&&(g=ju(g,e));const f=JSON.stringify([t,s,l,c,d,u,h,p,g]);if(void 0===a||a!==f){if(g&&i.setAttribute("font-size",g),xy(h)){const t=h.selector;if("string"==typeof t){const[e]=this.findBySelector(t);e instanceof SVGPathElement&&(h=Cy({"xlink:href":"#"+e.id},h))}}Gm(i).text(""+t,{lineHeight:s,annotations:l,textPath:h,x:p,textVerticalAnchor:c,eol:d,displayEmpty:u}),r.data(o,f)}}},textWrap:{qualify:Dy,set:function(t,e,i,n){var r={},o=t.width||0;cx(o)?r.width=e.width*parseFloat(o)/100:Eu(o)?r.width=Number(ju(o,e)):null===t.width?r.width=1/0:r.width=o<=0?e.width+o:o;var a,s=t.height||0;cx(s)?r.height=e.height*parseFloat(s)/100:Eu(s)?r.height=Number(ju(s,e)):null===t.height||(r.height=s<=0?e.height+s:s);var l=t.text;if(void 0===l&&(l=n.text),void 0!==l){const i=t.breakText||gx,o=n["font-size"]||n.fontSize;a=i(""+l,r,{"font-weight":n["font-weight"]||n.fontWeight,"font-size":Eu(o)?ju(o,e):o,"font-family":n["font-family"]||n.fontFamily,lineHeight:n.lineHeight,"letter-spacing":"letter-spacing"in n?n["letter-spacing"]:n.letterSpacing},{svgDocument:this.paper.svg,ellipsis:t.ellipsis,hyphen:t.hyphen,separator:t.separator,maxLineCount:t.maxLineCount,preserveSpaces:t.preserveSpaces})}else a="";Dx.text.set.call(this,a,e,i,n)}},title:{qualify:function(t,e){return e instanceof SVGElement},set:function(t,e,i){var n=Dm(i),r="joint-title",o=n.data(r);if(void 0===o||o!==t){if(n.data(r,t),"title"===i.tagName)return void(i.textContent=t);var a=i.firstElementChild;if(a&&"title"===a.tagName)a.textContent=t;else{var s=document.createElementNS(i.namespaceURI,"title");s.textContent=t,i.insertBefore(s,a)}}}},lineHeight:{qualify:Nx},textVerticalAnchor:{qualify:Nx},textPath:{qualify:Nx},annotations:{qualify:Nx},eol:{qualify:Nx},displayEmpty:{qualify:Nx},port:{set:function(t){return null===t||void 0===t.id?t:t.id}},style:{qualify:Dy,set:function(t,e,i){Dm(i).css(t)}},html:{set:function(t,e,i){Dm(i).html(t+"")}},props:Ix,ref:{},refX:{position:Ax("x","width","origin")},refY:{position:Ax("y","height","origin")},refDx:{position:Ax("x","width","corner")},refDy:{position:Ax("y","height","corner")},refWidth:{set:Cx("width","width")},refHeight:{set:Cx("height","height")},refRx:{set:Cx("rx","width")},refRy:{set:Cx("ry","height")},refRInscribed:{set:(zx=Cx("r","width"),jx=Cx("r","height"),function(t,e){return(e.height>e.width?zx:jx)(t,e)})},refRCircumscribed:{set:function(t,e){var i=cx(t);t=parseFloat(t),i&&(t/=100);var n,r=Math.sqrt(e.height*e.height+e.width*e.width);return isFinite(t)&&(n=i||t>=0&&t<=1?t*r:Math.max(t+r,0)),{r:n}}},refCx:{set:Cx("cx","width")},refCy:{set:Cx("cy","height")},xAlignment:{offset:Sx("x","width","right")},yAlignment:{offset:Sx("y","height","bottom")},resetOffset:{offset:function(t,e){return t?{x:-e.x,y:-e.y}:{x:0,y:0}}},refDResetOffset:{set:_x({resetOffset:!0})},refDKeepOffset:{set:_x({resetOffset:!1})},refPointsResetOffset:{set:Tx({resetOffset:!0})},refPointsKeepOffset:{set:Tx({resetOffset:!1})},connection:{qualify:Lx,set:function({stubs:t=0}){let e;if(isFinite(t)&&0!==t){let i;i=t<0?(this.getConnectionLength()+t)/2:t;const n=this.getConnection(),r=this.getConnectionSubdivisions(),o=n.divideAtLength(i,{segmentSubdivisions:r}),a=n.divideAtLength(-i,{segmentSubdivisions:r});o&&a&&(e=`${o[0].serialize()} ${a[1].serialize()}`)}return{d:e||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:Lx,set:Px("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:Lx,set:Px("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:Lx,set:Px("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:Lx,set:Px("getTangentAtRatio",{rotate:!1})}};var zx,jx;Dx["xlink:href"]=Dx.xlinkHref,["transform","d","points","cx","cy","x1","x2","y1","y2","x","y","dx","dy"].forEach((t=>{Dx[t]={qualify:Eu,set:function(e,i){return{[t]:ju(e,i)}}}})),["width","height","r","rx","ry","font-size","stroke-width"].forEach((t=>{Dx[t]={qualify:Eu,set:function(e,i){return{[t]:Math.max(0,ju(e,i))}}}})),Dx.refR=Dx.refRInscribed,Dx.refD=Dx.refDResetOffset,Dx.refPoints=Dx.refPointsResetOffset,Dx.atConnectionLength=Dx.atConnectionLengthKeepGradient,Dx.atConnectionRatio=Dx.atConnectionRatioKeepGradient,Dx.fontSize=Dx["font-size"],Dx.strokeWidth=Dx["stroke-width"],Dx.refX2=Dx.refX,Dx.refY2=Dx.refY,Dx.refWidth2=Dx.refWidth,Dx.refHeight2=Dx.refHeight,Dx["ref-x"]=Dx.refX,Dx["ref-y"]=Dx.refY,Dx["ref-dy"]=Dx.refDy,Dx["ref-dx"]=Dx.refDx,Dx["ref-width"]=Dx.refWidth,Dx["ref-height"]=Dx.refHeight,Dx["x-alignment"]=Dx.xAlignment,Dx["y-alignment"]=Dx.yAlignment;const Rx=Dx,Gx=jm.Model.extend({constructor:function(t,e){var i,n=t||{};"function"==typeof this.preinitialize&&this.preinitialize.apply(this,arguments),this.cid=((t="")=>`${t}`+ ++Yy)("c"),this.attributes={},e&&e.collection&&(this.collection=e.collection),e&&e.parse&&(n=this.parse(n,e)||{}),(i=Fy(this,"defaults"))&&(n=Hy({},i,n)),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)},translate:function(t,e,i){throw new Error("Must define a translate() method.")},toJSON:function(){const t=Fy(this.constructor.prototype,"defaults").attrs||{},e=this.attributes.attrs,i={};Vy(e,(function(e,n){const r=t[n];Vy(e,(function(t,e){xy(t)&&!Array.isArray(t)?Vy(t,(function(t,o){r&&r[e]&&Oy(r[e][o],t)||(i[n]=i[n]||{},(i[n][e]||(i[n][e]={}))[o]=t)})):r&&Oy(r[e],t)||(i[n]=i[n]||{},i[n][e]=t)}))}));const n=Ny(Wy(this.attributes,"attrs"));return n.attrs=i,n},initialize:function(t){const e=this.getIdAttribute();t&&void 0!==t[e]||this.set(e,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},processPorts:function(){var t=this.ports,e={};Vy(this.get("attrs"),(function(t,i){t&&t.port&&(void 0!==t.port.id?e[t.port.id]=t.port:e[t.port]={id:t.port})}));var i={};(Vy(t,(function(t,n){e[n]||(i[n]=!0)})),this.graph&&!Ly(i))&&(this.graph.getConnectedLinks(this,{inbound:!0}).forEach((function(t){i[t.get("target").port]&&t.remove()})),this.graph.getConnectedLinks(this,{outbound:!0}).forEach((function(t){i[t.get("source").port]&&t.remove()})));this.ports=e},remove:function(t={}){const{graph:e,collection:i}=this;if(!e)return i&&i.remove(this,t),this;e.startBatch("remove");const n=this.getParentCell();n&&n.unembed(this,t);const r=this.getEmbeddedCells();for(let e=0,i=r.length;e<i;e++){const i=r[e];i&&i.remove(t)}return this.trigger("remove",this,e.attributes.cells,t),e.stopBatch("remove"),this},toFront:function(t){var e=this.graph;if(e){let i;(t=Ay(t||{},{foregroundEmbeds:!0})).deep?(i=this.getEmbeddedCells({deep:!0,breadthFirst:!1!==t.breadthFirst,sortSiblings:t.foregroundEmbeds}),i.unshift(this)):i=[this];const n=t.foregroundEmbeds?i:Ry(i,(t=>t.z()));let r=e.maxZIndex()-i.length+1;const o=e.get("cells");let a=o.indexOf(n[0])!==o.length-i.length;a||(a=n.some((function(t,e){return t.z()!==r+e}))),a&&(this.startBatch("to-front"),r+=i.length,n.forEach((function(e,i){e.set("z",r+i,t)})),this.stopBatch("to-front"))}return this},toBack:function(t){var e=this.graph;if(e){let i;(t=Ay(t||{},{foregroundEmbeds:!0})).deep?(i=this.getEmbeddedCells({deep:!0,breadthFirst:!1!==t.breadthFirst,sortSiblings:t.foregroundEmbeds}),i.unshift(this)):i=[this];const n=t.foregroundEmbeds?i:Ry(i,(t=>t.z()));let r=e.minZIndex();let o=0!==e.get("cells").indexOf(n[0]);o||(o=n.some((function(t,e){return t.z()!==r+e}))),o&&(this.startBatch("to-back"),r-=i.length,n.forEach((function(e,i){e.set("z",r+i,t)})),this.stopBatch("to-back"))}return this},parent:function(t,e){return void 0===t?this.get("parent"):this.set("parent",t,e)},embed:function(t,e){const i=Array.isArray(t)?t:[t];if(!this.canEmbed(i))throw new Error("Recursive embedding not allowed.");if(i.some((t=>t.isEmbedded()&&this.id!==t.parent())))throw new Error("Embedding of already embedded cells is not allowed.");return this._embedCells(i,e),this},unembed:function(t,e){const i=Array.isArray(t)?t:[t];return this._unembedCells(i,e),this},canEmbed:function(t){return(Array.isArray(t)?t:[t]).every((t=>this!==t&&!this.isEmbeddedIn(t)))},_embedCells:function(t,e){const i="embed";this.startBatch(i);const n=Cy([],this.get("embeds"));t.forEach((t=>{n[t.isLink()?"unshift":"push"](t.id),t.parent(this.id,e)})),this.set("embeds",Py(n),e),this.stopBatch(i)},_unembedCells:function(t,e){const i="unembed";this.startBatch(i),t.forEach((t=>t.unset("parent",e))),this.set("embeds",By(this.get("embeds"),...t.map((t=>t.id))),e),this.stopBatch(i)},getParentCell:function(){var t=this.parent(),e=this.graph;return t&&e&&e.getCell(t)||null},getAncestors:function(){var t=[];if(!this.graph)return t;for(var e=this.getParentCell();e;)t.push(e),e=e.getParentCell();return t},getEmbeddedCells:function(t){if(t=t||{},!this.graph)return[];if(t.deep)return t.breadthFirst?this._getEmbeddedCellsBfs(t.sortSiblings):this._getEmbeddedCellsDfs(t.sortSiblings);const e=this.get("embeds");if(Ly(e))return[];let i=e.map(this.graph.getCell,this.graph);return t.sortSiblings&&(i=Ry(i,(t=>t.z()))),i},_getEmbeddedCellsBfs:function(t){const e=[],i=[];for(i.push(this);i.length>0;){const n=i.shift();e.push(n);const r=n.getEmbeddedCells({sortSiblings:t});i.push(...r)}return e.shift(),e},_getEmbeddedCellsDfs:function(t){const e=[],i=[];for(i.push(this);i.length>0;){const n=i.pop();e.push(n);const r=n.getEmbeddedCells({sortSiblings:t});for(let t=r.length-1;t>=0;--t)i.push(r[t])}return e.shift(),e},isEmbeddedIn:function(t,e){var i=Iy(t)?t:t.id,n=this.parent();if(e=Cy({deep:!0},e),this.graph&&e.deep){for(;n;){if(n===i)return!0;n=this.graph.getCell(n).parent()}return!1}return n===i},isEmbedded:function(){return!!this.parent()},clone:function(t){if((t=t||{}).deep)return zy(xx([this].concat(this.getEmbeddedCells({deep:!0}))));var e=jm.Model.prototype.clone.apply(this,arguments);return e.set(this.getIdAttribute(),this.generateId()),e.unset("embeds"),e.unset("parent"),e},prop:function(t,e,i){var n=Iy(t);if(n||Array.isArray(t)){if(arguments.length>1){var r,o;n?o=(r=t).split("/"):(r=t.join("/"),o=t.slice());var a=o[0],s=o.length;const m=i||{};m.propertyPath=r,m.propertyValue=e,m.propertyPathArray=o,"rewrite"in m||(m.rewrite=!1);for(var l={},c=l,d=a,u=1;u<s;u++){var h=o[u],p=Number.isFinite(n?Number(h):h);c=c[d]=p?[]:{},d=h}l=ex(l,o,e,"/");var g=Hy({},this.attributes);m.rewrite&&ix(g,r,"/");var f=Hy(g,l);return this.set(a,f[a],m)}return qy(this.attributes,t,"/")}const m=e||{};m.propertyPath=null,m.propertyValue=t,m.propertyPathArray=[],"rewrite"in m||(m.rewrite=!1);const v={};for(const e in t){const{changedValue:i}=Hy({},{changedValue:this.attributes[e]},{changedValue:t[e]});v[e]=i}return this.set(v,m)},removeProp:function(t,e){e=e||{};var i=Array.isArray(t)?t:t.split("/"),n=i[0];if("attrs"===n&&(e.dirty=!0),1===i.length)return this.unset(t,e);var r=i.slice(1),o=this.get(n);return null==o?this:(o=Ny(o),ix(o,r,"/"),this.set(n,o,e))},attr:function(t,e,i){var n=Array.from(arguments);return 0===n.length?this.get("attrs"):(Array.isArray(t)?n[0]=["attrs"].concat(t):Iy(t)?n[0]="attrs/"+t:n[0]={attrs:t},this.prop.apply(this,n))},removeAttr:function(t,e){return Array.isArray(t)?this.removeProp(["attrs"].concat(t)):this.removeProp("attrs/"+t,e)},transition:function(t,e,i,n){n=n||"/",i=Cy({duration:100,delay:10,timingFunction:mx.linear,valueFunction:vx.number},i);var r,o=0,a=function(e){var n,s,l;(s=(e-=o=o||e)/i.duration)<1?this._transitionIds[t]=n=ox(a):(s=1,delete this._transitionIds[t]),l=r(i.timingFunction(s)),i.transitionId=n,this.prop(t,l,i),n||this.trigger("transition:end",this,t)}.bind(this);const{_scheduledTransitionIds:s}=this;let l;return l=setTimeout((o=>{s[t]&&(s[t]=By(s[t],l),0===s[t].length&&delete s[t]),this.stopPendingTransitions(t,n),r=i.valueFunction(qy(this.attributes,t,n),e),this._transitionIds[t]=ox(o),this.trigger("transition:start",this,t)}),i.delay,a),s[t]||(s[t]=[]),s[t].push(l),l},getTransitions:function(){return Zy(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(t,e="/"){const{_scheduledTransitionIds:i={}}=this;let n=Object.keys(i);if(t){const i=t.split(e);n=n.filter((t=>Oy(i,t.split(e).slice(0,i.length))))}return n.forEach((t=>{i[t].forEach((t=>clearTimeout(t))),delete i[t]})),this},stopPendingTransitions(t,e="/"){const{_transitionIds:i={}}=this;let n=Object.keys(i);if(t){const i=t.split(e);n=n.filter((t=>Oy(i,t.split(e).slice(0,i.length))))}n.forEach((t=>{const e=i[t];ax(e),delete i[t],this.trigger("transition:end",this,t)}))},stopTransitions:function(t,e="/"){return this.stopScheduledTransitions(t,e),this.stopPendingTransitions(t,e),this},addTo:function(t,e){return t.addCell(this,e),this},findView:function(t){return t.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(t,e){return this.graph&&this.graph.startBatch(t,Cy({},e,{cell:this})),this},stopBatch:function(t,e){return this.graph&&this.graph.stopBatch(t,Cy({},e,{cell:this})),this},getChangeFlag:function(t){var e=0;if(!t)return e;for(var i in t)t.hasOwnProperty(i)&&this.hasChanged(i)&&(e|=t[i]);return e},angle:function(){return 0},position:function(){return new ch(0,0)},z:function(){return this.get("z")||0},getPointFromConnectedLink:function(){return new ch},getBBox:function(){return new _h(0,0,0,0)},getPointRotatedAroundCenter(t,e,i){const n=new ch(e,i);return t&&n.rotate(this.getBBox().center(),t),n},getAbsolutePointFromRelative(t,e){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(t,e))},getRelativePointFromAbsolute(t,e){return this.getPointRotatedAroundCenter(this.angle(),t,e).difference(this.position())}},{getAttributeDefinition:function(t){var e=this.attributes,i=Rx;return e&&e[t]||i[t]},define:function(t,e,i,n){i=Cy({defaults:Sy({type:t},e,this.prototype.defaults)},i);var r=this.extend(i,n);return"undefined"!=typeof joint&&$y(joint,"shapes")&&ex(joint.shapes,t,r,"."),r}}),Bx={cells:function(t){return function(){var e=Array.from(arguments),i=e.length,n=i>0&&e[0]||[],r=i>1&&e[i-1]||{};return Array.isArray(n)||(r instanceof Gx?n=e:n instanceof Gx&&(e.length>1&&e.pop(),n=e)),r instanceof Gx&&(r={}),t.call(this,n,r)}}},Ux={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",CENTER:"center"};function Zx(t,e){const i=new _h(t);switch(e){case void 0:throw new Error("Position required");case Ux.LEFT:case"leftMiddle":return i.leftMiddle();case Ux.RIGHT:case"rightMiddle":return i.rightMiddle();case Ux.TOP:case"topMiddle":return i.topMiddle();case Ux.BOTTOM:case"bottomMiddle":return i.bottomMiddle();case Ux.TOP_LEFT:case"topLeft":case"origin":return i.topLeft();case Ux.TOP_RIGHT:case"topRight":return i.topRight();case Ux.BOTTOM_LEFT:case"bottomLeft":return i.bottomLeft();case Ux.BOTTOM_RIGHT:case"bottomRight":case"corner":return i.bottomRight();case Ux.CENTER:return i.center();default:throw new Error(`Unknown position: ${e}`)}}function $x(t,e,i){var n=t.toJSON();return n.angle=e||0,Ay({},i,n)}function Fx(t,e,i,n){return t.map((function(t,e,i){var r=this.pointAt((e+.5)/i.length);return(t.dx||t.dy)&&r.offset(t.dx||0,t.dy||0),$x(r.round(),0,Vx(n,t))}),gh(e,i))}function Wx(t,e,i,n){var r=e.center(),o=e.width/e.height,a=e.topMiddle(),s=bh.fromRect(e);return t.map((function(t,l,c){var d=i+n(l,c.length),u=a.clone().rotate(r,-d).scale(o,1,r),h=t.compensateRotation?-s.tangentTheta(u):0;return(t.dx||t.dy)&&u.offset(t.dx||0,t.dy||0),t.dr&&u.move(r,t.dr),$x(u.round(),h,Vx(e,t))}))}function Vx(t,e){let{x:i,y:n,angle:r}=e;return cx(i)?i=parseFloat(i)/100*t.width:Eu(i)&&(i=Number(ju(i,t))),cx(n)?n=parseFloat(n)/100*t.height:Eu(n)&&(n=Number(ju(n,t))),{x:i,y:n,angle:r}}function Yx(t,e){const{x:i,y:n}=Vx(t,e);return new ch(i||0,n||0)}var Hx=Object.freeze({__proto__:null,absolute:function(t,e){return t.map((t=>{const i=Yx(e,t).round().toJSON();return i.angle=t.angle||0,i}))},fn:function(t,e,i){return i.fn(t,e,i)},line:function(t,e,i){return Fx(t,Yx(e,i.start||e.origin()),Yx(e,i.end||e.corner()),e)},left:function(t,e,i){return Fx(t,e.origin(),e.bottomLeft(),e)},right:function(t,e,i){return Fx(t,e.topRight(),e.corner(),e)},top:function(t,e,i){return Fx(t,e.origin(),e.topRight(),e)},bottom:function(t,e,i){return Fx(t,e.bottomLeft(),e.corner(),e)},ellipseSpread:function(t,e,i){var n=i.startAngle||0,r=i.step||360/t.length;return Wx(t,e,n,(function(t){return t*r}))},ellipse:function(t,e,i){var n=i.startAngle||0,r=i.step||20;return Wx(t,e,n,(function(t,e){return(t+.5-e/2)*r}))}});function Xx(t,e){return Sy({},t,e,{x:0,y:0,angle:0,attrs:{}})}function Jx(t){var e=t.center(),i=e.theta(t.origin()),n=e.theta(t.bottomLeft()),r=e.theta(t.corner());return[i,e.theta(t.topRight()),r,n]}function Qx(t,e,i,n){n=Ay({},n,{offset:15});var r,o,a,s,l=e.center().theta(t),c=n.offset,d=0;const[u,h,p,g]=Jx(e);l<h||l>p?(a=".3em",r=c,o=0,s="start"):l<u?(r=0,o=-c,i?(d=-90,s="start",a=".3em"):(s="middle",a="0")):l<g?(a=".3em",r=-c,o=0,s="end"):(r=0,o=c,i?(d=90,s="start",a=".3em"):(s="middle",a=".6em"));var f=Math.round;return Xx(n,{x:f(r),y:f(o),angle:d,attrs:{labelText:{y:a,textAnchor:s}}})}function Kx(t,e,i,n){n=Ay({},n,{offset:15});var r,o,a,s,l=e.center().theta(t),c=n.offset,d=0;const[u,h,p,g]=Jx(e);l<h||l>p?(a=".3em",r=-c,o=0,s="end"):l<u?(r=0,o=c,i?(d=90,s="start",a=".3em"):(s="middle",a=".6em")):l<g?(a=".3em",r=c,o=0,s="start"):(r=0,o=-c,i?(d=-90,s="start",a=".3em"):(s="middle",a="0"));var f=Math.round;return Xx(n,{x:f(r),y:f(o),angle:d,attrs:{labelText:{y:a,textAnchor:s}}})}function qx(t,e,i){i=Ay({},i,{offset:20});var n,r=dh(0,0),o=-t.theta(r),a=o,s=t.clone().move(r,i.offset).difference(t).round(),l=".3em";(o+90)%180==0?(n=e?"end":"middle",e||-270!==o||(l="0em")):o>-270&&o<-90?(n="start",a=o-180):n="end";var c=Math.round;return Xx(i,{x:c(s.x),y:c(s.y),angle:e?a:0,attrs:{labelText:{y:l,textAnchor:n}}})}var tw=Object.freeze({__proto__:null,manual:function(t,e,i){return Xx(i)},left:function(t,e,i){return Xx(i,{x:-15,attrs:{labelText:{y:".3em",textAnchor:"end"}}})},right:function(t,e,i){return Xx(i,{x:15,attrs:{labelText:{y:".3em",textAnchor:"start"}}})},top:function(t,e,i){return Xx(i,{y:-15,attrs:{labelText:{y:"0",textAnchor:"middle"}}})},bottom:function(t,e,i){return Xx(i,{y:15,attrs:{labelText:{y:".6em",textAnchor:"middle"}}})},outsideOriented:function(t,e,i){return Qx(t,e,!0,i)},outside:function(t,e,i){return Qx(t,e,!1,i)},insideOriented:function(t,e,i){return Kx(t,e,!0,i)},inside:function(t,e,i){return Kx(t,e,!1,i)},radial:function(t,e,i){return qx(t.difference(e.center()),!1,i)},radialOriented:function(t,e,i){return qx(t.difference(e.center()),!0,i)}});const ew=Gx.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(t){return this.set({source:{x:0,y:0},target:{x:0,y:0}},t)},source:function(t,e,i){return void 0===t?My(this.get("source")):t instanceof Gx?((n=My(e)||{}).id=t.id,r=i,this.set("source",n,r)):Dy(t)?(n=t,r=e,this.set("source",n,r)):((n=My(e)||{}).x=t.x,n.y=t.y,r=i,this.set("source",n,r));var n,r},target:function(t,e,i){return void 0===t?My(this.get("target")):t instanceof Gx?((n=My(e)||{}).id=t.id,r=i,this.set("target",n,r)):Dy(t)?(n=t,r=e,this.set("target",n,r)):((n=My(e)||{}).x=t.x,n.y=t.y,r=i,this.set("target",n,r));var n,r},router:function(t,e,i){if(void 0===t){var n=this.get("router");return n?"object"==typeof n?My(n):n:this.get("manhattan")?{name:"orthogonal"}:null}var r="object"==typeof t||"function"==typeof t,o=r?t:{name:t,args:e},a=r?e:i;return this.set("router",o,a)},connector:function(t,e,i){if(void 0===t){var n=this.get("connector");return n?"object"==typeof n?My(n):n:this.get("smooth")?{name:"smooth"}:null}var r="object"==typeof t||"function"==typeof t,o=r?t:{name:t,args:e},a=r?e:i;return this.set("connector",o,a)},label:function(t,e,i){var n=this.labels();return(t=isFinite(t)&&null!==t?0|t:0)<0&&(t=n.length+t),arguments.length<=1?this.prop(["labels",t]):this.prop(["labels",t],e,i)},labels:function(t,e){return 0===arguments.length?(t=this.get("labels"),Array.isArray(t)?t.slice():[]):(Array.isArray(t)||(t=[]),this.set("labels",t,e))},hasLabels:function(){const{labels:t}=this.attributes;return Array.isArray(t)&&t.length>0},insertLabel:function(t,e,i){if(!e)throw new Error("dia.Link: no label provided");var n=this.labels(),r=n.length;return(t=isFinite(t)&&null!==t?0|t:r)<0&&(t=r+t+1),n.splice(t,0,e),this.labels(n,i)},appendLabel:function(t,e){return this.insertLabel(-1,t,e)},removeLabel:function(t,e){var i=this.labels();return t=isFinite(t)&&null!==t?0|t:-1,i.splice(t,1),this.labels(i,e)},vertex:function(t,e,i){var n=this.vertices();if((t=isFinite(t)&&null!==t?0|t:0)<0&&(t=n.length+t),arguments.length<=1)return this.prop(["vertices",t]);var r=this._normalizeVertex(e);return this.prop(["vertices",t],r,i)},vertices:function(t,e){if(0===arguments.length)return t=this.get("vertices"),Array.isArray(t)?t.slice():[];Array.isArray(t)||(t=[]);for(var i=[],n=0;n<t.length;n++){var r=t[n],o=this._normalizeVertex(r);i.push(o)}return this.set("vertices",i,e)},insertVertex:function(t,e,i){if(!e)throw new Error("dia.Link: no vertex provided");var n=this.vertices(),r=n.length;(t=isFinite(t)&&null!==t?0|t:r)<0&&(t=r+t+1);var o=this._normalizeVertex(e);return n.splice(t,0,o),this.vertices(n,i)},removeVertex:function(t,e){var i=this.vertices();return t=isFinite(t)&&null!==t?0|t:-1,i.splice(t,1),this.vertices(i,e)},_normalizeVertex:function(t){return!Dy(t)?{x:t.x,y:t.y}:t},translate:function(t,e,i){return(i=i||{}).translateBy=i.translateBy||this.id,i.tx=t,i.ty=e,this.applyToPoints((function(i){return{x:(i.x||0)+t,y:(i.y||0)+e}}),i)},scale:function(t,e,i,n){return this.applyToPoints((function(n){return ch(n).scale(t,e,i).toJSON()}),n)},applyToPoints:function(t,e){if(!Ey(t))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var i={},{source:n,target:r}=this.attributes;n.id||(i.source=t(n)),r.id||(i.target=t(r));var o=this.vertices();return o.length>0&&(i.vertices=o.map(t)),this.set(i,e)},getSourcePoint:function(){var t=this.getSourceCell();return t?t.getPointFromConnectedLink(this,"source"):new ch(this.source())},getTargetPoint:function(){var t=this.getTargetCell();return t?t.getPointFromConnectedLink(this,"target"):new ch(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){const t=[this.getSourcePoint(),...this.vertices().map(ch),this.getTargetPoint()];return new Lh(t)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(t){var e;if(this.graph){var i=this.getSourceElement(),n=this.getTargetElement(),r=this.getParentCell();i&&n&&(e=i===n||i.isEmbeddedIn(n)?n:n.isEmbeddedIn(i)?i:this.graph.getCommonAncestor(i,n)),!r||e&&e.id===r.id||r.unembed(this,t),e&&e.embed(this,t)}return e},hasLoop:function(t){t=t||{};var{source:e,target:i}=this.attributes,n=e.id,r=i.id;if(!n||!r)return!1;var o=n===r;if(!o&&t.deep&&this.graph){var a=this.getSourceCell(),s=this.getTargetCell();o=a.isEmbeddedIn(s)||s.isEmbeddedIn(a)}return o},getSourceCell:function(){const{graph:t,attributes:e}=this;var i=e.source;return i&&i.id&&t&&t.getCell(i.id)||null},getSourceElement:function(){var t=this,e={};do{if(e[t.id])return null;e[t.id]=!0,t=t.getSourceCell()}while(t&&t.isLink());return t},getTargetCell:function(){const{graph:t,attributes:e}=this;var i=e.target;return i&&i.id&&t&&t.getCell(i.id)||null},getTargetElement:function(){var t=this,e={};do{if(e[t.id])return null;e[t.id]=!0,t=t.getTargetCell()}while(t&&t.isLink());return t},getRelationshipAncestor:function(){var t;if(this.graph){var e=[this,this.getSourceElement(),this.getTargetElement()].filter((function(t){return!!t}));t=this.graph.getCommonAncestor.apply(this.graph,e)}return t||null},isRelationshipEmbeddedIn:function(t){var e=Iy(t)||wy(t)?t:t.id,i=this.getRelationshipAncestor();return!!i&&(i.id===e||i.isEmbeddedIn(e))},_getDefaultLabel:function(){var t=this.get("defaultLabel")||this.defaultLabel||{},e={};return e.markup=t.markup||this.get("labelMarkup")||this.labelMarkup,e.position=t.position,e.attrs=t.attrs,e.size=t.size,e}},{endsEqual:function(t,e){var i=t.port===e.port||!t.port&&!e.port;return t.id===e.id&&i}});var iw=function(t){var e=Ny(t)||{};this.ports=[],this.groups={},this.portLayoutNamespace=Hx,this.portLabelLayoutNamespace=tw,this._init(e)};iw.prototype={getPorts:function(){return this.ports},getGroup:function(t){return this.groups[t]||{}},getPortsByGroup:function(t){return this.ports.filter((function(e){return e.group===t}))},getGroupPortsMetrics:function(t,e){var i=this.getGroup(t),n=this.getPortsByGroup(t),r=i.position||{},o=r.name,a=this.portLayoutNamespace;a[o]||(o="left");var s=r.args||{},l=n.map((function(t){return t&&t.position&&t.position.args})),c=a[o](l,e,s),d={ports:n,result:[]};return zy(c).reduce(function(t,i,n){var r=t.ports[n];return t.result.push({portId:r.id,portTransformation:i,labelTransformation:this._getPortLabelLayout(r,ch(i),e),portAttrs:r.attrs,portSize:r.size,labelSize:r.label.size}),t}.bind(this),d),d.result},_getPortLabelLayout:function(t,e,i){var n=this.portLabelLayoutNamespace,r=t.label.position.name||"left";return n[r]?n[r](e,i,t.label.position.args):null},_init:function(t){if(xy(t.groups))for(var e=Object.keys(t.groups),i=0,n=e.length;i<n;i++){var r=e[i];this.groups[r]=this._evaluateGroup(t.groups[r])}for(var o=zy(t.items),a=0,s=o.length;a<s;a++)this.ports.push(this._evaluatePort(o[a]))},_evaluateGroup:function(t){return Hy(t,{position:this._getPosition(t.position,!0),label:this._getLabel(t,!0)})},_evaluatePort:function(t){var e=Cy({},t),i=this.getGroup(t.group);return e.markup=e.markup||i.markup,e.attrs=Hy({},i.attrs,e.attrs),e.position=this._createPositionNode(i,e),e.label=Hy({},i.label,this._getLabel(e)),e.z=this._getZIndex(i,e),e.size=Cy({},i.size,e.size),e},_getZIndex:function(t,e){return wy(e.z)?e.z:wy(t.z)||"auto"===t.z?t.z:"auto"},_createPositionNode:function(t,e){return Hy({name:"left",args:{}},t.position,{args:e.args})},_getPosition:function(t,e){var i,n={};Ey(t)?(i="fn",n.fn=t):Iy(t)?i=t:void 0===t?i=e?"left":null:Array.isArray(t)?(i="absolute",n.x=t[0],n.y=t[1]):xy(t)&&(i=t.name,Cy(n,t.args));var r={args:n};return i&&(r.name=i),r},_getLabel:function(t,e){var i=t.label||{},n=i;return n.position=this._getPosition(i.position,e),n}};const nw={_initializePorts:function(){this._createPortData(),this.on("change:ports",(function(){this._processRemovedPort(),this._createPortData()}),this)},_processRemovedPort:function(){var t=this.get("ports")||{},e={};zy(t.items).forEach((function(t){e[t.id]=!0}));var i=this.previous("ports")||{},n={};zy(i.items).forEach((function(t){e[t.id]||(n[t.id]=!0)}));var r=this.graph;r&&!Ly(n)&&(r.getConnectedLinks(this,{inbound:!0}).forEach((function(t){n[t.get("target").port]&&t.remove()})),r.getConnectedLinks(this,{outbound:!0}).forEach((function(t){n[t.get("source").port]&&t.remove()})))},hasPorts:function(){var t=this.prop("ports/items");return Array.isArray(t)&&t.length>0},hasPort:function(t){return-1!==this.getPortIndex(t)},getPorts:function(){return Ny(this.prop("ports/items"))||[]},getGroupPorts:function(t){const e=zy(this.prop(["ports","items"])).filter((e=>e.group===t));return Ny(e)},getPort:function(t){return Ny(zy(this.prop("ports/items")).find((function(e){return e.id&&e.id===t})))},getPortsPositions:function(t){return this._portSettingsData.getGroupPortsMetrics(t,_h(this.size())).reduce((function(t,e){var i=e.portTransformation;return t[e.portId]={x:i.x,y:i.y,angle:i.angle},t}),{})},getPortIndex:function(t){var e=xy(t)?t.id:t;return this._isValidPortId(e)?zy(this.prop("ports/items")).findIndex((function(t){return t.id===e})):-1},addPort:function(t,e){if(!xy(t)||Array.isArray(t))throw new Error("Element: addPort requires an object.");var i=Cy([],this.prop("ports/items"));return i.push(t),this.prop("ports/items",i,e),this},insertPort:function(t,e,i){const n="number"==typeof t?t:this.getPortIndex(t);if(!xy(e)||Array.isArray(e))throw new Error("dia.Element: insertPort requires an object.");const r=Cy([],this.prop("ports/items"));return r.splice(n,0,e),this.prop("ports/items",r,i),this},portProp:function(t,e,i,n){var r=this.getPortIndex(t);if(-1===r)throw new Error("Element: unable to find port with id "+t);var o=Array.prototype.slice.call(arguments,1);return Array.isArray(e)?o[0]=["ports","items",r].concat(e):Iy(e)?o[0]=["ports/items/",r,"/",e].join(""):(o=["ports/items/"+r],Dy(e)&&(o.push(e),o.push(i))),this.prop.apply(this,o)},_validatePorts:function(){var t=this.get("ports")||{},e=[],i=zy((t=t||{}).items);return i.forEach((function(t){"object"!=typeof t&&e.push("Element: invalid port ",t),this._isValidPortId(t.id)||(t.id=this.generatePortId())}),this),Py(i,"id").length!==i.length&&e.push("Element: found id duplicities in ports."),e},generatePortId:function(){return this.generateId()},_isValidPortId:function(t){return null!=t&&!xy(t)},addPorts:function(t,e){return t.length&&this.prop("ports/items",Cy([],this.prop("ports/items")).concat(t),e),this},removePort:function(t,e){const i=e||{},n=this.getPortIndex(t);if(-1!==n){const t=Cy([],this.prop(["ports","items"]));t.splice(n,1),i.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],t,i),this.stopBatch("port-remove")}return this},removePorts:function(t,e){let i,n;if(Array.isArray(t)){if(i=e||{},0===t.length)return this.this;n=Cy([],this.prop(["ports","items"])).filter((function(e){return!t.some((function(t){const i=xy(t)?t.id:t;return e.id===i}))}))}else i=t||{},n=[];return this.startBatch("port-remove"),i.rewrite=!0,this.prop(["ports","items"],n,i),this.stopBatch("port-remove"),this},_createPortData:function(){var t,e=this._validatePorts();if(e.length>0)throw this.set("ports",this.previous("ports")),new Error(e.join(" "));this._portSettingsData&&(t=this._portSettingsData.getPorts()),this._portSettingsData=new iw(this.get("ports"));var i=this._portSettingsData.getPorts();if(t){var n=i.filter((function(e){if(!t.find((function(t){return t.id===e.id})))return e})),r=t.filter((function(t){if(!i.find((function(e){return e.id===t.id})))return t}));r.length>0&&this.trigger("ports:remove",this,r),n.length>0&&this.trigger("ports:add",this,n)}}},rw={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var t=[],e=this._getContainerElement(),i=0,n=e.node.childNodes.length;i<n;i++)t.push(e.node.childNodes[i]);var r=jy(this.model._portSettingsData.getPorts(),"z"),o="auto";zy(r[o]).forEach((function(i){var n=this._getPortElement(i);e.append(n),t.push(n)}),this);for(var a=Object.keys(r),s=0;s<a.length;s++){var l=a[s];if(l!==o){var c=parseInt(l,10);this._appendPorts(r[l],c,t)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(t,e,i){var n=this._getContainerElement(),r=zy(t).map(this._getPortElement,this);i[e]||e<0?Gm(i[Math.max(e,0)]).before(r):n.append(r)},_getPortElement:function(t){return this._portElementsCache[t.id]?this._portElementsCache[t.id].portElement:this._createPortElement(t)},findPortNode:function(t,e){const i=this._portElementsCache[t];if(!i)return null;if(!e)return i.portContentElement.node;const n=i.portElement.node,r=i.portSelectors,[o=null]=this.findBySelector(e,n,r);return o},_updatePorts:function(){this._updatePortGroup(void 0),Object.keys(this.model._portSettingsData.groups).forEach(this._updatePortGroup,this)},_removePorts:function(){ky(this._portElementsCache,"portElement.remove")},_createPortElement:function(t){let e,i,n,r;var o=Gm(this.portContainerMarkup).addClass("joint-port"),a=this._getPortMarkup(t);if(Array.isArray(a)){var s=this.parseDOMJSON(a,o.node),l=s.fragment;e=l.childNodes.length>1?Gm("g").append(l):Gm(l.firstChild),r=s.selectors}else e=Gm(a),Array.isArray(e)&&(e=Gm("g").append(e));if(!e)throw new Error("ElementView: Invalid port markup.");e.attr({port:t.id,"port-group":t.group});const c=this._getPortLabelMarkup(t.label);if(Array.isArray(c)){const{fragment:t,selectors:e}=this.parseDOMJSON(c,o.node),r=t.childNodes.length;r>0&&(n=e,i=1===r?Gm(t.firstChild):Gm("g").append(t))}else i=Gm(c),Array.isArray(i)&&(i=Gm("g").append(i));var d;if(r&&n){for(var u in n)if(r[u]&&u!==this.selector)throw new Error("ElementView: selectors within port must be unique.");d=Cy({},r,n)}else d=r||n||{};const h="portRoot",p="labelRoot",g="labelText";if(h in d||(d[h]=e.node),i){const t=i.node;if(p in d||(d[p]=t),!(g in d)){const e="TEXT"===i.tagName()?t:Array.from(t.querySelectorAll("text"));d[g]=e,n||(n={}),n[g]=e}}return o.append(e.addClass("joint-port-body")),i&&o.append(i.addClass("joint-port-label")),this._portElementsCache[t.id]={portElement:o,portLabelElement:i,portSelectors:d,portLabelSelectors:n,portContentElement:e,portContentSelectors:r},o},_updatePortGroup:function(t){for(var e=_h(this.model.size()),i=this.model._portSettingsData.getGroupPortsMetrics(t,e),n=0,r=i.length;n<r;n++){var o=i[n],a=o.portId,s=this._portElementsCache[a]||{},l=o.portTransformation,c=o.labelTransformation;c&&s.portLabelElement&&(this.updateDOMSubtreeAttributes(s.portLabelElement.node,c.attrs,{rootBBox:new _h(o.labelSize),selectors:s.portLabelSelectors}),this.applyPortTransform(s.portLabelElement,c,-l.angle||0)),this.updateDOMSubtreeAttributes(s.portElement.node,o.portAttrs,{rootBBox:new _h(o.portSize),selectors:s.portSelectors}),this.applyPortTransform(s.portElement,l)}},applyPortTransform:function(t,e,i){var n=Gm.createSVGMatrix().rotate(i||0).translate(e.x||0,e.y||0).rotate(e.angle||0);t.transform(n,{absolute:!0})},_getPortMarkup:function(t){return t.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(t){return t.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},ow=Gx.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),Gx.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(t,e,i){const n=wy(e);i=(n?i:t)||{};const{parentRelative:r,deep:o,restrictedArea:a}=i;let s;if(r){if(!this.graph)throw new Error("Element must be part of a graph.");const t=this.getParentCell();t&&!t.isLink()&&(s=t.get("position"))}if(n){if(s&&(t+=s.x,e+=s.y),o||a){const{x:n,y:r}=this.get("position");this.translate(t-n,e-r,i)}else this.set("position",{x:t,y:e},i);return this}{const t=ch(this.get("position"));return r?t.difference(s):t}},translate:function(t,e,i){if(e=e||0,0===(t=t||0)&&0===e)return this;(i=i||{}).translateBy=i.translateBy||this.id;var n=this.get("position")||{x:0,y:0},r=i.restrictedArea;if(r&&i.translateBy===this.id)if("function"==typeof r){var o=r.call(this,n.x+t,n.y+e,i);t=o.x-n.x,e=o.y-n.y}else{var a=this.getBBox({deep:!0}),s=n.x-a.x,l=n.y-a.y,c=Math.max(r.x+s,Math.min(r.x+r.width+s-a.width,n.x+t)),d=Math.max(r.y+l,Math.min(r.y+r.height+l-a.height,n.y+e));t=c-n.x,e=d-n.y}var u={x:n.x+t,y:n.y+e};return i.tx=t,i.ty=e,i.transition?(xy(i.transition)||(i.transition={}),this.transition("position",u,Cy({},i.transition,{valueFunction:vx.object})),ky(this.getEmbeddedCells(),"translate",t,e,i)):(this.startBatch("translate",i),this.set("position",u,i),ky(this.getEmbeddedCells(),"translate",t,e,i),this.stopBatch("translate",i)),this},size:function(t,e,i){var n=this.get("size");return void 0===t?{width:n.width,height:n.height}:(xy(t)&&(i=e,e=wy(t.height)?t.height:n.height,t=wy(t.width)?t.width:n.width),this.resize(t,e,i))},resize:function(t,e,i){if(i=i||{},this.startBatch("resize",i),i.direction){var n=this.get("size");switch(i.direction){case"left":case"right":e=n.height;break;case"top":case"bottom":t=n.width}var r,o=Uu(this.get("angle")||0),a=this.getBBox();if(o){var s={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[i.direction];i.absolute&&(s+=Math.floor((o+45)/90),s%=4);var l=a[["bottomLeft","corner","topRight","origin"][s]](),c=ch(l).rotate(a.center(),-o),d=Math.sqrt(t*t+e*e)/2,u=s*Math.PI/2;u+=Math.atan(s%2==0?e/t:t/e),u-=Fu(o);var h=ch.fromPolar(d,u,c);r=ch(h).offset(t/-2,e/-2)}else switch(r=a.topLeft(),i.direction){case"top":case"top-right":r.offset(0,a.height-e);break;case"left":case"bottom-left":r.offset(a.width-t,0);break;case"top-left":r.offset(a.width-t,a.height-e)}this.set("size",{width:t,height:e},i),this.position(r.x,r.y,i)}else this.set("size",{width:t,height:e},i);return this.stopBatch("resize",i),this},scale:function(t,e,i,n){var r=this.getBBox().scale(t,e,i);return this.startBatch("scale",n),this.position(r.x,r.y,n),this.resize(r.width,r.height,n),this.stopBatch("scale"),this},fitEmbeds:function(t){return this.fitToChildren(t)},fitToChildren:function(t={}){const{graph:e}=this;if(!e)throw new Error("Element must be part of a graph.");const i=this.getEmbeddedCells().filter((t=>t.isElement()));return 0===i.length||(this.startBatch("fit-embeds",t),t.deep&&ky(i,"fitToChildren",t),this._fitToElements(Object.assign({elements:i},t)),this.stopBatch("fit-embeds")),this},fitParent:function(t={}){const{graph:e}=this;if(!e)throw new Error("Element must be part of a graph.");if(t.deep&&t.terminator&&(t.terminator===this||t.terminator===this.id))return this;const i=this.getParentCell();if(!i||!i.isElement())return this;const n=i.getEmbeddedCells().filter((t=>t.isElement()));return 0===n.length||(this.startBatch("fit-parent",t),i._fitToElements(Object.assign({elements:n},t)),t.deep&&i.fitParent(t),this.stopBatch("fit-parent")),this},_fitToElements:function(t={}){const e=this.graph.getCellsBBox(t.elements);if(!e)return;const{expandOnly:i,shrinkOnly:n}=t;if(i&&n)return;let{x:r,y:o,width:a,height:s}=e;const{left:l,right:c,top:d,bottom:u}=fx(t.padding);r-=l,o-=d,a+=l+c,s+=u+d;let h=new _h(r,o,a,s);if(i)h=this.getBBox().union(h);else if(n){const t=this.getBBox().intersect(h);if(!t)return;h=t}this.set({position:{x:h.x,y:h.y},size:{width:h.width,height:h.height}},t)},rotate:function(t,e,i,n){if(i){var r=this.getBBox().center(),o=this.get("size"),a=this.get("position");r.rotate(i,this.get("angle")-t);var s=r.x-o.width/2-a.x,l=r.y-o.height/2-a.y;this.startBatch("rotate",{angle:t,absolute:e,origin:i}),this.position(a.x+s,a.y+l,n),this.rotate(t,e,null,n),this.stopBatch("rotate")}else this.set("angle",e?t:(this.get("angle")+t)%360,n);return this},angle:function(){return Uu(this.get("angle")||0)},getBBox:function(t={}){const{graph:e,attributes:i}=this,{deep:n,rotate:r}=t;if(n&&e){const i=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return i.push(this),e.getCellsBBox(i,t)}const{angle:o=0,position:{x:a,y:s},size:{width:l,height:c}}=i,d=new _h(a,s,l,c);return r&&d.rotateAroundCenter(o),d},getPointFromConnectedLink:function(t,e){var i=this.getBBox(),n=i.center(),r=t.get(e);if(!r)return n;var o=r.port;if(!o||!this.hasPort(o))return n;var a=this.portProp(o,["group"]),s=this.getPortsPositions(a),l=new ch(s[o]).offset(i.origin()),c=this.angle();return c&&l.rotate(n,-c),l}});Cy(ow.prototype,nw);const aw=jm.Collection.extend({initialize:function(t,e){e.cellNamespace?this.cellNamespace=e.cellNamespace:this.cellNamespace="undefined"!=typeof joint&&$y(joint,"shapes")?joint.shapes:null,this.graph=e.graph},model:function(t,e){var i=e.collection,n=i.cellNamespace,r=new("link"===t.type?ew:qy(n,t.type,".")||ow)(t,e);return e.dry||(r.graph=i.graph),r},comparator:function(t){return t.get("z")||0}}),sw=jm.Model.extend({initialize:function(t,e){var i=new aw([],{model:(e=e||{}).cellModel,cellNamespace:e.cellNamespace,graph:this});jm.Model.prototype.set.call(this,"cells",i),i.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},i.on("add",this._restructureOnAdd,this),i.on("remove",this._restructureOnRemove,this),i.on("reset",this._restructureOnReset,this),i.on("change:source",this._restructureOnChangeSource,this),i.on("change:target",this._restructureOnChangeTarget,this),i.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(t){if(t.isLink()){this._edges[t.id]=!0;var{source:e,target:i}=t.attributes;e.id&&((this._out[e.id]||(this._out[e.id]={}))[t.id]=!0),i.id&&((this._in[i.id]||(this._in[i.id]={}))[t.id]=!0)}else this._nodes[t.id]=!0},_restructureOnRemove:function(t){if(t.isLink()){delete this._edges[t.id];var{source:e,target:i}=t.attributes;e.id&&this._out[e.id]&&this._out[e.id][t.id]&&delete this._out[e.id][t.id],i.id&&this._in[i.id]&&this._in[i.id][t.id]&&delete this._in[i.id][t.id]}else delete this._nodes[t.id]},_restructureOnReset:function(t){t=t.models,this._out={},this._in={},this._nodes={},this._edges={},t.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(t){var e=t.previous("source");e.id&&this._out[e.id]&&delete this._out[e.id][t.id];var i=t.attributes.source;i.id&&((this._out[i.id]||(this._out[i.id]={}))[t.id]=!0)},_restructureOnChangeTarget:function(t){var e=t.previous("target");e.id&&this._in[e.id]&&delete this._in[e.id][t.id];var i=t.get("target");i.id&&((this._in[i.id]||(this._in[i.id]={}))[t.id]=!0)},getOutboundEdges:function(t){return this._out&&this._out[t]||{}},getInboundEdges:function(t){return this._in&&this._in[t]||{}},toJSON:function(){var t=jm.Model.prototype.toJSON.apply(this,arguments);return t.cells=this.get("cells").toJSON(),t},fromJSON:function(t,e){if(!t.cells)throw new Error("Graph JSON must contain cells array.");return this.set(t,e)},set:function(t,e,i){var n;return"object"==typeof t?(n=t,i=e):(n={})[t]=e,n.hasOwnProperty("cells")&&(this.resetCells(n.cells,i),n=Wy(n,"cells")),jm.Model.prototype.set.call(this,n,i)},clear:function(t){t=Cy({},t,{clear:!0});var e=this.get("cells");if(0===e.length)return this;this.startBatch("clear",t);var i=e.sortBy((function(t){return t.isLink()?1:2}));do{i.shift().remove(t)}while(i.length>0);return this.stopBatch("clear"),this},_prepareCell:function(t,e){var i;if(t instanceof jm.Model?(i=t.attributes,t.graph||e&&e.dry||(t.graph=this)):i=t,!Iy(i.type))throw new TypeError("dia.Graph: cell type must be a string.");return t},minZIndex:function(){var t=this.get("cells").first();return t&&t.get("z")||0},maxZIndex:function(){var t=this.get("cells").last();return t&&t.get("z")||0},addCell:function(t,e){return Array.isArray(t)?this.addCells(t,e):(t instanceof jm.Model?t.has("z")||t.set("z",this.maxZIndex()+1):void 0===t.z&&(t.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(t,e),e||{}),this)},addCells:function(t,e){return 0===t.length||(t=Gy(t),e.maxPosition=e.position=t.length-1,this.startBatch("add",e),t.forEach((function(t){this.addCell(t,e),e.position--}),this),this.stopBatch("add",e)),this},resetCells:function(t,e){var i=zy(t).map((function(t){return this._prepareCell(t,e)}),this);return this.get("cells").reset(i,e),this},removeCells:function(t,e){return t.length&&(this.startBatch("remove"),ky(t,"remove",e),this.stopBatch("remove")),this},_removeCell:function(t,e,i){(i=i||{}).clear||(i.disconnectLinks?this.disconnectLinks(t,i):this.removeLinks(t,i)),this.get("cells").remove(t,{silent:!0}),t.graph===this&&(t.graph=null)},getCell:function(t){return this.get("cells").get(t)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").filter((t=>t.isElement()))},getLinks:function(){return this.get("cells").filter((t=>t.isLink()))},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(t,e){var i=(e=e||{}).indirect,n=e.inbound,r=e.outbound;void 0===n&&void 0===r&&(n=r=!0);var o=[],a={};function s(t,e){if(Vy(t.getOutboundEdges(e.id),function(e,c){if(!a[c]){var d=t.getCell(c);o.push(d),a[c]=!0,i&&(n&&l(t,d),r&&s(t,d))}}.bind(t)),i&&e.isLink()){var c=e.getTargetCell();c&&c.isLink()&&(a[c.id]||(o.push(c),s(t,c)))}}function l(t,e){if(Vy(t.getInboundEdges(e.id),function(e,c){if(!a[c]){var d=t.getCell(c);o.push(d),a[c]=!0,i&&(n&&l(t,d),r&&s(t,d))}}.bind(t)),i&&e.isLink()){var c=e.getSourceCell();c&&c.isLink()&&(a[c.id]||(o.push(c),l(t,c)))}}if(r&&s(this,t),n&&l(this,t),e.deep){var c=t.getEmbeddedCells({deep:!0}),d={};c.forEach((function(t){t.isElement()&&(d[t.id]=!0)})),c.forEach((function(t){t.isLink()||(r&&Vy(this.getOutboundEdges(t.id),function(t,i){if(!a[i]){var n=this.getCell(i),{source:r,target:s}=n.attributes,l=r.id,c=s.id;if(!e.includeEnclosed&&l&&d[l]&&c&&d[c])return;o.push(this.getCell(i)),a[i]=!0}}.bind(this)),n&&Vy(this.getInboundEdges(t.id),function(t,i){if(!a[i]){var n=this.getCell(i),{source:r,target:s}=n.attributes,l=r.id,c=s.id;if(!e.includeEnclosed&&l&&d[l]&&c&&d[c])return;o.push(this.getCell(i)),a[i]=!0}}.bind(this)))}),this)}return o},getNeighbors:function(t,e){e||(e={});var i=e.inbound,n=e.outbound;void 0===i&&void 0===n&&(i=n=!0);var r=this.getConnectedLinks(t,e).reduce(function(r,o){var{source:a,target:s}=o.attributes,l=o.hasLoop(e);if(i&&$y(a,"id")&&!r[a.id]){var c=this.getCell(a.id);c.isElement()&&(!l&&(!c||c===t||e.deep&&c.isEmbeddedIn(t))||(r[a.id]=c))}if(n&&$y(s,"id")&&!r[s.id]){var d=this.getCell(s.id);d.isElement()&&(!l&&(!d||d===t||e.deep&&d.isEmbeddedIn(t))||(r[s.id]=d))}return r}.bind(this),{});if(t.isLink()){if(i){var o=t.getSourceCell();o&&o.isElement()&&!r[o.id]&&(r[o.id]=o)}if(n){var a=t.getTargetCell();a&&a.isElement()&&!r[a.id]&&(r[a.id]=a)}}return zy(r)},getCommonAncestor:function(){var t=Array.from(arguments).map((function(t){for(var e=[],i=t.get("parent");i;)e.push(i),i=this.getCell(i).get("parent");return e}),this);t=t.sort((function(t,e){return t.length-e.length}));var e=zy(t.shift()).find((function(e){return t.every((function(t){return t.includes(e)}))}));return this.getCell(e)},getSuccessors:function(t,e){e=e||{};var i=[];return this.search(t,(function(e){e!==t&&i.push(e)}),Cy({},e,{outbound:!0})),i},cloneCells:xx,cloneSubgraph:function(t,e){var i=this.getSubgraph(t,e);return this.cloneCells(i)},getSubgraph:function(t,e){e=e||{};var i=[],n={},r=[],o=[];return zy(t).forEach((function(t){(n[t.id]||(i.push(t),n[t.id]=t,t.isLink()?o.push(t):r.push(t)),e.deep)&&t.getEmbeddedCells({deep:!0}).forEach((function(t){n[t.id]||(i.push(t),n[t.id]=t,t.isLink()?o.push(t):r.push(t))}))})),o.forEach((function(t){var{source:e,target:o}=t.attributes;if(e.id&&!n[e.id]){var a=this.getCell(e.id);i.push(a),n[a.id]=a,r.push(a)}if(o.id&&!n[o.id]){var s=this.getCell(o.id);i.push(this.getCell(o.id)),n[s.id]=s,r.push(s)}}),this),r.forEach((function(t){this.getConnectedLinks(t,e).forEach((function(t){var{source:e,target:r}=t.attributes;!n[t.id]&&e.id&&n[e.id]&&r.id&&n[r.id]&&(i.push(t),n[t.id]=t)}))}),this),i},getPredecessors:function(t,e){e=e||{};var i=[];return this.search(t,(function(e){e!==t&&i.push(e)}),Cy({},e,{inbound:!0})),i},search:function(t,e,i){(i=i||{}).breadthFirst?this.bfs(t,e,i):this.dfs(t,e,i)},bfs:function(t,e,i={}){const n={},r={},o=[];for(o.push(t),r[t.id]=0;o.length>0;){var a=o.shift();if(n[a.id])continue;if(n[a.id]=!0,!1===e.call(this,a,r[a.id]))continue;const t=this.getNeighbors(a,i);for(let e=0,i=t.length;e<i;e++){const i=t[e];r[i.id]=r[a.id]+1,o.push(i)}}},dfs:function(t,e,i={}){const n={},r={},o=[];for(o.push(t),r[t.id]=0;o.length>0;){const t=o.pop();if(n[t.id])continue;if(n[t.id]=!0,!1===e.call(this,t,r[t.id]))continue;const a=this.getNeighbors(t,i),s=o.length;for(let e=0,i=a.length;e<i;e++){const i=a[e];r[i.id]=r[t.id]+1,o.splice(s,0,i)}}},getSources:function(){var t=[];return Vy(this._nodes,function(e,i){this._in[i]&&!Ly(this._in[i])||t.push(this.getCell(i))}.bind(this)),t},getSinks:function(){var t=[];return Vy(this._nodes,function(e,i){this._out[i]&&!Ly(this._out[i])||t.push(this.getCell(i))}.bind(this)),t},isSource:function(t){return!this._in[t.id]||Ly(this._in[t.id])},isSink:function(t){return!this._out[t.id]||Ly(this._out[t.id])},isSuccessor:function(t,e){var i=!1;return this.search(t,(function(n){if(n===e&&n!==t)return i=!0,!1}),{outbound:!0}),i},isPredecessor:function(t,e){var i=!1;return this.search(t,(function(n){if(n===e&&n!==t)return i=!0,!1}),{inbound:!0}),i},isNeighbor:function(t,e,i){var n=(i=i||{}).inbound,r=i.outbound;void 0===n&&void 0===r&&(n=r=!0);var o=!1;return this.getConnectedLinks(t,i).forEach((function(t){var{source:i,target:a}=t.attributes;return n&&$y(i,"id")&&i.id===e.id||r&&$y(a,"id")&&a.id===e.id?(o=!0,!1):void 0})),o},disconnectLinks:function(t,e){this.getConnectedLinks(t).forEach((function(i){i.set(i.attributes.source.id===t.id?"source":"target",{x:0,y:0},e)}))},removeLinks:function(t,e){ky(this.getConnectedLinks(t),"remove",e)},findModelsFromPoint:function(t){return this.getElements().filter((e=>e.getBBox({rotate:!0}).containsPoint(t)))},findModelsInArea:function(t,e={}){const i=new _h(t),{strict:n=!1}=e,r=n?"containsRect":"intersect";return this.getElements().filter((t=>i[r](t.getBBox({rotate:!0}))))},findModelsUnderElement:function(t,e={}){const{searchBy:i="bbox"}=e,n=t.getBBox().rotateAroundCenter(t.angle());return("bbox"===i?this.findModelsInArea(n):this.findModelsFromPoint(Zx(n,i))).filter((e=>t.id!==e.id&&!e.isEmbeddedIn(t)))},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(t,e={}){const{rotate:i=!0}=e;return zy(t).reduce((function(t,e){const n=e.getBBox({rotate:i});return n?t?t.union(n):n:t}),null)},translate:function(t,e,i){var n=this.getCells().filter((function(t){return!t.isEmbedded()}));return ky(n,"translate",t,e,i),this},resize:function(t,e,i){return this.resizeCells(t,e,this.getCells(),i)},resizeCells:function(t,e,i,n){var r=this.getCellsBBox(i);if(r){var o=Math.max(t/r.width,0),a=Math.max(e/r.height,0);ky(i,"scale",o,a,r.origin(),n)}return this},startBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)+1,this.trigger("batch:start",Cy({},e,{batchName:t}))},stopBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)-1,this.trigger("batch:stop",Cy({},e,{batchName:t}))},hasActiveBatch:function(t){const e=this._batches;let i;return i=0===arguments.length?Object.keys(e):Array.isArray(t)?t:[t],i.some((t=>e[t]>0))}},{validations:{multiLinks:function(t,e){var{source:i,target:n}=e.attributes;if(i.id&&n.id){var r=e.getSourceCell();if(r)if(t.getConnectedLinks(r,{outbound:!0}).filter((function(t){var{source:e,target:r}=t.attributes;return e&&e.id===i.id&&(!e.port||e.port===i.port)&&r&&r.id===n.id&&(!r.port||r.port===n.port)})).length>1)return!1}return!0},linkPinning:function(t,e){var{source:i,target:n}=e.attributes;return i.id&&n.id}}});!function(t,e,i){if(Iy(i)){if(!Bx[i])throw new Error('Unknown wrapper: "'+i+'"');i=Bx[i]}if(!Ey(i))throw new Error("Wrapper must be a function.");zy(e).forEach((function(e){t[e]=i(t[e])}))}(sw.prototype,["resetCells","addCells","removeCells"],Bx.cells);const lw={},cw=jm.View.extend({options:{},theme:null,themeClassNamePrefix:Xy("theme-"),requireSetThemeOverride:!1,defaultTheme:Bm.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,FLAG_INIT:1<<28,constructor:function(t){this.requireSetThemeOverride=t&&!!t.theme,this.options=Cy({},this.options,t),jm.View.call(this,t)},initialize:function(){lw[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},isMounted:function(){return null!==this.el.parentNode},renderChildren:function(t){if(t||(t=Fy(this,"children")),t){var e=this.svgElement,i=Gm.namespace[e?"svg":"xhtml"],n=Qy(t,i);(e?this.vel:this.$el).empty().append(n.fragment),this.childNodes=n.selectors}return this},findAttribute:function(t,e){for(var i=e;i&&1===i.nodeType;){var n=i.getAttribute(t);if(n)return n;if(i===this.el)return null;i=i.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(Fy(this,"el"));else{var t=Fy(this,"tagName"),e=Cy({},Fy(this,"attributes")),i=Cy({},Fy(this,"style"));this.id&&(e.id=Fy(this,"id")),this.setElement(this._createElement(t)),this._setAttributes(e),this._setStyle(i)}this._ensureElClassName()},_setAttributes:function(t){this.svgElement?this.vel.attr(t):this.$el.attr(t)},_setStyle:function(t){this.$el.css(t)},_createElement:function(t){return this.svgElement?document.createElementNS(Gm.namespace.svg,t):document.createElement(t)},_setElement:function(t){this.$el=t instanceof jm.$?t:jm.$(t),this.el=this.$el[0],this.svgElement&&(this.vel=Gm(this.el))},_ensureElClassName:function(){var t=Fy(this,"className");if(t){var e=Xy(t);this.svgElement?this.vel.removeClass(t).addClass(e):this.$el.removeClass(t).addClass(e)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(t,e){return e=e||{},this.theme&&this.requireSetThemeOverride&&!e.override||(this.removeThemeClassName(),this.addThemeClassName(t),this.onSetTheme(this.theme,t),this.theme=t),this},addThemeClassName:function(t){if(!(t=t||this.theme))return this;var e=this.themeClassNamePrefix+t;return this.svgElement?this.vel.addClass(e):this.$el.addClass(e),this},removeThemeClassName:function(t){t=t||this.theme;var e=this.themeClassNamePrefix+t;return this.svgElement?this.vel.removeClass(e):this.$el.removeClass(e),this},onSetTheme:function(t,e){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),lw[this.cid]=null,jm.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(t,e,i){if(!e)return this;i||(i={});var n=this.getEventNamespace();for(var r in e){var o=e[r];"function"!=typeof o&&(o=this[o]),o&&Dm(t).on(r+n,i,o.bind(this))}return this},undelegateElementEvents:function(t){return Dm(t).off(this.getEventNamespace()),this},delegateDocumentEvents:function(t,e){return t||(t=Fy(this,"documentEvents")),this.delegateElementEvents(document,t,e)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(t,e){if(!t)throw new Error("eventData(): event object required.");var i=t.data,n="__"+this.cid+"__";return void 0===e?i&&i[n]||{}:(i||(i=t.data={}),i[n]||(i[n]={}),Cy(i[n],e),this)},stopPropagation:function(t){return this.eventData(t,{propagationStopped:!0}),this},isPropagationStopped:function(t){return!!this.eventData(t).propagationStopped}},{extend:function(){var t=Array.from(arguments),e=t[0]&&Cy({},t[0])||{},i=t[1]&&Cy({},t[1])||{},n=e.render||this.prototype&&this.prototype.render||null;return e.render=function(){return"function"==typeof n&&n.apply(this,arguments),this.render.__render__===n&&this.onRender(),this},e.render.__render__=n,jm.View.extend.call(this,e,i)}}),dw="dbltap";if(Dm.event&&!(dw in Dm.event.special)){const t=Bm.doubleTapInterval,e=30;Dm.event.special[dw]={bindType:"touchend",delegateType:"touchend",handle:function(i,...n){const{handleObj:r,target:o}=i,a=Dm.data(o),s=(new Date).getTime(),l="lastTouch"in a?s-a.lastTouch:0;l<t&&l>e?(a.lastTouch=null,i.type=r.origType,r.handler.call(this,i,...n)):a.lastTouch=s}}}const uw={CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},hw=cw.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return Xy(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(t,e){this.el.insertBefore(t,this.insertPivot(e))},insertNode:function(t){const{el:e}=this;t.parentNode!==e&&e.appendChild(t)},insertPivot:function(t){const{el:e,pivotNodes:i}=this;(t=+t)||(t=0);let n=i[t];if(n)return n;n=i[t]=document.createComment("z-index:"+(t+1));let r=-1/0;for(let e in i)e=+e,e<t&&e>r&&(r=e);if(r!==-1/0){const t=i[r];e.insertBefore(n,t.nextSibling)}else e.insertBefore(n,e.firstChild);return n},removePivots:function(){const{el:t,pivotNodes:e}=this;for(let i in e)t.removeChild(e[i]);this.pivotNodes={}}});function pw(t){return t?Array.isArray(t)?t:[t]:[]}const gw=cw.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,postponedUpdate:!1,transformGroup:null,detachedTransformGroup:null,requestUpdate(t,e){const{paper:i}=t;this.cellView=t,this.nodeSelector=e,i&&(this.updateRequested=!0,i.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;const{cellView:t,nodeSelector:e}=this;return t.isMounted()?(this.update(t,e),this.mount(),this.transform(),0):(this.postponedUpdate=!0,0)},findNode(t,e=null){let i;if("string"==typeof e)[i]=t.findBySelector(e);else if(Dy(e)){const n=t.model.isLink(),{label:r=null,port:o,selector:a}=e;n&&null!==r?i=t.findLabelNode(r,a):!n&&o?i=t.findPortNode(o,a):[i]=t.findBySelector(a)}else e&&(i=Gm.toNode(e),i instanceof SVGElement||(i=null));return i||null},getNodeMatrix(t,e){const{options:i}=this,{layer:n}=i,{rotatableNode:r}=t,o=t.getNodeMatrix(e);return r?n?r.contains(e)?o:t.getRootRotateMatrix().inverse().multiply(o):t.getNodeRotateMatrix(e).multiply(o):o},mount(){const{MOUNTABLE:t,cellView:e,el:i,options:n,transformGroup:r,detachedTransformGroup:o,postponedUpdate:a,nodeSelector:s}=this;if(!t||r)return;if(a)return this.update(e,s),void this.transform();const{vel:l,paper:c}=e,{layer:d}=n;if(d){let t;o?(t=o,this.detachedTransformGroup=null):t=Gm("g").addClass("highlight-transform").append(i),this.transformGroup=t,c.getLayerView(d).insertSortedNode(t.node,n.z)}else i.parentNode&&!i.nextSibling||l.append(i)},unmount(){const{MOUNTABLE:t,transformGroup:e,vel:i}=this;t&&(e?(this.transformGroup=null,this.detachedTransformGroup=e,e.remove()):i.remove())},transform(){const{transformGroup:t,cellView:e,updateRequested:i}=this;if(!t||e.model.isLink()||i)return;const n=e.getRootTranslateMatrix(),r=e.getRootRotateMatrix(),o=n.multiply(r);t.attr("transform",Gm.matrixToTransformString(o))},update(){const{node:t,cellView:e,nodeSelector:i,updateRequested:n,id:r}=this;if(n)return;this.postponedUpdate=!1;const o=this.node=this.findNode(e,i);t&&this.unhighlight(e,t),o?(this.highlight(e,o),this.mount()):(this.unmount(),e.notify("cell:highlight:invalid",r,this))},onRemove(){const{node:t,cellView:e,id:i,constructor:n}=this;t&&this.unhighlight(e,t),this.unmount(),n._removeRef(e,i)},highlight(t,e){},unhighlight(t,e){},listenToUpdateAttributes(t){const e=Fy(this,"UPDATE_ATTRIBUTES");Array.isArray(e)&&0!==e.length&&this.listenTo(t.model,"change",this.onCellAttributeChange)},onCellAttributeChange(){const{cellView:t}=this;if(!t)return;const{model:e,paper:i}=t;Fy(this,"UPDATE_ATTRIBUTES").some((t=>e.hasChanged(t)))&&i.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY)}},{_views:{},highlight:function(t,e,i){const n=this.uniqueId(e,i);this.add(t,e,n,i)},unhighlight:function(t,e,i){const n=this.uniqueId(e,i);this.remove(t,n)},get(t,e=null){const{cid:i}=t,{_views:n}=this,r=n[i];if(null===e){const t=[];if(!r)return t;for(let e in r){const i=r[e];i instanceof this&&t.push(i)}return t}if(!r)return null;if(e in r){const t=r[e];if(t instanceof this)return t}return null},add(t,e,i,n={}){if(!i)throw new Error("dia.HighlighterView: An ID required.");const r=gw.get(t,i);r&&r.remove();const o=new this(n);return o.id=i,this._addRef(t,i,o),o.requestUpdate(t,e),o.listenToUpdateAttributes(t),o},_addRef(t,e,i){const{cid:n}=t,{_views:r}=this;let o=r[n];o||(o=r[n]={}),o[e]=i},_removeRef(t,e){const{cid:i}=t,{_views:n}=this,r=n[i];if(r){e&&delete r[e];for(let t in r)return;delete n[i]}},remove(t,e=null){pw(this.get(t,e)).forEach((t=>{t.remove()}))},removeAll(t,e=null){const{_views:i}=this;for(let n in i)for(let r in i[n]){const o=i[n][r];o.cellView.paper===t&&o instanceof this&&(null===e||r===e)&&o.remove()}},update(t,e=null,i=!1){pw(this.get(t,e)).forEach((t=>{(i||t.UPDATABLE)&&t.update()}))},transform(t,e=null){pw(this.get(t,e)).forEach((t=>{t.UPDATABLE&&t.transform()}))},unmount(t,e=null){pw(this.get(t,e)).forEach((t=>t.unmount()))},mount(t,e=null){pw(this.get(t,e)).forEach((t=>t.mount()))},uniqueId:(t,e="")=>Gm.ensureId(t)+JSON.stringify(e)}),fw={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},mw=cw.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var t=["cell"],e=this.model.get("type");return e&&e.toLowerCase().split(".").forEach((function(e,i,n){t.push("type-"+n.slice(0,i+1).join("-"))})),t.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var t,e,i,n={},r={},o=0,a=Fy(this,"presentationAttributes");for(var s in a)if(a.hasOwnProperty(s)){var l=a[s];for(Array.isArray(l)||(l=[l]),t=0,e=l.length;t<e;t++){var c=n[i=l[t]];c||(c=n[i]=1<<o++),r[s]|=c}}var d=Fy(this,"initFlag");for(Array.isArray(d)||(d=[d]),t=0,e=d.length;t<e;t++)n[i=d[t]]||(n[i]=1<<o++);if(o>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=n,this._presentationAttributes=r},hasFlag:function(t,e){return t&this.getFlag(e)},removeFlag:function(t,e){return t^t&this.getFlag(e)},getFlag:function(t){var e=this._flags;if(!e)return 0;var i=0;if(Array.isArray(t))for(var n=0,r=t.length;n<r;n++)i|=e[t[n]];else i|=e[t];return i},attributes:function(){var t=this.model;return{"model-id":t.id,"data-type":t.attributes.type}},constructor:function(t){t.id=t.id||nx(this),cw.call(this,t)},initialize:function(){this.setFlags(),cw.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(t,e){var i=t.getChangeFlag(this._presentationAttributes);!e.updateHandled&&i&&(e.dirty&&this.hasFlag(i,"UPDATE")&&(i|=this.getFlag("RENDER")),e.tool&&(e.async=!1),this.requestUpdate(i,e))},requestUpdate:function(t,e){const{paper:i}=this;i&&t>0&&i.requestViewUpdate(this,t,this.UPDATE_PRIORITY,e)},parseDOMJSON:function(t,e){var i=Qy(t),n=i.selectors,r=i.groupSelectors;for(var o in r){if(n[o])throw new Error("dia.CellView: ambiguous group selector");n[o]=r[o]}if(e){var a=this.selector;if(n[a])throw new Error("dia.CellView: ambiguous root selector.");n[a]=e}return{fragment:i.fragment,selectors:n}},can:function(t){var e=Ey(this.options.interactive)?this.options.interactive(this):this.options.interactive;return xy(e)&&!1!==e[t]||function(t){var e=Object.prototype.toString;return!0===t||!1===t||!!t&&"object"==typeof t&&e.call(t)===$m}(e)&&!1!==e},findBySelector:function(t,e,i){if(e||(e=this.el),i||(i=this.selectors),!t||"."===t)return[e];if(i){var n=i[t];if(n)return Array.isArray(n)?n:[n]}return Bm.useCSSSelectors?Dm(e).find(t).toArray():[]},notify:function(t){if(this.paper){var e=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[t].concat(e)),this.paper.trigger.apply(this.paper,[t,this].concat(e))}},getBBox:function(t){var e;if(t&&t.useModelGeometry){var i=this.model;e=i.getBBox().bbox(i.angle())}else e=this.getNodeBBox(this.el);return this.paper.localToPaperRect(e)},getNodeBBox:function(t){const e=this.getNodeBoundingRect(t),i=this.getRootTranslateMatrix().multiply(this.getNodeRotateMatrix(t)),n=this.getNodeMatrix(t);return Gm.transformRect(e,i.multiply(n))},getNodeRotateMatrix(t){return!this.rotatableNode||this.rotatableNode.contains(t)?this.getRootRotateMatrix():Gm.createSVGMatrix()},getNodeUnrotatedBBox:function(t){var e=this.getNodeBoundingRect(t),i=this.getNodeMatrix(t),n=this.getRootTranslateMatrix();return Gm.transformRect(e,n.multiply(i))},getRootTranslateMatrix:function(){var t=this.model.position();return Gm.createSVGMatrix().translate(t.x,t.y)},getRootRotateMatrix:function(){var t=Gm.createSVGMatrix(),e=this.model,i=e.angle();if(i){var n=e.getBBox(),r=n.width/2,o=n.height/2;t=t.translate(r,o).rotate(i).translate(-r,-o)}return t},_notifyHighlight:function(t,e,i={}){const{el:n}=this;let r;if([r=n]="string"==typeof e?this.findBySelector(e):this.$(e),i.partial=r!==n,void 0===i.type){let t;switch(!0){case i.embedding:t=fw.EMBEDDING;break;case i.connecting:t=fw.CONNECTING;break;case i.magnetAvailability:t=fw.MAGNET_AVAILABILITY;break;case i.elementAvailability:t=fw.ELEMENT_AVAILABILITY;break;default:t=fw.DEFAULT}i.type=t}return this.notify(t,r,i),this},highlight:function(t,e){return this._notifyHighlight("cell:highlight",t,e)},unhighlight:function(t,e={}){return this._notifyHighlight("cell:unhighlight",t,e)},findMagnet:function(t){const e=this.el;let i=this.$(t)[0];i||(i=e);do{const t=i.getAttribute("magnet"),n=i===e;if((t||n)&&"false"!==t)return i;if(n)return;i=i.parentNode}while(i)},findProxyNode:function(t,e){t||(t=this.el);const i=t.getAttribute(`${e}-selector`);if(i){const[t]=this.findBySelector(i);if(t)return t}return t},getSelector:function(t,e){var i;if(t===this.el)return"string"==typeof e&&(i="> "+e),i;if(t){var n=Gm(t).index()+1;i=t.tagName+":nth-child("+n+")",e&&(i+=" > "+e),i=this.getSelector(t.parentNode,i)}return i},addLinkFromMagnet:function(t,e,i){var n=this.paper,r=n.model,o=n.getDefaultLink(this,t);return o.set({source:this.getLinkEnd(t,e,i,o,"source"),target:{x:e,y:i}}).addTo(r,{async:!1,ui:!0}),o.findView(n)},getLinkEnd:function(t,...e){var i=this.model,n=i.id,r=this.findAttribute("port",t),o=t.getAttribute("joint-selector"),a={id:n};return null!=o&&(a.magnet=o),null!=r?(a.port=r,i.hasPort(r)||o||(a.selector=this.getSelector(t))):null==o&&this.el!==t&&(a.selector=this.getSelector(t)),this.customizeLinkEnd(a,t,...e)},customizeLinkEnd:function(t,e,i,n,r,o){const{paper:a}=this,{connectionStrategy:s}=a.options;if("function"==typeof s){var l=s.call(a,t,this,e,new ch(i,n),r,o,a);if(l)return l}return t},getMagnetFromLinkEnd:function(t){var e,i=this.el,n=t.port,r=t.magnet,o=this.model;return null!=n&&o.isElement()&&o.hasPort(n)?e=this.findPortNode(n,r)||i:(r||(r=t.selector),r||null==n||(r='[port="'+n+'"]'),e=this.findBySelector(r,i,this.selectors)[0]),this.findProxyNode(e,"magnet")},dragLinkStart:function(t,e,i,n){this.model.startBatch("add-link");const r=this.addLinkFromMagnet(e,i,n);r.notifyPointerdown(t,i,n),r.eventData(t,r.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(t,{linkView:r})},dragLink:function(t,e,i){var n=this.eventData(t),r=n.linkView;if(r)r.pointermove(t,e,i);else{var o=this.paper,a=o.options.magnetThreshold,s=this.getEventTarget(t),l=n.targetMagnet;if("onleave"===a){if(l===s||Gm(l).contains(s))return}else if(o.eventData(t).mousemoved<=a)return;this.dragLinkStart(t,l,e,i)}},dragLinkEnd:function(t,e,i){var n=this.eventData(t).linkView;n&&(n.pointerup(t,e,i),this.model.stopBatch("add-link"))},getAttributeDefinition:function(t){return this.model.constructor.getAttributeDefinition(t)},setNodeAttributes:function(t,e){Ly(e)||(t instanceof SVGElement?Gm(t).attr(e):Dm(t).attr(e))},processNodeAttributes:function(t,e){var i,n,r,o,a,s,l,c,d,u,h=[];for(i in e)e.hasOwnProperty(i)&&(n=e[i],!(r=this.getAttributeDefinition(i))||Ey(r.qualify)&&!r.qualify.call(this,n,t,e,this)?(s||(s={}),s[(u=i,u.replace(/[A-Z]/g,"-$&").toLowerCase())]=n):(Iy(r.set)&&(s||(s={}),s[r.set]=n),null!==n&&h.push(i,r)));for(o=0,a=h.length;o<a;o+=2)i=h[o],r=h[o+1],n=e[i],Ey(r.set)&&(l||(l={}),l[i]=n),Ey(r.position)&&(c||(c={}),c[i]=n),Ey(r.offset)&&(d||(d={}),d[i]=n);return{raw:e,normal:s,set:l,position:c,offset:d}},updateRelativeAttributes:function(t,e,i,n){var r,o;n||(n={});var a=e.raw||{},s=e.normal||{},l=e.set,c=e.position,d=e.offset;for(r in l){o=l[r];var u=this.getAttributeDefinition(r).set.call(this,o,i.clone(),t,a,this);xy(u)?Cy(s,u):void 0!==u&&(s[r]=u)}if(t instanceof HTMLElement)this.setNodeAttributes(t,s);else{var h,p,g,f=s.transform,m=Gm.transformStringToMatrix(f),v=ch(m.e,m.f);if(f&&(s=Wy(s,"transform"),m.e=m.f=0),c||d){var b=this.getNodeScale(t,n.scalableNode);h=b.sx,p=b.sy}var y=!1;for(r in c)o=c[r],(g=this.getAttributeDefinition(r).position.call(this,o,i.clone(),t,a,this))&&(v.offset(ch(g).scale(h,p)),y||(y=!0));this.setNodeAttributes(t,s);var x=!1;if(d){var w=this.getNodeBoundingRect(t);if(w.width>0&&w.height>0){var I=Gm.transformRect(w,m).scale(1/h,1/p);for(r in d)o=d[r],(g=this.getAttributeDefinition(r).offset.call(this,o,I,t,a,this))&&(v.offset(ch(g).scale(h,p)),x||(x=!0))}}(void 0!==f||y||x)&&(v.round(1),m.e=v.x,m.f=v.y,t.setAttribute("transform",Gm.matrixToTransformString(m)))}},getNodeScale:function(t,e){var i,n;if(e&&e.contains(t)){var r=e.scale();i=1/r.sx,n=1/r.sy}else i=1,n=1;return{sx:i,sy:n}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(t){var e=this.metrics;if(!e)return{};var i=Gm.ensureId(t),n=e[i];return n||(n=e[i]={}),n},getNodeData:function(t){var e=this.nodeCache(t);return e.data||(e.data={}),e.data},getNodeBoundingRect:function(t){var e=this.nodeCache(t);return void 0===e.boundingRect&&(e.boundingRect=Gm(t).getBBox()),new _h(e.boundingRect)},getNodeMatrix:function(t){const e=this.nodeCache(t);if(void 0===e.magnetMatrix){const{rotatableNode:i,el:n}=this;let r;r=i&&i.contains(t)?i:n,e.magnetMatrix=Gm(t).getTransformToElement(r)}return Gm.createSVGMatrix(e.magnetMatrix)},getNodeShape:function(t){var e=this.nodeCache(t);return void 0===e.geometryShape&&(e.geometryShape=Gm(t).toGeometryShape()),e.geometryShape.clone()},isNodeConnection:function(t){return this.model.isLink()&&(!t||t===this.el)},findNodesAttributes:function(t,e,i,n){var r,o,a,s,l={},c=[];for(var d in t)if(t.hasOwnProperty(d)&&(a=t[d],Dy(a))){var u=i[d]=this.findBySelector(d,e,n);for(r=0,o=u.length;r<o;r++){var h=u[r];s=Gm.ensureId(h);var p=n&&n[d]===h,g=l[s];if(g){g.array||(c.push(s),g.array=!0,g.attributes=[g.attributes],g.selectedLength=[g.selectedLength]);var f=g.attributes,m=g.selectedLength;if(p)f.unshift(a),m.unshift(-1);else{var v=Ty(m,o);f.splice(v,0,a),m.splice(v,0,o)}}else l[s]={attributes:a,selectedLength:p?-1:o,node:h,array:!1}}}for(r=0,o=c.length;r<o;r++)(a=l[s=c[r]]).attributes=Hy({},...a.attributes.reverse());return l},getEventTarget:function(t,e={}){const{target:i,type:n,clientX:r=0,clientY:o=0}=t;return e.fromPoint||"touchmove"===n||"touchend"===n||"pointerId"in t&&i.hasPointerCapture(t.pointerId)?document.elementFromPoint(r,o):i},updateDOMSubtreeAttributes:function(t,e,i){i||(i={}),i.rootBBox||(i.rootBBox=_h()),i.selectors||(i.selectors=this.selectors);var n,r,o,a,s,l={},c={},d=[],u=[],h=i.roAttributes,p=this.findNodesAttributes(h||e,t,l,i.selectors),g=h?this.findNodesAttributes(e,t,l,i.selectors):p;for(var f in p)if(o=(a=p[f]).attributes,r=a.node,(s=this.processNodeAttributes(r,o)).set||s.position||s.offset){var m,v=g[f]&&g[f].attributes,b=v&&void 0===o.ref?v.ref:o.ref;if(b){if(!(m=(l[b]||this.findBySelector(b,t,i.selectors))[0]))throw new Error('dia.CellView: "'+b+'" reference does not exist.')}else m=null;if(n={node:r,refNode:m,processedAttributes:s,allAttributes:v},m){var y=u.findIndex((function(t){return t.refNode===r}));y>-1?u.splice(y,0,n):u.push(n)}else d.push(n)}else this.setNodeAttributes(r,s.normal);d.push(...u);for(let t=0,e=d.length;t<e;t++){n=d[t],r=n.node;const e=(m=n.refNode)?Gm.ensureId(m):"";let o=c[e];o||(o=c[e]=m?Gm(m).getBBox({target:vw(r,m)}):i.rootBBox),h?(s=this.processNodeAttributes(r,n.allAttributes),this.mergeProcessedAttributes(s,n.processedAttributes)):s=n.processedAttributes,this.updateRelativeAttributes(r,s,o,i)}},mergeProcessedAttributes:function(t,e){t.set||(t.set={}),t.position||(t.position={}),t.offset||(t.offset={}),Cy(t.set,e.set),Cy(t.position,e.position),Cy(t.offset,e.offset);var i=t.normal&&t.normal.transform;void 0!==i&&e.normal&&(e.normal.transform=i),t.normal=e.normal},onMount(t){t||(this.mountTools(),gw.mount(this))},onDetach(){this.unmountTools(),gw.unmount(this)},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(t){var e=this._toolsView;return!!e&&(!t||e.getName()===t)},addTools:function(t){return this.removeTools(),t&&(this._toolsView=t,t.configure({relatedView:this}),t.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},unmountTools(){const t=this._toolsView;return t&&t.unmount(),this},mountTools(){const t=this._toolsView;return t&&!t.isMounted()&&t.mount(),this},updateTools:function(t){var e=this._toolsView;return e&&e.update(t),this},removeTools:function(){var t=this._toolsView;return t&&(t.remove(),this._toolsView=null),this},hideTools:function(){var t=this._toolsView;return t&&t.hide(),this},showTools:function(){var t=this._toolsView;return t&&t.show(),this},onToolEvent:function(t){switch(t){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools()}},removeHighlighters:function(){gw.remove(this)},updateHighlighters:function(t=!1){gw.update(this,null,t)},transformHighlighters:function(){gw.transform(this)},preventDefaultInteraction(t){this.eventData(t,{defaultInteractionPrevented:!0})},isDefaultInteractionPrevented(t){const{defaultInteractionPrevented:e=!1}=this.eventData(t);return e},pointerdblclick:function(t,e,i){this.notify("cell:pointerdblclick",t,e,i)},pointerclick:function(t,e,i){this.notify("cell:pointerclick",t,e,i)},contextmenu:function(t,e,i){this.notify("cell:contextmenu",t,e,i)},pointerdown:function(t,e,i){const{model:n}=this,{graph:r}=n;r&&(n.startBatch("pointer"),this.eventData(t,{graph:r})),this.notify("cell:pointerdown",t,e,i)},pointermove:function(t,e,i){this.notify("cell:pointermove",t,e,i)},pointerup:function(t,e,i){const{graph:n}=this.eventData(t);this.notify("cell:pointerup",t,e,i),n&&n.stopBatch("pointer",{cell:this.model})},mouseover:function(t){this.notify("cell:mouseover",t)},mouseout:function(t){this.notify("cell:mouseout",t)},mouseenter:function(t){this.notify("cell:mouseenter",t)},mouseleave:function(t){this.notify("cell:mouseleave",t)},mousewheel:function(t,e,i,n){this.notify("cell:mousewheel",t,e,i,n)},onevent:function(t,e,i,n){this.notify(e,t,i,n)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(t){const{paper:e,model:i}=this;if(e.isAsync()){if(i.isLink()){const t=i.getSourceElement();if(t){const i=e.findViewByModel(t);i&&(e.dumpView(i),e.checkViewVisibility(i))}const n=i.getTargetElement();if(n){const t=e.findViewByModel(n);t&&(e.dumpView(t),e.checkViewVisibility(t))}}e.dumpView(this),e.checkViewVisibility(this)}const n=this.getEventTarget(t,{fromPoint:!0}),r=e.findView(n);r!==this&&(this.mouseleave(t),r&&r.mouseenter(t))},setInteractivity:function(t){this.options.interactive=t}},{Flags:{TOOLS:"TOOLS"},Highlighting:fw,addPresentationAttributes:function(t){return Hy({},Fy(this.prototype,"presentationAttributes"),t,(function(t,e){if(t&&e)return"string"==typeof t&&(t=[t]),"string"==typeof e&&(e=[e]),Array.isArray(t)&&Array.isArray(e)?Py(t.concat(e)):void 0}))}});function vw(t,e){let i=t;do{if(i.contains(e))return i;i=i.parentNode}while(i);return null}const bw={TOOLS:mw.Flags.TOOLS,UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},yw="move",xw="magnet",ww=mw.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var t=mw.prototype.className.apply(this).split(" ");return t.push("element"),t.join(" ")},initialize:function(){mw.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[bw.UPDATE],position:[bw.TRANSLATE,bw.TOOLS],size:[bw.RESIZE,bw.PORTS,bw.TOOLS],angle:[bw.ROTATE,bw.TOOLS],markup:[bw.RENDER],ports:[bw.PORTS]},initFlag:[bw.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(t,e){const{useCSSSelectors:i}=Bm;this.hasFlag(t,bw.PORTS)&&(this._removePorts(),this._cleanPortsCache());let n=!1;if(this.hasFlag(t,bw.RENDER))this.render(),this.updateTools(e),this.updateHighlighters(!0),n=!0,t=this.removeFlag(t,[bw.RENDER,bw.UPDATE,bw.RESIZE,bw.TRANSLATE,bw.ROTATE,bw.PORTS,bw.TOOLS]);else{let r=!1;this.hasFlag(t,bw.RESIZE)&&(this.resize(e),r=!0,t=this.removeFlag(t,[bw.RESIZE,bw.UPDATE]),i&&(t=this.removeFlag(t,bw.PORTS))),this.hasFlag(t,bw.UPDATE)&&(this.update(this.model,null,e),t=this.removeFlag(t,bw.UPDATE),r=!0,i&&(t=this.removeFlag(t,bw.PORTS))),this.hasFlag(t,bw.TRANSLATE)&&(this.translate(),t=this.removeFlag(t,bw.TRANSLATE),n=!0),this.hasFlag(t,bw.ROTATE)&&(this.rotate(),t=this.removeFlag(t,bw.ROTATE),n=!0),this.hasFlag(t,bw.PORTS)&&(this._renderPorts(),r=!0,t=this.removeFlag(t,bw.PORTS)),r&&this.updateHighlighters(!1)}return n&&this.transformHighlighters(),this.hasFlag(t,bw.TOOLS)&&(this.updateTools(e),t=this.removeFlag(t,bw.TOOLS)),t},_initializePorts:function(){},update:function(t,e){this.cleanNodesCache();const{useCSSSelectors:i}=Bm;i&&this._removePorts();var n=this.model,r=n.attr();this.updateDOMSubtreeAttributes(this.el,r,{rootBBox:new _h(n.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:e===r?null:e}),i&&this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var t=this.model,e=t.get("markup")||t.markup;if(!e)throw new Error("dia.ElementView: markup required");if(Array.isArray(e))return this.renderJSONMarkup(e);if("string"==typeof e)return this.renderStringMarkup(e);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(t){var e=this.parseDOMJSON(t,this.el),i=this.selectors=e.selectors;this.rotatableNode=Gm(i[this.rotatableSelector])||null,this.scalableNode=Gm(i[this.scalableSelector])||null,this.vel.append(e.fragment)},renderStringMarkup:function(t){var e=this.vel;e.append(Gm(t)),this.rotatableNode=e.findOne(".rotatable"),this.scalableNode=e.findOne(".scalable"),(this.selectors={})[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),Bm.useCSSSelectors||this._renderPorts(),this},resize:function(t){if(this.scalableNode)return this.sgResize(t);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode)return this.rgRotate(),void this.update();this.updateTransformation()},updateTransformation:function(){var t=this.getTranslateString(),e=this.getRotateString();e&&(t+=" "+e),this.vel.attr("transform",t)},getTranslateString:function(){var t=this.model.attributes.position;return"translate("+t.x+","+t.y+")"},getRotateString:function(){var t=this.model.attributes,e=t.angle;if(!e)return null;var i=t.size;return"rotate("+e+","+i.width/2+","+i.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(t){var e=this.model,i=e.angle(),n=e.size(),r=this.scalableNode,o=!1;r.node.getElementsByTagName("path").length>0&&(o=!0);var a=r.getBBox({recursive:o}),s=n.width/(a.width||1),l=n.height/(a.height||1);r.attr("transform","scale("+s+","+l+")");var c=this.rotatableNode,d=c&&c.attr("transform");if(d){c.attr("transform",d+" rotate("+-i+","+n.width/2+","+n.height/2+")");var u=r.getBBox({target:this.paper.cells});e.set("position",{x:u.x,y:u.y},Cy({updateHandled:!0},t)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(t={}){const e=t.model||this.model,i=(t.paper||this.paper).model,n=t.initialZIndices={},r=e.getEmbeddedCells({deep:!0}),o=i.getConnectedLinks(e,{deep:!0,includeEnclosed:!0});[e,...r,...o].forEach((t=>n[t.id]=t.attributes.z)),e.startBatch("to-front"),e.toFront({deep:!0,ui:!0});const a=i.getElements().reduce(((t,e)=>Math.max(t,e.attributes.z||0)),0);o.forEach((t=>{t.attributes.z<=a&&t.set("z",a+1,{ui:!0})})),e.stopBatch("to-front");const s=e.parent();if(s){i.getCell(s).unembed(e,{ui:!0}),t.initialParentId=s}else t.initialParentId=null},processEmbedding:function(t={},e,i,n){const r=t.model||this.model,o=t.paper||this.paper,a=o.model,{findParentBy:s,frontParentOnly:l,validateEmbedding:c}=o.options;let d;d=Ey(s)?zy(s.call(a,this,e,i,n)):"pointer"===s?zy(a.findModelsFromPoint({x:i,y:n})):a.findModelsUnderElement(r,{searchBy:s}),d=d.filter((t=>t instanceof Gx&&r.id!==t.id&&!t.isEmbeddedIn(r))),l&&(d=d.slice(-1));let u=null;const h=t.candidateEmbedView;for(let t=d.length-1;t>=0;t--){const e=d[t];if(h&&h.model.id==e.id){u=h;break}{const t=e.findView(o);if(!Ey(c)||c.call(o,this,t)){u=t;break}}}u&&u!=h&&(this.clearEmbedding(t),t.candidateEmbedView=u.highlight(u.findProxyNode(null,"container"),{embedding:!0})),!u&&h&&this.clearEmbedding(t)},clearEmbedding:function(t){t||(t={});var e=t.candidateEmbedView;e&&(e.unhighlight(e.findProxyNode(null,"container"),{embedding:!0}),t.candidateEmbedView=null)},finalizeEmbedding:function(t={}){const e=t.candidateEmbedView,i=t.model||this.model,n=t.paper||this.paper;if(e)e.model.embed(i,{ui:!0}),e.unhighlight(e.findProxyNode(null,"container"),{embedding:!0}),t.candidateEmbedView=null;else{const{validateUnembedding:e}=n.options,{initialParentId:i}=t;if(i&&"function"==typeof e&&!e.call(n,this))return void this._disallowUnembed(t)}n.model.getConnectedLinks(i,{deep:!0}).forEach((t=>{t.reparent({ui:!0})}))},_disallowUnembed:function(t){const{model:e,whenNotAllowed:i="revert"}=t,n=e||this.model,r=(t.paper||this.paper).model;switch(i){case"remove":n.remove({ui:!0});break;case"revert":{const{initialParentId:e,initialPosition:i,initialZIndices:o}=t;if(i){const{x:t,y:e}=i;n.position(t,e,{deep:!0,ui:!0})}o&&Object.keys(o).forEach((t=>{const e=r.getCell(t);e&&e.set("z",o[t],{ui:!0})}));const a=r.getCell(e);a&&a.embed(n,{ui:!0});break}}},getDelegatedView:function(){for(var t=this,e=t.model,i=t.paper;t&&!e.isLink();){if(!e.isEmbedded()||t.can("stopDelegation"))return t;e=e.getParentCell(),t=i.findViewByModel(e)}return null},findProxyNode:function(t,e){t||(t=this.el);const i=t.getAttribute(`${e}-selector`);if(i){const e=this.findAttribute("port",t);if(e){const t=this.findPortNode(e,i);if(t)return t}else{const[t]=this.findBySelector(i);if(t)return t}}return t},notifyPointerdown(t,e,i){mw.prototype.pointerdown.call(this,t,e,i),this.notify("element:pointerdown",t,e,i)},notifyPointermove(t,e,i){mw.prototype.pointermove.call(this,t,e,i),this.notify("element:pointermove",t,e,i)},notifyPointerup(t,e,i){this.notify("element:pointerup",t,e,i),mw.prototype.pointerup.call(this,t,e,i)},pointerdblclick:function(t,e,i){mw.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",t,e,i)},pointerclick:function(t,e,i){mw.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",t,e,i)},contextmenu:function(t,e,i){mw.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",t,e,i)},pointerdown:function(t,e,i){this.notifyPointerdown(t,e,i),this.dragStart(t,e,i)},pointermove:function(t,e,i){const n=this.eventData(t),{targetMagnet:r,action:o,delegatedView:a}=n;switch(r&&this.magnetpointermove(t,r,e,i),o){case xw:this.dragMagnet(t,e,i);break;case yw:(a||this).drag(t,e,i);default:if(n.preventPointerEvents)break;this.notifyPointermove(t,e,i)}this.eventData(t,n)},pointerup:function(t,e,i){const n=this.eventData(t),{targetMagnet:r,action:o,delegatedView:a}=n;switch(r&&this.magnetpointerup(t,r,e,i),o){case xw:this.dragMagnetEnd(t,e,i);break;case yw:(a||this).dragEnd(t,e,i);default:if(n.preventPointerEvents)break;this.notifyPointerup(t,e,i)}r&&this.magnetpointerclick(t,r,e,i),this.checkMouseleave(t)},mouseover:function(t){mw.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",t)},mouseout:function(t){mw.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",t)},mouseenter:function(t){mw.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",t)},mouseleave:function(t){mw.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",t)},mousewheel:function(t,e,i,n){mw.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",t,e,i,n)},onmagnet:function(t,e,i){const{currentTarget:n}=t;this.magnetpointerdown(t,n,e,i),this.eventData(t,{targetMagnet:n}),this.dragMagnetStart(t,e,i)},magnetpointerdown:function(t,e,i,n){this.notify("element:magnet:pointerdown",t,e,i,n)},magnetpointermove:function(t,e,i,n){this.notify("element:magnet:pointermove",t,e,i,n)},magnetpointerup:function(t,e,i,n){this.notify("element:magnet:pointerup",t,e,i,n)},magnetpointerdblclick:function(t,e,i,n){this.notify("element:magnet:pointerdblclick",t,e,i,n)},magnetcontextmenu:function(t,e,i,n){this.notify("element:magnet:contextmenu",t,e,i,n)},dragStart:function(t,e,i){if(this.isDefaultInteractionPrevented(t))return;var n=this.getDelegatedView();if(!n||!n.can("elementMove"))return;this.eventData(t,{action:yw,delegatedView:n});const r=n.model.position();n.eventData(t,{initialPosition:r,pointerOffset:r.difference(e,i),restrictedArea:this.paper.getRestrictedArea(n,e,i)})},dragMagnetStart:function(t,e,i){const{paper:n}=this,r=t.isPropagationStopped();if(r&&this.eventData(t,{preventPointerEvents:!0}),this.isDefaultInteractionPrevented(t)||!this.can("addLinkFromMagnet"))return;const{targetMagnet:o=t.currentTarget}=this.eventData(t);t.stopPropagation(),n.options.validateMagnet.call(n,this,o,t)?(n.options.magnetThreshold<=0&&this.dragLinkStart(t,o,e,i),this.eventData(t,{action:xw})):r?this.dragStart(t,e,i):this.pointerdown(t,e,i)},drag:function(t,e,i){var n=this.paper,r=n.options.gridSize,o=this.model,a=this.eventData(t),{pointerOffset:s,restrictedArea:l,embedding:c}=a,d=Zu(e+s.x,r),u=Zu(i+s.y,r);o.position(d,u,{restrictedArea:l,deep:!0,ui:!0}),n.options.embeddingMode&&(c||(this.prepareEmbedding(a),c=!0),this.processEmbedding(a,t,e,i)),this.eventData(t,{embedding:c})},dragMagnet:function(t,e,i){this.dragLink(t,e,i)},dragEnd:function(t,e,i){var n=this.eventData(t);n.embedding&&this.finalizeEmbedding(n)},dragMagnetEnd:function(t,e,i){this.dragLinkEnd(t,e,i)},magnetpointerclick:function(t,e,i,n){var r=this.paper;r.eventData(t).mousemoved>r.options.clickThreshold||this.notify("element:magnet:pointerclick",t,e,i,n)}},{Flags:bw});Cy(ww.prototype,rw);var Iw={N:"S",S:"N",E:"W",W:"E"},Cw={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function Aw(t,e,i){var n=new ch(t.x,e.y);return i.containsPoint(n)&&(n=new ch(e.x,t.y)),n}function Sw(t,e){return t["W"===e||"E"===e?"width":"height"]}function kw(t,e){return t.x===e.x?t.y>e.y?"N":"S":t.y===e.y?t.x>e.x?"W":"E":null}function _w(t){return new _h(t.x,t.y,0,0)}function Tw(t){var e=fx(t.padding||t.elementPadding||20);return{x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}function Pw(t,e){return t.sourceBBox.clone().moveAndExpand(Tw(e))}function Mw(t,e){return t.targetBBox.clone().moveAndExpand(Tw(e))}function Nw(t,e,i){var n=new ch(t.x,e.y),r=new ch(e.x,t.y),o=kw(t,n),a=kw(t,r),s=Iw[i],l=o===i||o!==s&&(a===s||a!==i)?n:r;return{points:[l],direction:kw(l,e)}}function Lw(t,e,i){var n=Aw(t,e,i);return{points:[n],direction:kw(n,e)}}function Ow(t,e,i,n){var r,o={},a=[new ch(t.x,e.y),new ch(e.x,t.y)],s=a.filter((function(t){return!i.containsPoint(t)})),l=s.filter((function(e){return kw(e,t)!==n}));if(l.length>0)r=(r=l.filter((function(e){return kw(t,e)===n})).pop())||l[0],o.points=[r],o.direction=kw(r,e);else{r=Uy(a,s)[0];var c=new ch(e).move(r,-Sw(i,n)/2),d=Aw(c,t,i);o.points=[d,c],o.direction=kw(c,e)}return o}function Ew(t,e,i,n){var r=Lw(e,t,n),o=r.points[0];if(i.containsPoint(o)){var a=(r=Lw(t,e,i)).points[0];if(n.containsPoint(a)){var s=new ch(t).move(a,-Sw(i,kw(t,a))/2),l=new ch(e).move(o,-Sw(n,kw(e,o))/2),c=new ph(s,l).midpoint(),d=Lw(t,c,i),u=Nw(c,e,d.direction);r.points=[d.points[0],u.points[0]],r.direction=u.direction}}return r}function Dw(t,e,i,n,r){var o,a,s,l={},c=i.union(n).inflate(1),d=c.center().distance(e)>c.center().distance(t),u=d?e:t,h=d?t:e;return r?(o=ch.fromPolar(c.width+c.height,Cw[r],u),o=c.pointNearestToPoint(o).move(o,-1)):o=c.pointNearestToPoint(u).move(u,1),a=Aw(o,h,c),o.round().equals(a.round())?(a=ch.fromPolar(c.width+c.height,Fu(o.theta(u))+Math.PI/2,h),s=Aw(o,a=c.pointNearestToPoint(a).move(h,1).round(),c),l.points=d?[a,s,o]:[o,s,a]):l.points=d?[a,o]:[o,a],l.direction=kw(d?o:a,e),l}function zw(t,e,i){var n,r=Pw(i,e),o=Mw(i,e),a=function(t,e){return t.sourceAnchor?t.sourceAnchor:Pw(t,e).center()}(i,e),s=function(t,e){return t.targetAnchor?t.targetAnchor:Mw(t,e).center()}(i,e);r=r.union(_w(a)),o=o.union(_w(s)),(t=zy(t).map(ch)).unshift(a),t.push(s);for(var l=[],c=0,d=t.length-1;c<d;c++){var u=null,h=t[c],p=t[c+1],g=!!kw(h,p);if(0===c)c+1===d?r.intersect(o.clone().inflate(1))?u=Dw(h,p,r,o):g||(u=Ew(h,p,r,o)):r.containsPoint(p)?u=Dw(h,p,r,_w(p).moveAndExpand(Tw(e))):g||(u=Lw(h,p,r));else if(c+1===d){var f=g&&kw(p,h)===n;o.containsPoint(h)||f?u=Dw(h,p,_w(h).moveAndExpand(Tw(e)),o,n):g||(u=Ow(h,p,o,n))}else g||(u=Nw(h,p,n));u?(Array.prototype.push.apply(l,u.points),n=u.direction):n=kw(h,p),c+1<d&&l.push(p)}return l}var jw={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var t=this.step,e=this.cost();return[{offsetX:t,offsetY:0,cost:e},{offsetX:-t,offsetY:0,cost:e},{offsetX:0,offsetY:t,cost:e},{offsetX:0,offsetY:-t,cost:e}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var t=this.step;return{x:-t,y:-t,width:2*t,height:2*t}},isPointObstacle:null,fallbackRouter:function(t,e,i){if(!Ey(zw))throw new Error("Manhattan requires the orthogonal router as default fallback.");return zw(t,Cy({},jw,e),i)},fallbackRoute:function(t,e,i){return null},draggingRoute:null};function Rw(t){this.map={},this.options=t,this.mapGridSize=100}function Gw(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}function Bw(t,e){return e&&e.paddingBox?t.sourceBBox.clone().moveAndExpand(e.paddingBox):t.sourceBBox.clone()}function Uw(t,e){return e&&e.paddingBox?t.targetBBox.clone().moveAndExpand(e.paddingBox):t.targetBBox.clone()}function Zw(t,e){return t.sourceAnchor?t.sourceAnchor:Bw(t,e).center()}function $w(t,e,i,n,r){var o=360/i,a=t.theta(function(t,e,i,n){var r=n.step,o=e.x-t.x,a=e.y-t.y,s=o/i.x,l=a/i.y,c=s*r,d=l*r;return new ch(t.x+c,t.y+d)}(t,e,n,r)),s=Uu(a+o/2);return o*Math.floor(s/o)}function Fw(t,e){var i=Math.abs(t-e);return i>180?360-i:i}function Ww(t,e){if(!t)return e;var i=Math.abs(t),n=Math.round(i/e);return n?e+(i-n*e)/n:i}function Vw(t,e){return t.round(e)}function Yw(t,e,i){return Vw(function(t,e){var i=e.source,n=Zu(t.x-i.x,e.x)+i.x,r=Zu(t.y-i.y,e.y)+i.y;return new ch(n,r)}(t.clone(),e),i)}function Hw(t){return t.clone().toString()}function Xw(t){return new ch(0===t.x?0:Math.abs(t.x)/t.x,0===t.y?0:Math.abs(t.y)/t.y)}function Jw(t,e,i,n,r,o,a){for(var s,l=[],c=Xw(r.difference(i)),d=Hw(i),u=t[d];u;){var h=Xw((s=e[d]).difference(u));h.equals(c)||(l.unshift(s),c=h),u=t[d=Hw(u)]}var p=e[d];return Xw(p.difference(n)).equals(c)||l.unshift(p),l}function Qw(t,e){for(var i=1/0,n=0,r=e.length;n<r;n++){var o=t.manhattanDistance(e[n]);o<i&&(i=o)}return i}function Kw(t,e,i,n,r){var o=r.precision,a=r.directionMap,s=t.difference(e.center()),l=xy(a)?Object.keys(a):[],c=zy(i),d=l.reduce((function(i,r){if(c.includes(r)){for(var l,d=a[r],u=new ch(t.x+d.x*(Math.abs(s.x)+e.width),t.y+d.y*(Math.abs(s.y)+e.height)),h=new ph(t,u).intersect(e)||[],p=h.length,g=null,f=0;f<p;f++){var m=h[f],v=t.squaredDistance(m);(void 0===l||v>l)&&(l=v,g=m)}if(g){var b=Yw(g,n,o);e.containsPoint(b)&&(b=Yw(b.offset(d.x*n.x,d.y*n.y),n,o)),i.push(b)}}return i}),[]);return e.containsPoint(t)||d.push(Yw(t,n,o)),d}function qw(t,e,i,n){var r,o,a=n.precision;r=Vw(t instanceof _h?Zw(this,n).clone():t.clone(),a),o=Vw(e instanceof _h?function(t,e){return t.targetAnchor?t.targetAnchor:Uw(t,e).center()}(this,n).clone():e.clone(),a);var s,l,c,d,u,h,p,g=(s=n.step,c=o,{source:(l=r).clone(),x:Ww(c.x-l.x,s),y:Ww(c.y-l.y,s)});if(h=t instanceof _h?Kw(d=r,t,n.startDirections,g,n):[d=r],e instanceof _h?(u=o,p=Kw(o,e,n.endDirections,g,n)):p=[u=o],h=h.filter((t=>!i(t))),p=p.filter((t=>!i(t))),h.length>0&&p.length>0){for(var f=new Gw,m={},v={},b={},y=0,x=h.length;y<x;y++){var w=h[y],I=Hw(w);f.add(I,Qw(w,p)),m[I]=w,b[I]=0}var C,A,S=n.previousDirectionAngle,k=void 0===S,_=n.directions;!function(t,e,i){var n=i.step;zy(i.directions).forEach((function(t){t.gridOffsetX=t.offsetX/n*e.x,t.gridOffsetY=t.offsetY/n*e.y}))}(0,g,n);for(var T=_.length,P=zy(p).reduce((function(t,e){var i=Hw(e);return t.push(i),t}),[]),M=n.maximumLoops;!f.isEmpty()&&M>0;){var N,L=f.pop(),O=m[L],E=v[L],D=b[L],z=void 0===E,j=O.equals(d);N=z?k?j?null:$w(d,O,T,g,n):S:$w(E,O,T,g,n);var R=h.length===p.length;if(R)for(var G=0;G<h.length;G++)if(!h[G].equals(p[G])){R=!1;break}if(!(z&&R)&&P.indexOf(L)>=0)return n.previousDirectionAngle=N,Jw(v,m,O,d,u);for(y=0;y<T;y++){var B=(C=_[y]).angle;if(A=Fw(N,B),k&&j||!(A>n.maxAllowedDirectionChange)){var U=Yw(O.clone().offset(C.gridOffsetX,C.gridOffsetY),g,a),Z=Hw(U);if(!f.isClose(Z)&&!i(U)){if(P.indexOf(Z)>=0)if(!U.equals(u))if(Fw(B,$w(U,u,T,g,n))>n.maxAllowedDirectionChange)continue;var $=D+C.cost+(j?0:n.penalties[A]);(!f.isOpen(Z)||$<b[Z])&&(m[Z]=U,v[Z]=O,b[Z]=$,f.add(Z,$+Qw(U,p)))}}}M--}}return n.fallbackRoute.call(this,d,u,n)}function tI(t,e,i){!function(t){if(t.directions=Fy(t,"directions"),t.penalties=Fy(t,"penalties"),t.paddingBox=Fy(t,"paddingBox"),t.padding=Fy(t,"padding"),t.padding){var e=fx(t.padding);t.paddingBox={x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}zy(t.directions).forEach((function(t){var e=new ch(0,0),i=new ch(t.offsetX,t.offsetY);t.angle=Uu(e.theta(i))}))}(e),i.options.perpendicular=!!e.perpendicular;var n=Bw(i,e),r=Uw(i,e),o=Zw(i,e);let a;if("function"==typeof e.isPointObstacle)a=e.isPointObstacle;else{const t=new Rw(e);t.build(i.paper.model,i.model),a=e=>!t.isPointAccessible(e)}for(var s,l,c=zy(t).map(ch),d=[],u=o,h=0,p=c.length;h<=p;h++){var g=null;if(l=s||n,!(s=c[h]))if(s=r,(!i.model.get("source").id||!i.model.get("target").id)&&Ey(e.draggingRoute)){var f=l===n?o:l,m=s.origin();g=e.draggingRoute.call(i,f,m,e)}if(null===(g=g||qw.call(i,l,s,a,e)))return e.fallbackRouter(t,e,i);var v=g[0];v&&v.equals(u)&&g.shift(),u=g[g.length-1]||u,Array.prototype.push.apply(d,g)}return d}Rw.prototype.build=function(t,e){var i=this.options,n=zy(i.excludeEnds).reduce((function(i,n){var r=e.get(n);if(r){var o=t.getCell(r.id);o&&i.push(o)}return i}),[]),r=[],o=t.getCell(e.get("source").id);o&&(r=Zy(r,o.getAncestors().map((function(t){return t.id}))));var a=t.getCell(e.get("target").id);a&&(r=Zy(r,a.getAncestors().map((function(t){return t.id}))));var s=this.mapGridSize;return t.getElements().reduce((function(t,e){var o=zy(i.excludeTypes).includes(e.get("type")),a=n.find((function(t){return t.id===e.id})),l=r.includes(e.id);if(!(o||a||l))for(var c=e.getBBox().moveAndExpand(i.paddingBox),d=c.origin().snapToGrid(s),u=c.corner().snapToGrid(s),h=d.x;h<=u.x;h+=s)for(var p=d.y;p<=u.y;p+=s){var g=h+"@"+p;t[g]=t[g]||[],t[g].push(c)}return t}),this.map),this},Rw.prototype.isPointAccessible=function(t){var e=t.clone().snapToGrid(this.mapGridSize).toString();return zy(this.map[e]).every((function(e){return!e.containsPoint(t)}))},Gw.prototype.add=function(t,e){this.hash[t]?this.items.splice(this.items.indexOf(t),1):this.hash[t]=this.OPEN,this.values[t]=e;var i=Ty(this.items,t,function(t){return this.values[t]}.bind(this));this.items.splice(i,0,t)},Gw.prototype.remove=function(t){this.hash[t]=this.CLOSE},Gw.prototype.isOpen=function(t){return this.hash[t]===this.OPEN},Gw.prototype.isClose=function(t){return this.hash[t]===this.CLOSE},Gw.prototype.isEmpty=function(){return 0===this.items.length},Gw.prototype.pop=function(){var t=this.items.shift();return this.remove(t),t};const eI=function(t,e,i){return tI(t,Cy({},jw,e),i)};var iI={maxAllowedDirectionChange:45,diagonalCost:function(){var t=this.step;return Math.ceil(Math.sqrt(t*t<<1))},directions:function(){var t=this.step,e=this.cost(),i=this.diagonalCost();return[{offsetX:t,offsetY:0,cost:e},{offsetX:t,offsetY:t,cost:i},{offsetX:0,offsetY:t,cost:e},{offsetX:-t,offsetY:t,cost:i},{offsetX:-t,offsetY:0,cost:e},{offsetX:-t,offsetY:-t,cost:i},{offsetX:0,offsetY:-t,cost:e},{offsetX:t,offsetY:-t,cost:i}]},fallbackRoute:function(t,e,i){var n=t.theta(e),r=[],o={x:e.x,y:t.y},a={x:t.x,y:e.y};if(n%180>90){var s=o;o=a,a=s}var l=n%90<45?o:a,c=new ph(t,l),d=90*Math.ceil(n/90),u=ch.fromPolar(c.squaredLength(),Fu(d+135),l),h=new ph(e,u),p=c.intersection(h),g=p||e,f=p?g:t,m=360/i.directions.length,v=f.theta(e),b=Uu(v+m/2),y=m*Math.floor(b/m);return i.previousDirectionAngle=y,g&&r.push(g.round()),r.push(e),r}};const nI={AUTO:"auto",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",ANCHOR_SIDE:"anchor-side",MAGNET_SIDE:"magnet-side"},rI=[nI.LEFT,nI.RIGHT,nI.TOP,nI.BOTTOM],oI={[nI.LEFT]:nI.RIGHT,[nI.RIGHT]:nI.LEFT,[nI.TOP]:nI.BOTTOM,[nI.BOTTOM]:nI.TOP},aI=[nI.TOP,nI.BOTTOM],sI={0:nI.RIGHT,180:nI.LEFT,270:nI.TOP,90:nI.BOTTOM};function lI(t){return t.angle()}function cI(t){return new Lh(t).simplify({threshold:1}).points}function dI(t,e){const{point:i,x0:n,y0:r,view:o,bbox:a,direction:s}=t,{point:l,x0:c,y0:d,view:u,bbox:h,direction:p}=e;let g,f;if(o)g=o.model.isLink()?hI(l,i,o):s===nI.ANCHOR_SIDE?a.sideNearestToPoint(i):s===nI.MAGNET_SIDE?o.model.getBBox().sideNearestToPoint(i):s;else{const t=new _h(n,r,0,0);g=rI.includes(s)?s:t.sideNearestToPoint(l)}if(u)f=u.model.isLink()?hI(i,l,u):p===nI.ANCHOR_SIDE?h.sideNearestToPoint(l):p===nI.MAGNET_SIDE?u.model.getBBox().sideNearestToPoint(l):p;else{const t=new _h(c,d,0,0);f=rI.includes(p)?p:t.sideNearestToPoint(i)}return[g,f]}function uI(t,e,i){const[n]=dI(t,e);switch(n){case nI.TOP:return function(t,e,i){const{x0:n,y0:r,width:o,height:a,point:s,margin:l}=t,c=r+a,d=n-l,u=n+o+l,h=r-l,{x:p}=s,{x0:g,y0:f}=e;return g===p&&f<r?nI.BOTTOM:g<p&&f<h?nI.RIGHT:g>p&&f<h?nI.LEFT:g<d&&f>=r||g>u&&f>=r?nI.TOP:g>=d&&g<=p&&f>c||g<=u&&g>=p&&f>c?i.point.x<g?nI.RIGHT:nI.LEFT:nI.TOP}(t,e,i);case nI.RIGHT:return function(t,e,i){const{y0:n,x0:r,width:o,height:a,point:s,margin:l}=t,c=r+o,d=c+l,u=n-l,h=n+a+l,{x:p,y:g}=s,{x0:f,y0:m}=e;return f>p&&m===g?nI.LEFT:f>=d&&m<g?nI.BOTTOM:f>=d&&m>g?nI.TOP:f<=c&&m<=u||f<=c&&m>=h?nI.RIGHT:f<r&&m>=u&&m<=g||f<r&&m<=h&&m>=g?i.point.y<m?nI.BOTTOM:nI.TOP:nI.RIGHT}(t,e,i);case nI.BOTTOM:return function(t,e,i){const{x0:n,y0:r,width:o,height:a,point:s,margin:l}=t,c=r+a,d=n-l,u=n+o+l,h=c+l,{x:p}=s,{x0:g,y0:f}=e;return g===p&&f>c?nI.TOP:g<p&&f>h?nI.RIGHT:g>p&&f>h?nI.LEFT:g<d&&f<=c||g>u&&f<=c?nI.BOTTOM:g>=d&&g<=p&&f<r||g<=u&&g>=p&&f<r?i.point.x<g?nI.RIGHT:nI.LEFT:nI.BOTTOM}(t,e,i);case nI.LEFT:return function(t,e,i){const{y0:n,x0:r,width:o,height:a,point:s,margin:l}=t,c=r+o,d=r-l,u=n-l,h=n+a+l,{x:p,y:g}=s,{x0:f,y0:m}=e;return f<p&&m===g?nI.RIGHT:f<=d&&m<g?nI.BOTTOM:f<=d&&m>g?nI.TOP:f>=r&&m<=u||f>=r&&m>=h?nI.LEFT:f>c&&m>=u&&m<=g||f>c&&m<=h&&m>=g?i.point.y<m?nI.BOTTOM:nI.TOP:nI.LEFT}(t,e,i)}}function hI(t,e,i){const n=i.getTangentAtLength(i.getClosestPointLength(e)),r=90*Math.round(lI(n)/90);if(r%180==0&&t.y===e.y)return t.x<e.x?nI.LEFT:nI.RIGHT;if(t.x===e.x)return t.y<e.y?nI.TOP:nI.BOTTOM;switch(r){case 0:case 180:case 360:return t.y<e.y?nI.TOP:nI.BOTTOM;case 90:case 270:return t.x<e.x?nI.LEFT:nI.RIGHT}}function pI(t,e,i,n,r,o,a){n===nI.AUTO&&(n=r?nI.MAGNET_SIDE:nI.ANCHOR_SIDE);const s=t&&t.model.isElement(),{x:l,y:c,width:d=0,height:u=0}=s?_h.fromRectUnion(i,t.model.getBBox()):o;return{point:e,x0:l,y0:c,view:t,bbox:i,width:d,height:u,direction:n,margin:s?a:0}}function gI({x:t,y:e}){const i=new ch(t,e);return{point:i,x0:i.x,y0:i.y,view:null,bbox:new _h(t,e,0,0),width:0,height:0,direction:null,margin:0}}function fI(t,e,i){const n=e.point.clone(),{x0:r,y0:o,width:a,height:s}=e;switch(t){case"left":n.x=r-i;break;case"right":n.x=r+a+i;break;case"top":n.y=o-i;break;case"bottom":n.y=o+s+i}return n}function mI(t,e){const{point:i,x0:n,y0:r,view:o,width:a,height:s,margin:l}=t,{point:c,x0:d,y0:u,width:h,height:p,margin:g}=e,f=d+h,m=u+p,v=n+a,b=r+s,y=o&&o.model.isElement(),x=n-l,w=v+l,I=r-l,C=b+l,A=d-g,S=f+g,k=u-g,_=m+g,[T,P]=dI(t,e),M=fI(T,{point:i,x0:n,y0:r,width:a,height:s},l),N=fI(P,{point:c,x0:d,y0:u,width:h,height:p},g),{x:L,y:O}=M,{x:E,y:D}=N,z=(u+m)/2,j=((n+v)/2<(d+f)/2?v+d:f+n)/2,R=((r+b)/2<z?b+u:m+r)/2;if("left"===T&&"right"===P){if(x<=S){let t=R;return v<=d&&(m>=I&&D<O?t=Math.min(k,I):u<=C&&D>=O&&(t=Math.max(_,C))),[{x:L,y:O},{x:L,y:t},{x:E,y:t},{x:E,y:D}]}const t=(L+E)/2;return[{x:t,y:O},{x:t,y:D}]}if("right"===T&&"left"===P){if(w>=A){let t=R;return L>f&&(m>=I&&D<O?t=Math.min(k,I):u<=C&&D>=O&&(t=Math.max(_,C))),[{x:L,y:O},{x:L,y:t},{x:E,y:t},{x:E,y:D}]}const t=(L+E)/2;return[{x:t,y:O},{x:t,y:D}]}if("top"===T&&"bottom"===P){if(O<D){let t=j,e=O;return O<u&&(f>=x&&E<L?t=Math.min(A,x):d<=w&&E>=L&&(t=Math.max(S,w))),[{x:L,y:e},{x:t,y:e},{x:t,y:D},{x:E,y:D}]}const t=(O+D)/2;return[{x:L,y:t},{x:E,y:t}]}if("bottom"===T&&"top"===P){if(O-l>D){let t=j,e=O;return O>m&&(f>=x&&E<L?t=Math.min(A,x):d<=w&&E>=L&&(t=Math.max(S,w))),[{x:L,y:e},{x:t,y:e},{x:t,y:D},{x:E,y:D}]}const t=(O+D)/2;return[{x:L,y:t},{x:E,y:t}]}if("top"===T&&"top"===P){let t,e=Math.min((b+u)/2,D),i=Math.min((r+m)/2,O);if(D<O){if(L>=S||L<=A)return[{x:L,y:Math.min(O,D)},{x:E,y:Math.min(O,D)}];t=E>L?Math.min(L,A):Math.max(L,S)}else{if(E>=w||E<=x)return[{x:L,y:Math.min(O,D)},{x:E,y:Math.min(O,D)}];t=E>=L?Math.max(E,w):Math.min(E,x)}return[{x:L,y:i},{x:t,y:i},{x:t,y:e},{x:E,y:e}]}if("bottom"===T&&"bottom"===P){let t,e=Math.max((r+m)/2,D),i=Math.max((b+u)/2,O);if(D>O){if(L>=S||L<=A)return[{x:L,y:Math.max(O,D)},{x:E,y:Math.max(O,D)}];t=E>L?Math.min(L,A):Math.max(L,S)}else{if(E>=w||E<=x)return[{x:L,y:Math.max(O,D)},{x:E,y:Math.max(O,D)}];t=E>=L?Math.max(E,w):Math.min(E,x)}return[{x:L,y:i},{x:t,y:i},{x:t,y:e},{x:E,y:e}]}if("left"===T&&"left"===P){let t,e=Math.min((v+d)/2,E),i=Math.min((n+f)/2,L);return t=E>L?D<=O?Math.min(I,D):Math.max(C,D):D>=O?Math.min(k,O):Math.max(_,O),[{x:i,y:O},{x:i,y:t},{x:e,y:t},{x:e,y:D}]}if("right"===T&&"right"===P){let t,e=Math.max((n+f)/2,E),i=Math.max((v+d)/2,L);return t=E<L?D<=O?Math.min(I,D):Math.max(C,D):D>=O?Math.min(k,O):Math.max(_,O),[{x:i,y:O},{x:i,y:t},{x:e,y:t},{x:e,y:D}]}if("top"===T&&"right"===P){if(O>D){if(L<E){let t=R;return(t>z||!y)&&t<_&&L<d&&(t=k),[{x:L,y:t},{x:E,y:t},{x:E,y:D}]}return[{x:L,y:D}]}const t=Math.max(j,S);if(E<L&&D>r&&D<b)return[{x:L,y:O},{x:t,y:O},{x:t,y:D}];if(t>x&&D>r||d>v){const t=Math.min(r-l,u-g),e=Math.max(v+l,f+g);return[{x:L,y:t},{x:e,y:t},{x:e,y:D}]}return[{x:L,y:O},{x:Math.max(t,E),y:O},{x:Math.max(t,E),y:D}]}if("top"===T&&"left"===P){if(O>D){if(L>E){let t=R;return(t>z||!y)&&t<_&&L>f&&(t=k),[{x:L,y:t},{x:E,y:t},{x:E,y:D}]}return[{x:L,y:D}]}const t=Math.min(A,j);if(L<E&&b>=D)return[{x:L,y:O},{x:t,y:O},{x:t,y:D}];if(t<w&&O<m){const t=Math.min(I,k),e=Math.min(x,A);return[{x:L,y:t},{x:e,y:t},{x:e,y:D}]}return[{x:L,y:O},{x:t,y:O},{x:t,y:D}]}if("bottom"===T&&"right"===P){if(O<D){if(L<E){let t=R;return(t<z||!y)&&t>k&&L<d&&(t=_),[{x:L,y:t},{x:E,y:t},{x:E,y:D}]}return[{x:L,y:D}]}if(n<E){const t=Math.max(C,_),e=Math.max(w,S);return[{x:L,y:t},{x:e,y:t},{x:e,y:D}]}return[{x:L,y:O},{x:j,y:O},{x:j,y:D}]}if("bottom"===T&&"left"===P){if(O<D){if(L>E){let t=R;return(t<z||!y)&&t>k&&L>f&&(t=_),[{x:L,y:t},{x:E,y:t},{x:E,y:D}]}return[{x:L,y:D}]}if(v>E){const t=Math.max(C,_),e=Math.min(x,A);return[{x:L,y:t},{x:e,y:t},{x:e,y:D}]}return[{x:L,y:O},{x:j,y:O},{x:j,y:D}]}if("left"===T&&"bottom"===P){if(L>=E&&O>=_)return[{x:E,y:O}];if(L>=f&&O<D){return[{x:j,y:O},{x:j,y:D},{x:E,y:D}]}if(E<v&&m<=r){return[{x:L,y:O},{x:L,y:R},{x:E,y:R}]}const t=Math.min(A,L),e=Math.max(C,_);return[{x:t,y:O},{x:t,y:e},{x:E,y:e}]}if("left"===T&&"top"===P){if(L>E&&O<k)return[{x:E,y:O}];if(L>=f&&O>D){return[{x:j,y:O},{x:j,y:D},{x:E,y:D}]}if(E<=v&&D>O){return[{x:L,y:O},{x:L,y:R},{x:E,y:R}]}const t=D<O?Math.min(x,A):x,e=Math.min(I,k);return[{x:t,y:O},{x:t,y:e},{x:E,y:e}]}if("right"===T&&"top"===P){if(L<=E&&O<k)return[{x:E,y:O}];if(v<d&&O>D){return[{x:j,y:O},{x:j,y:D},{x:E,y:D}]}if(E<L&&u>b){return[{x:L,y:O},{x:L,y:R},{x:E,y:R}]}const t=Math.max(w,S),e=Math.min(I,k);return[{x:t,y:O},{x:t,y:e},{x:E,y:e}]}if("right"===T&&"bottom"===P){if(L<=E&&O>=_)return[{x:E,y:O}];if(L<=A&&O<D){return[{x:j,y:O},{x:j,y:D},{x:E,y:D}]}if(E>n&&m<r){return[{x:L,y:O},{x:L,y:R},{x:E,y:R}]}const t=Math.max(S,L),e=Math.max(C,_);return[{x:t,y:O},{x:t,y:e},{x:E,y:e}]}}function vI(t,e,i){const{sourceDirection:n=nI.AUTO,targetDirection:r=nI.AUTO}=e,o=e.margin||20,a=e.useVertices||!1,s=!!i.model.source().port,l=pI(i.sourceView,i.sourceAnchor,i.sourceBBox,n,s,i.sourceAnchor,o),c=!!i.model.target().port,d=pI(i.targetView,i.targetAnchor,i.targetBBox,r,c,i.targetAnchor,o);let u=[];if(!a||0===t.length)return cI(mI(l,d));const h=t.map((t=>gI(t))),[p]=h;if(l.view&&l.view.model.isElement()&&l.view.model.getBBox().inflate(o).containsPoint(p.point)){const[t]=dI(l,p),e=t,i=gI(l.point);i.margin=o,i.direction=t,p.direction=e,u.push(...mI(i,p),p.point)}else{const t=uI(l,p,h[1]||d);p.direction=t,u.push(...mI(l,p),p.point)}for(let t=0;t<h.length-1;t++){const e=h[t],i=h[t+1],n=lI(new ph(e.point,i.point));if(n%90==0){const t=sI[n],r=oI[t];if(t!==e.direction)u.push(e.point,i.point),i.direction=r;else{const t=Uu(n-90);let r=0,a=0;90===t?a=-o:180===t?r=-o:270===t?a=o:0===t&&(r=o);const s={x:e.point.x+r,y:e.point.y+a},l={x:i.point.x+r,y:i.point.y+a},c=new ph(i.point,l);i.direction=sI[lI(c)],u.push(e.point,s,l,i.point)}continue}const[r,a]=bI(e,i);e.direction=r,i.direction=a,u.push(...mI(e,i),i.point)}const g=h[h.length-1];if(d.view&&d.view.model.isElement())if(d.view.model.getBBox().inflate(o).containsPoint(g.point)){const[t]=bI(g,d),e=gI(d.point),[,i]=dI(g,d);e.margin=o,e.direction=i,g.direction=t,u.push(...mI(g,e))}else{const t=cI(u),e=new ph(t[t.length-2],g.point),i=sI[Math.round(lI(e))];g.direction=i;let n=mI(g,d);const[r,a]=cI([...n,d.point]),s=new ph(r,a),l=Math.round(lI(s)),c=sI[l];c!==i&&i===oI[c]&&(g.margin=o,n=mI(g,d)),u.push(...n)}else{const[t]=bI(g,d);g.direction=t,u.push(...mI(g,d))}return cI(u)}function bI(t,e){const i=t.direction,n=aI.includes(i);let r=t.direction,o=e.direction;if(n){const n=t.point.y>e.point.y,a=e.point.x-t.point.x;i===nI.BOTTOM?(r=n?oI[i]:a>=0?nI.RIGHT:nI.LEFT,a>0?o=n?nI.LEFT:nI.TOP:a<0&&(o=n?nI.RIGHT:nI.TOP)):(r=n?a>=0?nI.RIGHT:nI.LEFT:oI[i],a>0?o=n?nI.BOTTOM:nI.LEFT:a<0&&(o=n?nI.BOTTOM:nI.RIGHT))}else{const n=t.point.x>e.point.x,a=e.point.y-t.point.y;i===nI.RIGHT?(r=n?oI[i]:a>=0?nI.BOTTOM:nI.TOP,a>0?o=n?nI.TOP:nI.LEFT:a<0&&(o=n?nI.BOTTOM:nI.LEFT)):(r=n?a>=0?nI.BOTTOM:nI.TOP:oI[i],a>0?o=n?nI.RIGHT:nI.TOP:a<0&&(o=n?nI.RIGHT:nI.BOTTOM))}return[r,o]}vI.Directions=nI;const yI=vI;var xI=Object.freeze({__proto__:null,normal:function(t,e,i){return t},oneSide:function(t,e,i){var n,r,o,a=e.side||"bottom",s=fx(e.padding||40),l=i.sourceBBox,c=i.targetBBox,d=l.center(),u=c.center();switch(a){case"bottom":o=1,n="y",r="height";break;case"top":o=-1,n="y",r="height";break;case"left":o=-1,n="x",r="width";break;case"right":o=1,n="x",r="width";break;default:throw new Error("Router: invalid side")}return d[n]+=o*(l[r]/2+s[a]),u[n]+=o*(c[r]/2+s[a]),o*(d[n]-u[n])>0?u[n]=d[n]:d[n]=u[n],[d].concat(t,u)},orthogonal:zw,manhattan:eI,metro:function(t,e,i){if(!Ey(eI))throw new Error("Metro requires the manhattan router.");return eI(t,Cy({},iI,e),i)},rightAngle:yI});const wI={POINT:"point",CUBIC:"cubic",LINE:"line",GAP:"gap"},II=Object.values(wI),CI=10,AI=1,SI=function(t,e,i=[],n={}){const{cornerType:r=wI.POINT,cornerRadius:o=CI,cornerPreserveAspectRatio:a=!1,precision:s=AI,raw:l=!1}=n;if(-1===II.indexOf(r))throw new Error("Invalid `cornerType` provided to `straight` connector.");let c;if(r!==wI.POINT&&o){let n;c=new Bh,c.appendSegment(Bh.createSegment("M",t));const l=i.length;for(let d=0;d<l;d++){const l=new ch(i[d]),u=i[d-1]||t,h=i[d+1]||e,p=n||l.distance(u)/2;let g,f;n=l.distance(h)/2,a?g=f=-Math.min(o,p,n):(g=-Math.min(o,p),f=-Math.min(o,n));const m=l.clone().move(u,g).round(s),v=l.clone().move(h,f).round(s);switch(c.appendSegment(Bh.createSegment("L",m)),r){case wI.CUBIC:{const t=1/3,e=2/3,i=new ch(t*m.x+e*l.x,e*l.y+t*m.y),n=new ch(t*v.x+e*l.x,e*l.y+t*v.y);c.appendSegment(Bh.createSegment("C",i,n,v));break}case wI.LINE:c.appendSegment(Bh.createSegment("L",v));break;case wI.GAP:c.appendSegment(Bh.createSegment("M",v))}}c.appendSegment(Bh.createSegment("L",e))}else{const n=[t].concat(i).concat([e]),r=new Lh(n);c=new Bh(r)}return l?c:c.serialize()};var kI=["arc","gap","cubic"],_I=["smooth"],TI=1/3,PI=2/3;function MI(t,e){let{x:i,y:n}=t,{x:r,y:o}=e;if(i>r){let t=i;i=r,r=t,t=n,n=o,o=t}if(n>o){let t=i;i=r,r=t,t=n,n=o,o=t}return[new ch(i,n),new ch(r,o)]}function NI(t,e,i){var n=[].concat(t,i,e);return n.reduce((function(t,e,i){var r=n[i+1];return null!=r&&(t[i]=gh(e,r)),t}),[])}function LI(t,e){return gh(t,e).squaredLength()}function OI(t,e,i,n){var r,o=new Bh;return r=Bh.createSegment("M",t[0].start),o.appendSegment(r),zy(t).forEach((function(a,s){if(a.isJump){var l,c,d,u;if("arc"===i){l=-90,c=a.start.difference(a.end);var h=Number(c.x<0||0===c.x&&c.y<0);h&&(l+=180);var p,g=a.midpoint(),f=new ph(g,a.end).rotate(g,l);d=(p=new ph(a.start,g)).pointAt(2/3).rotate(a.start,l),u=f.pointAt(1/3).rotate(f.end,-l),r=Bh.createSegment("C",d,u,f.end),o.appendSegment(r),p=new ph(g,a.end),d=f.pointAt(1/3).rotate(f.end,l),u=p.pointAt(1/3).rotate(a.end,-l),r=Bh.createSegment("C",d,u,a.end),o.appendSegment(r)}else if("gap"===i)r=Bh.createSegment("M",a.end),o.appendSegment(r);else if("cubic"===i){l=a.start.theta(a.end);var m=.6*e,v=1.35*e;c=a.start.difference(a.end),(h=Number(c.x<0||0===c.x&&c.y<0))&&(v*=-1),d=ch(a.start.x+m,a.start.y+v).rotate(a.start,l),u=ch(a.end.x-m,a.end.y+v).rotate(a.end,l),r=Bh.createSegment("C",d,u,a.end),o.appendSegment(r)}}else{var b=t[s+1];0==n||!b||b.isJump?(r=Bh.createSegment("L",a.end),o.appendSegment(r)):function(t,e,i,n,r){var o,a=i.distance(n)/2,s=i.distance(r)/2,l=-Math.min(t,a),c=-Math.min(t,s),d=i.clone().move(n,l).round(),u=i.clone().move(r,c).round(),h=new ch(TI*d.x+PI*i.x,PI*i.y+TI*d.y),p=new ch(TI*u.x+PI*i.x,PI*i.y+TI*u.y);o=Bh.createSegment("L",d),e.appendSegment(o),o=Bh.createSegment("C",h,p,u),e.appendSegment(o)}(n,o,a.end,a.start,b.end)}})),o}const EI=10,DI={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},zI={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},jI=function(t,e,i=[],n={},r){const o=Boolean(n.raw),{direction:a=DI.AUTO,precision:s=3}=n,l={coeff:n.distanceCoefficient||.6,angleTangentCoefficient:n.angleTangentCoefficient||80,tau:n.tension||.5,sourceTangent:n.sourceTangent?new ch(n.sourceTangent):null,targetTangent:n.targetTangent?new ch(n.targetTangent):null,rotate:Boolean(n.rotate)};"string"==typeof n.sourceDirection?l.sourceDirection=n.sourceDirection:"number"==typeof n.sourceDirection?l.sourceDirection=new ch(1,0).rotate(null,n.sourceDirection):l.sourceDirection=n.sourceDirection?new ch(n.sourceDirection).normalize():null,"string"==typeof n.targetDirection?l.targetDirection=n.targetDirection:"number"==typeof n.targetDirection?l.targetDirection=new ch(1,0).rotate(null,n.targetDirection):l.targetDirection=n.targetDirection?new ch(n.targetDirection).normalize():null;const c=[t,...i,e].map((t=>new ch(t)));let d,u;if(l.sourceTangent)d=l.sourceTangent;else{const t=function(t,e,i,n){if(n.sourceDirection)switch(n.sourceDirection){case zI.UP:return new ch(0,-1);case zI.DOWN:return new ch(0,1);case zI.LEFT:return new ch(-1,0);case zI.RIGHT:return new ch(1,0);case zI.AUTO:return RI(t,e,n);case zI.CLOSEST_POINT:return BI(t,e);case zI.OUTWARDS:return ZI(t,e);default:return n.sourceDirection}switch(i){case DI.HORIZONTAL:return function(t,e,i){const{sourceBBox:n}=t;let r,o,a;if(t.sourceView)if(o=t.sourceView.model.angle(),i.rotate&&o){const i=t.sourceView.getNodeUnrotatedBBox(t.sourceView.el),a=e[0].clone();a.rotate(n.center(),o),r=i.sideNearestToPoint(a)}else r=n.sideNearestToPoint(e[0]);else r=n.x>e[1].x?"right":"left";if("left"===r)a=new ch(-1,0);else a=new ch(1,0);i.rotate&&o&&a.rotate(null,-o);return a}(t,e,n);case DI.VERTICAL:return function(t,e,i){const{sourceBBox:n}=t;let r,o,a;if(t.sourceView)if(o=t.sourceView.model.angle(),i.rotate&&o){const i=t.sourceView.getNodeUnrotatedBBox(t.sourceView.el),a=e[0].clone();a.rotate(n.center(),o),r=i.sideNearestToPoint(a)}else r=n.sideNearestToPoint(e[0]);else r=n.y>e[1].y?"bottom":"top";if("top"===r)a=new ch(0,-1);else a=new ch(0,1);i.rotate&&o&&a.rotate(null,-o);return a}(t,e,n);case DI.CLOSEST_POINT:return BI(t,e);case DI.OUTWARDS:return ZI(t,e);case DI.AUTO:default:return RI(t,e,n)}}(r,c,a,l),e=c[0].distance(c[1])*l.coeff,i=WI(t,c[1].difference(c[0]).normalize());if(i>Math.PI/4){const n=e+(i-Math.PI/4)*l.angleTangentCoefficient;d=t.clone().scale(n,n)}else d=t.clone().scale(e,e)}if(l.targetTangent)u=l.targetTangent;else{const t=function(t,e,i,n){if(n.targetDirection)switch(n.targetDirection){case zI.UP:return new ch(0,-1);case zI.DOWN:return new ch(0,1);case zI.LEFT:return new ch(-1,0);case zI.RIGHT:return new ch(1,0);case zI.AUTO:return GI(t,e,n);case zI.CLOSEST_POINT:return UI(t,e);case zI.OUTWARDS:return $I(t,e);default:return n.targetDirection}switch(i){case DI.HORIZONTAL:return function(t,e,i){const{targetBBox:n}=t;let r,o,a;if(t.targetView)if(o=t.targetView.model.angle(),i.rotate&&o){const i=t.targetView.getNodeUnrotatedBBox(t.targetView.el),a=e[e.length-1].clone();a.rotate(n.center(),o),r=i.sideNearestToPoint(a)}else r=n.sideNearestToPoint(e[e.length-1]);else r=n.x>e[e.length-2].x?"left":"right";if("left"===r)a=new ch(-1,0);else a=new ch(1,0);i.rotate&&o&&a.rotate(null,-o);return a}(t,e,n);case DI.VERTICAL:return function(t,e,i){const{targetBBox:n}=t;let r,o,a;if(t.targetView)if(o=t.targetView.model.angle(),i.rotate&&o){const i=t.targetView.getNodeUnrotatedBBox(t.targetView.el),a=e[e.length-1].clone();a.rotate(n.center(),o),r=i.sideNearestToPoint(a)}else r=n.sideNearestToPoint(e[e.length-1]);else r=n.y>e[e.length-2].y?"top":"bottom";if("top"===r)a=new ch(0,-1);else a=new ch(0,1);i.rotate&&o&&a.rotate(null,-o);return a}(t,e,n);case DI.CLOSEST_POINT:return UI(t,e);case DI.OUTWARDS:return $I(t,e);case DI.AUTO:default:return GI(t,e,n)}}(r,c,a,l),e=c.length-1,i=c[e-1].distance(c[e])*l.coeff,n=WI(t,c[e-1].difference(c[e]).normalize());if(n>Math.PI/4){const e=i+(n-Math.PI/4)*l.angleTangentCoefficient;u=t.clone().scale(e,e)}else u=t.clone().scale(i,i)}const h=function(t,e,i,n){const{tau:r,coeff:o}=n,a=[],s=[],l=[],c=t.length-1;for(let e=0;e<c;e++)a[e]=t[e].distance(t[e+1]);s[0]=e,s[c]=i;for(let e=1;e<c;e++){let i,n;i=1===e?t[e-1].clone().offset(s[e-1].x,s[e-1].y):t[e-1].clone(),n=e===c-1?t[e+1].clone().offset(s[e+1].x,s[e+1].y):t[e+1].clone();const r=i.difference(t[e]).normalize(),l=n.difference(t[e]).normalize(),d=WI(r,l);let u,h=(Math.PI-d)/2;const p=VI(r,l);let g;g=VI(t[e].difference(t[e+1]),t[e].difference(t[e-1])),p<0&&(h=-h),d<Math.PI/2&&(h<0&&g<0||h>0&&g>0)&&(h-=Math.PI),u=l.clone(),FI(u,h);const f=u.clone(),m=u.clone(),v=a[e-1]*o,b=a[e]*o;f.scale(v,v),m.scale(b,b),s[e]=[f,m]}for(let e=0;e<c;e++){let i,n;i=0===e?t[e+1].difference(s[e].x/r,s[e].y/r):t[e+1].difference(s[e][1].x/r,s[e][1].y/r),n=e===c-1?t[e].clone().offset(s[e+1].x/r,s[e+1].y/r):t[e].difference(s[e+1][0].x/r,s[e+1][0].y/r),l[e]=[i,t[e],t[e+1],n]}return l}(c,d,u,l),p=h.map((t=>function(t,e){const{tau:i}=e,n=new ch;n.x=t[1].x+(t[2].x-t[0].x)/(6*i),n.y=t[1].y+(t[2].y-t[0].y)/(6*i);const r=new ch;return r.x=t[2].x+(t[3].x-t[1].x)/(6*i),r.y=t[2].y+(t[3].y-t[1].y)/(6*i),new Rh(t[1],n,r,t[2])}(t,l))),g=new Bh(p).round(s);return o?g:g.serialize()};function RI(t,e,i){const{sourceBBox:n}=t;let r,o,a;if(t.sourceView)if(o=t.sourceView.model.angle(),i.rotate&&o){const i=t.sourceView.getNodeUnrotatedBBox(t.sourceView.el),a=e[0].clone();a.rotate(n.center(),o),r=i.sideNearestToPoint(a)}else r=n.sideNearestToPoint(e[0]);else r=n.sideNearestToPoint(e[1]);switch(r){case"top":a=new ch(0,-1);break;case"bottom":a=new ch(0,1);break;case"right":a=new ch(1,0);break;case"left":a=new ch(-1,0)}return i.rotate&&o&&a.rotate(null,-o),a}function GI(t,e,i){const{targetBBox:n}=t;let r,o,a;if(t.targetView)if(o=t.targetView.model.angle(),i.rotate&&o){const i=t.targetView.getNodeUnrotatedBBox(t.targetView.el),a=e[e.length-1].clone();a.rotate(n.center(),o),r=i.sideNearestToPoint(a)}else r=n.sideNearestToPoint(e[e.length-1]);else r=n.sideNearestToPoint(e[e.length-2]);switch(r){case"top":a=new ch(0,-1);break;case"bottom":a=new ch(0,1);break;case"right":a=new ch(1,0);break;case"left":a=new ch(-1,0)}return i.rotate&&o&&a.rotate(null,-o),a}function BI(t,e,i){return e[1].difference(e[0]).normalize()}function UI(t,e,i){const n=e.length-1;return e[n-1].difference(e[n]).normalize()}function ZI(t,e,i){const{sourceBBox:n}=t,r=n.center();return e[0].difference(r).normalize()}function $I(t,e,i){const{targetBBox:n}=t,r=n.center();return e[e.length-1].difference(r).normalize()}function FI(t,e){const i=Math.cos(e),n=Math.sin(e),r=i*t.x-n*t.y,o=n*t.x+i*t.y;t.x=r,t.y=o}function WI(t,e){let i=t.dot(e)/(t.magnitude()*e.magnitude());return i<-1&&(i=-1),i>1&&(i=1),Math.acos(i)}function VI(t,e){return t.x*e.y-t.y*e.x}jI.Directions=DI,jI.TangentDirections=zI;var YI=Object.freeze({__proto__:null,straight:SI,jumpover:function(t,e,i,n){!function(t){var e=t.paper,i=e._jumpOverUpdateList;if(null==i){i=e._jumpOverUpdateList=[];var n=e.model;n.on("batch:stop",(function(){this.hasActiveBatch()||function(t){for(var e=t._jumpOverUpdateList,i=0;i<e.length;i++){const t=e[i],n=t.getFlag(t.constructor.Flags.CONNECTOR);t.requestUpdate(n)}}(e)})),n.on("reset",(function(){i=e._jumpOverUpdateList=[]}))}i.indexOf(t)<0&&(i.push(t),t.listenToOnce(t.model,"change:connector remove",(function(){i.splice(i.indexOf(t),1)})))}(this);var r=n.raw,o=n.size||5,a=n.jump&&(""+n.jump).toLowerCase(),s=n.radius||0,l=n.ignoreConnectors||_I;-1===kI.indexOf(a)&&(a=kI[0]);var c=this.paper,d=c.model.getLinks();if(1===d.length)return OI(NI(t,e,i),o,a,s);var u=this.model,h=d.indexOf(u),p=c.options.defaultConnector||{},g=d.filter((function(t,e){var i=t.get("connector")||p;return!zy(l).includes(i.name)&&(!(e>h)||"jumpover"!==i.name)})),f=g.map((function(t){return c.findViewByModel(t)})),m=NI(t,e,i),v=f.map((function(t){return null==t?[]:t===this?m:NI(t.sourcePoint,t.targetPoint,t.route)}),this),b=m.reduce((function(t,e){var i=g.reduce((function(t,i,n){if(i!==u){const i=v[n].slice(),r=i.findIndex((t=>function(t,e){const[{x:i,y:n},{x:r,y:o}]=MI(t.start,t.end),[{x:a,y:s},{x:l,y:c}]=MI(e.start,e.end);return i<=l&&a<=r&&n<=c&&s<=o}(e,t)));r>-1&&e.containsPoint(i[r].end)&&i.splice(r+1,1);const o=function(t,e){return zy(e).reduce((function(e,i){var n=t.intersection(i);return n&&e.push(n),e}),[])}(e,i);t.push.apply(t,o)}return t}),[]).sort((function(t,i){return LI(e.start,t)-LI(e.start,i)}));return i.length>0?t.push.apply(t,function(t,e,i){return e.reduce((function(n,r,o){if(!0===r.skip)return n;var a=n.pop()||t,s=dh(r).move(a.start,-i),l=dh(r).move(a.start,+i),c=e[o+1];if(null!=c){var d=l.distance(c);d<=i&&(l=c.move(a.start,d),c.skip=!0)}else if(s.distance(a.end)<2*i+1)return n.push(a),n;if(l.distance(a.start)<2*i+1)return n.push(a),n;var u=gh(s,l);return u.isJump=!0,n.push(gh(a.start,s),u,gh(l,a.end)),n}),[])}(e,i,o)):t.push(e),t}),[]),y=OI(b,o,a,s);return r?y:y.serialize()},normal:function(t,e,i=[],n={}){const{raw:r}=n;return SI(t,e,i,{cornerType:"point",raw:r})},rounded:function(t,e,i=[],n={}){const{radius:r=EI,raw:o}=n;return SI(t,e,i,{cornerType:"cubic",cornerRadius:r,precision:0,raw:o})},smooth:function(t,e,i,n){var r,o=n&&n.raw;if(i&&0!==i.length){var a=[t].concat(i).concat([e]),s=Rh.throughPoints(a);r=new Bh(s)}else{var l;if(r=new Bh,l=Bh.createSegment("M",t),r.appendSegment(l),Math.abs(t.x-e.x)>=Math.abs(t.y-e.y)){var c=(t.x+e.x)/2;l=Bh.createSegment("C",c,t.y,c,e.y,e.x,e.y),r.appendSegment(l)}else{var d=(t.y+e.y)/2;l=Bh.createSegment("C",t.x,d,e.x,d,e.x,e.y),r.appendSegment(l)}}return o?r:r.serialize()},curve:jI});const HI={TOOLS:mw.Flags.TOOLS,RENDER:"RENDER",UPDATE:"UPDATE",LEGACY_TOOLS:"LEGACY_TOOLS",LABELS:"LABELS",VERTICES:"VERTICES",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},XI=mw.extend({className:function(){var t=mw.prototype.className.apply(this).split(" ");return t.push("link"),t.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){mw.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[HI.RENDER],attrs:[HI.UPDATE],router:[HI.UPDATE],connector:[HI.CONNECTOR],smooth:[HI.UPDATE],manhattan:[HI.UPDATE],toolMarkup:[HI.LEGACY_TOOLS],labels:[HI.LABELS],labelMarkup:[HI.LABELS],vertices:[HI.VERTICES,HI.UPDATE],vertexMarkup:[HI.VERTICES],source:[HI.SOURCE,HI.UPDATE],target:[HI.TARGET,HI.UPDATE]},initFlag:[HI.RENDER,HI.SOURCE,HI.TARGET,HI.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(t,e){if(e||(e={}),this.hasFlag(t,HI.SOURCE)){if(!this.updateEndProperties("source"))return t;t=this.removeFlag(t,HI.SOURCE)}if(this.hasFlag(t,HI.TARGET)){if(!this.updateEndProperties("target"))return t;t=this.removeFlag(t,HI.TARGET)}const{paper:i,sourceView:n,targetView:r}=this;if(i&&(n&&!i.isViewMounted(n)||r&&!i.isViewMounted(r)))return t;if(this.hasFlag(t,HI.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(e),t=this.removeFlag(t,[HI.RENDER,HI.UPDATE,HI.VERTICES,HI.LABELS,HI.TOOLS,HI.LEGACY_TOOLS,HI.CONNECTOR]);let o=!1;this.hasFlag(t,HI.VERTICES)&&(this.renderVertexMarkers(),t=this.removeFlag(t,HI.VERTICES));const{model:a}=this,{attributes:s}=a;let l=this.hasFlag(t,HI.LABELS),c=this.hasFlag(t,HI.LEGACY_TOOLS);l&&(this.onLabelsChange(a,s.labels,e),t=this.removeFlag(t,HI.LABELS),o=!0),c&&(this.renderTools(),t=this.removeFlag(t,HI.LEGACY_TOOLS));const d=this.hasFlag(t,HI.UPDATE),u=this.hasFlag(t,HI.CONNECTOR);return(d||u)&&(d?e.translateBy&&a.isRelationshipEmbeddedIn(e.translateBy)?this.translate(e.tx,e.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(e),t=this.removeFlag(t,[HI.UPDATE,HI.TOOLS,HI.CONNECTOR]),l=!1,c=!1,o=!0),l&&this.updateLabelPositions(),c&&this.updateToolsPosition(),o&&this.updateHighlighters(),this.hasFlag(t,HI.TOOLS)&&(this.updateTools(e),t=this.removeFlag(t,HI.TOOLS)),t},requestConnectionUpdate:function(t){this.requestUpdate(this.getFlag(HI.UPDATE),t)},isLabelsRenderRequired:function(t={}){const e=this.model.previous("labels");if(!e)return!0;if("propertyPathArray"in t&&"propertyValue"in t){var i=t.propertyPathArray||[],n=i.length;if(n>1)if(!!e[i[1]]){if(2===n)return"markup"in Object(t.propertyValue);if("markup"!==i[2])return!1}}return!0},onLabelsChange:function(t,e,i){this.isLabelsRenderRequired(i)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var t=this.model,e=t.get("markup")||t.markup;if(!e)throw new Error("dia.LinkView: markup required");if(Array.isArray(e))return this.renderJSONMarkup(e);if("string"==typeof e)return this.renderStringMarkup(e);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(t){var e=this.parseDOMJSON(t,this.el);this.selectors=e.selectors,this.vel.append(e.fragment)},renderStringMarkup:function(t){var e=Gm(t);Array.isArray(e)||(e=[e]);for(var i=this._V,n=0,r=e.length;n<r;n++){var o=e[n],a=o.attr("class");a&&(a=Jy(a),i[Dm.camelCase(a)]=o)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(e)},_getLabelMarkup:function(t){if(t){if(Array.isArray(t))return this.parseDOMJSON(t,null);if("string"==typeof t)return this._getLabelStringMarkup(t);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(t){var e=Gm(t),i=document.createDocumentFragment();if(Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var o=e[n].node;i.appendChild(o)}else i.appendChild(e.node);return{fragment:i,selectors:{}}},_normalizeLabelMarkup:function(t){if(t){var e,i=t.fragment;if(!(t.fragment instanceof DocumentFragment&&t.fragment.hasChildNodes()))throw new Error("dia.LinkView: invalid label markup.");var n=i.childNodes;return(e=n.length>1||"G"!==n[0].nodeName.toUpperCase()?Gm("g").append(i):Gm(n[0])).addClass("label"),{node:e.node,selectors:t.selectors}}},renderLabels:function(){var t=this._V,e=t.labels,i=this._labelCache={},n=this._labelSelectors={},r=this.model,o=r.attributes.labels||[],a=o.length;if(0===a)return e&&e.remove(),this;e?e.empty():(e=t.labels=Gm("g").addClass("labels"),this.options.labelsLayer&&(e.addClass(Xy(Fy(this,"className"))),e.attr("model-id",r.id)));for(var s=0;s<a;s++){var l,c,d=o[s],u=this._normalizeLabelMarkup(this._getLabelMarkup(d.markup));if(u)l=u.node,c=u.selectors;else{var h=r._builtins.defaultLabel,p=this._normalizeLabelMarkup(this._getLabelMarkup(h.markup)),g=r._getDefaultLabel(),f=this._normalizeLabelMarkup(this._getLabelMarkup(g.markup))||p;l=f.node,c=f.selectors}l.setAttribute("label-idx",s),e.append(l),i[s]=l;var m=this.selector;if(c[m])throw new Error("dia.LinkView: ambiguous label root selector.");c[m]=l,n[s]=c}return e.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){const{el:t,paper:e,model:i,_V:n,options:r}=this,{labels:o}=n;if(!o||!i.hasLabels())return;const{node:a}=o;r.labelsLayer?e.getLayerView(r.labelsLayer).insertSortedNode(a,i.get("z")):a.parentNode!==t&&t.appendChild(a)},unmountLabels:function(){const{options:t,_V:e}=this;if(!e)return;const{labels:i}=e;i&&t.labelsLayer&&i.remove()},findLabelNode:function(t,e){const i=this._labelCache[t];if(!i)return null;const n=this._labelSelectors[t],[r=null]=this.findBySelector(e,i,n);return r},_mergeLabelAttrs:function(t,e,i,n){if(null===e)return null;if(void 0===e){if(null===i)return null;if(void 0===i){if(t)return;return n}return t?i:Hy({},n,i)}return t?Hy({},i,e):Hy({},n,i,e)},_mergeLabelSize:function(t,e){if(null===t)return null;if(void 0===t){if(null===e)return null;if(void 0===e)return;return e}return Hy({},e,t)},updateLabels:function(){if(!this._V.labels)return this;for(var t=this.model,e=t.get("labels")||[],i=this.can("labelMove"),n=t._builtins.defaultLabel.attrs,r=t._getDefaultLabel(),o=r.markup,a=r.attrs,s=r.size,l=0,c=e.length;l<c;l++){var d=this._labelCache[l];d.setAttribute("cursor",i?"move":"default");var u=this._labelSelectors[l],h=e[l],p=h.markup,g=h.attrs,f=h.size,m=this._mergeLabelAttrs(p||o,g,a,n),v=this._mergeLabelSize(f,s);this.updateDOMSubtreeAttributes(d,m,{rootBBox:new _h(v),selectors:u})}return this},renderTools:function(){if(!this._V.linkTools)return this;var t,e=Dm(this._V.linkTools.node).empty(),i=yx(this.model.get("toolMarkup")||this.model.toolMarkup),n=Gm(i());(e.append(n.node),this._toolCache=n,this.options.doubleLinkTools)&&(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(i=yx(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),t=Gm(i())):t=n.clone(),e.append(t.node),this._tool2Cache=t);return this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var t=Dm(this._V.markerVertices.node).empty(),e=yx(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach((function(i,n){t.append(Gm(e(Cy({idx:n},i))).node)})),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var t=Dm(this._V.markerArrowheads.node);t.empty();var e=yx(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=Gm(e({end:"source"})),this._V.targetArrowhead=Gm(e({end:"target"})),t.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},removeRedundantLinearVertices:function(t){const e=this.model,i=e.vertices(),n=[this.sourceAnchor,...i,this.targetAnchor],r=n.length,o=new Lh(n);o.simplify({threshold:.001});const a=o.points.map((t=>t.toJSON())),s=a.length;return r===s?0:(e.vertices(a.slice(1,s-1),t),r-s)},updateDefaultConnectionPath:function(){var t=this._V;t.connection&&t.connection.attr("d",this.getSerializedConnection()),t.connectionWrap&&t.connectionWrap.attr("d",this.getSerializedConnection()),t.markerSource&&t.markerTarget&&this._translateAndAutoOrientArrows(t.markerSource,t.markerTarget)},getEndView:function(t){switch(t){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(t){switch(t){case"source":return new ch(this.sourceAnchor);case"target":return new ch(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(t){switch(t){case"source":return new ch(this.sourcePoint);case"target":return new ch(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(t){switch(t){case"source":var e=this.sourceView;if(!e)break;return this.sourceMagnet||e.el;case"target":var i=this.targetView;if(!i)break;return this.targetMagnet||i.el;default:throw new Error("dia.LinkView: type parameter required.")}},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(t=0,e=0){const{route:i,path:n}=this;if(!i||!n)return;const r=new Lh(i);r.translate(t,e),this.route=r.points,this._translateConnectionPoints(t,e),n.translate(t,e),this.updateDOM()},updateDOM(){const{el:t,model:e,selectors:i}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(t,e.attr(),{selectors:i}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null},updateRoute:function(){const{model:t}=this,e=t.vertices(),i=this.findAnchors(e),n=this.sourceAnchor=i.source,r=this.targetAnchor=i.target,o=this.findRoute(e);this.route=o;var a=this.findConnectionPoints(o,n,r);this.sourcePoint=a.source,this.targetPoint=a.target},updatePath:function(){const{route:t,sourcePoint:e,targetPoint:i}=this,n=this.findMarkerPoints(t,e,i),r=this.findPath(t,n.source||e,n.target||i);this.path=r},findMarkerPoints:function(t,e,i){var n,r,o=t[0],a=t[t.length-1],s=this._markerCache;return this._V.markerSource&&(s.sourceBBox=s.sourceBBox||this._V.markerSource.getBBox(),n=ch(e).move(o||i,s.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(s.targetBBox=s.targetBBox||this._V.markerTarget.getBBox(),r=ch(i).move(a||e,s.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),s.sourcePoint=n||e.clone(),s.targetPoint=r||i.clone(),{source:n,target:r}},findAnchorsOrdered:function(t,e,i,n){var r,o,a,s,l=this.model,c=l.get(t),d=l.get(i),u=this.getEndView(t),h=this.getEndView(i),p=this.getEndMagnet(t),g=this.getEndMagnet(i);u?(a=e?new ch(e):h?g:new ch(d),r=this.getAnchor(c.anchor,u,p,a,t)):r=new ch(c),h?(s=new ch(n||r),o=this.getAnchor(d.anchor,h,g,s,i)):o=new ch(d);var f={};return f[t]=r,f[i]=o,f},findAnchors:function(t){var e=this.model,i=t[0],n=t[t.length-1];return e.target().priority&&!e.source().priority?this.findAnchorsOrdered("target",n,"source",i):this.findAnchorsOrdered("source",i,"target",n)},findConnectionPoints:function(t,e,i){var n,r,o,a,s=t[0],l=t[t.length-1],c=this.model,d=c.get("source"),u=c.get("target"),h=this.sourceView,p=this.targetView,g=this.paper.options;if(h&&!h.isNodeConnection(this.sourceMagnet)){n=this.sourceMagnet||h.el;var f=d.connectionPoint||g.defaultConnectionPoint,m=new ph(s||i,e);o=this.getConnectionPoint(f,h,n,m,"source")}else o=e;if(p&&!p.isNodeConnection(this.targetMagnet)){r=this.targetMagnet||p.el;var v=u.connectionPoint||g.defaultConnectionPoint,b=new ph(l||e,i);a=this.getConnectionPoint(v,p,r,b,"target")}else a=i;return{source:o,target:a}},getAnchor:function(t,e,i,n,r){var o,a=e.isNodeConnection(i),s=this.paper.options;if(t||(t=a?s.defaultLinkAnchor:s.perpendicularLinks||this.options.perpendicular?{name:"perpendicular"}:s.defaultAnchor),!t)throw new Error("Anchor required.");if("function"==typeof t)o=t;else{var l=t.name;if("function"!=typeof(o=s[a?"linkAnchorNamespace":"anchorNamespace"][l]))throw new Error("Unknown anchor: "+l)}var c=o.call(this,e,i,n,t.args||{},r,this);return c?c.round(this.decimalsRounding):new ch},getConnectionPoint:function(t,e,i,n,r){var o,a,s=n.end,l=this.paper.options;if("function"==typeof l.linkConnectionPoint){var c=i===e.el?void 0:i;if(o=l.linkConnectionPoint(this,e,c,n.start,r))return o}if(!t)return s;if("function"==typeof t)a=t;else{var d=t.name;if("function"!=typeof(a=l.connectionPointNamespace[d]))throw new Error("Unknown connection point: "+d)}return(o=a.call(this,n,e,i,t.args||{},r,this))?o.round(this.decimalsRounding):s},_translateConnectionPoints:function(t,e){var i=this._markerCache;i.sourcePoint.offset(t,e),i.targetPoint.offset(t,e),this.sourcePoint.offset(t,e),this.targetPoint.offset(t,e),this.sourceAnchor.offset(t,e),this.targetAnchor.offset(t,e)},_getDefaultLabelPositionProperty:function(){var t=this.model,e=t._builtins.defaultLabel.position,i=t._getDefaultLabel(),n=this._normalizeLabelPosition(i.position);return Hy({},e,n)},_normalizeLabelPosition:function(t){return"number"==typeof t?{distance:t,offset:null,angle:0,args:null}:t},_mergeLabelPositionProperty:function(t,e){return null===t?null:void 0===t?null===e?null:e:Hy({},e,t)},updateLabelPositions:function(){if(!this._V.labels)return this;if(!this.path)return this;var t=this.model.get("labels")||[];if(!t.length)return this;for(var e=this._getDefaultLabelPositionProperty(),i=0,n=t.length;i<n;i++){var r=this._labelCache[i];if(r){var o=t[i],a=this._normalizeLabelPosition(o.position),s=this._mergeLabelPositionProperty(a,e),l=this._getLabelTransformationMatrix(s);r.setAttribute("transform",Gm.matrixToTransformString(l)),this._cleanLabelMatrices(i)}}return this},_cleanLabelMatrices:function(t){const{metrics:e,_labelSelectors:i}=this,n=i[t];if(n)for(let t in n){const{id:i}=n[t];i&&i in e&&delete e[i].magnetMatrix}},updateToolsPosition:function(){if(!this._V.linkTools)return this;var t="",e=this.options.linkToolsOffset,i=this.getConnectionLength();if(!Number.isNaN(i)){i<this.options.shortLinkLength&&(t="scale(.5)",e/=2);var n=this.getPointAtLength(e);if(this._toolCache.attr("transform","translate("+n.x+", "+n.y+") "+t),this.options.doubleLinkTools&&i>=this.options.longLinkLength){var r=this.options.doubleLinkToolsOffset||e;n=this.getPointAtLength(i-r),this._tool2Cache.attr("transform","translate("+n.x+", "+n.y+") "+t),this._tool2Cache.attr("display","inline")}else this.options.doubleLinkTools&&this._tool2Cache.attr("display","none")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if("none"===Dm.css(this._V.markerArrowheads.node,"display"))return this;var t=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(t),this._V.targetArrowhead.scale(t),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(t){const{model:e,paper:i}=this,n=`${t}View`,r=e.get(t),o=r&&r.id;if(!o)return this[n]=null,this.updateEndMagnet(t),!0;const a=i.getModelById(o);if(!a)throw new Error("LinkView: invalid "+t+" cell.");const s=a.findView(i);return!!s&&(this[n]=s,this.updateEndMagnet(t),!0)},updateEndMagnet:function(t){const e=`${t}Magnet`,i=this.getEndView(t);if(i){let n=i.getMagnetFromLinkEnd(this.model.get(t));n===i.el&&(n=null),this[e]=n}else this[e]=null},_translateAndAutoOrientArrows:function(t,e){var i=zy(this.route);t&&t.translateAndAutoOrient(this.sourcePoint,i[0]||this.targetPoint,this.paper.cells),e&&e.translateAndAutoOrient(this.targetPoint,i[i.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionProperty:function(t){return this.model.label(t).position||{}},_getLabelPositionAngle:function(t){return this._getLabelPositionProperty(t).angle||0},_getLabelPositionArgs:function(t){return this._getLabelPositionProperty(t).args},_getDefaultLabelPositionArgs:function(){return(this.model._getDefaultLabel().position||{}).args},_mergeLabelPositionArgs:function(t,e){return null===t?null:void 0===t?null===e?null:e:Hy({},e,t)},addLabel:function(t,e,i,n){var r,o,a,s=0;"number"!=typeof t?(r=t.x,o=t.y,"number"==typeof e?(s=e,a=i):a=e):(r=t,o=e,"number"==typeof i?(s=i,a=n):a=i);var l=this._getDefaultLabelPositionArgs(),c=a,d=this._mergeLabelPositionArgs(c,l),u={position:this.getLabelPosition(r,o,s,d)};return this.model.insertLabel(-1,u,a),-1},addVertex:function(t,e,i){var n="number"!=typeof t,r=n?t.x:t,o=n?t.y:e,a=n?e:i,s={x:r,y:o},l=this.getVertexIndex(r,o);return this.model.insertVertex(l,s,a),l},sendToken:function(t,e,i){var n,r,o;xy(e)?(n=e.duration,r="reverse"===e.direction,o=e.connection):(n=e,r=!1,o=null);var a={dur:(n=n||1e3)+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};r&&(a.keyPoints="1;0",a.keyTimes="0;1");var s,l=Gm(t);if("string"==typeof o)s=this.findBySelector(o,this.el,this.selectors)[0];else{var c=this._V;s=c.connection?c.connection.node:this.el.querySelector("path")}if(!(s instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");l.appendTo(this.paper.cells).animateAlongPath(a,s),setTimeout(function(t,e){return function(){t.remove(),"function"==typeof e&&e()}}(l,i),n)},findRoute:function(t){t||(t=[]);var e=this.paper.options.routerNamespace||xI,i=this.model.router(),n=this.paper.options.defaultRouter;if(!i){if(!n)return t.map(ch);i=n}var r=Ey(i)?i:e[i.name];if(!Ey(r))throw new Error('dia.LinkView: unknown router: "'+i.name+'".');var o=i.args||{},a=r.call(this,t,o,this);return a||t.map(ch)},findPath:function(t,e,i){var n=this.paper.options.connectorNamespace||YI,r=this.model.connector(),o=this.paper.options.defaultConnector;r||(r=o||{});var a=Ey(r)?r:n[r.name];if(!Ey(a))throw new Error('dia.LinkView: unknown connector: "'+r.name+'".');var s=My(r.args||{});s.raw=!0;var l=a.call(this,e,i,t,s,this);return"string"==typeof l&&(l=new Bh(Gm.normalizePathData(l))),l},getConnection:function(){var t=this.path;return t?t.clone():null},getSerializedConnection:function(){var t=this.path;if(!t)return null;var e=this.metrics;if(e.hasOwnProperty("data"))return e.data;var i=t.serialize();return e.data=i,i},getConnectionSubdivisions:function(){var t=this.path;if(!t)return null;var e=this.metrics;if(e.hasOwnProperty("segmentSubdivisions"))return e.segmentSubdivisions;var i=t.getSegmentSubdivisions();return e.segmentSubdivisions=i,i},getConnectionLength:function(){var t=this.path;if(!t)return 0;var e=this.metrics;if(e.hasOwnProperty("length"))return e.length;var i=t.length({segmentSubdivisions:this.getConnectionSubdivisions()});return e.length=i,i},getPointAtLength:function(t){var e=this.path;return e?e.pointAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(t){var e=this.path;return e?(cx(t)&&(t=parseFloat(t)/100),e.pointAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(t){var e=this.path;return e?e.tangentAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(t){var e=this.path;return e?e.tangentAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(t){var e=this.path;return e?e.closestPoint(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(t){var e=this.path;return e?e.closestPointLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(t){var e=this.path;return e?e.closestPointNormalizedLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(t,e,i,n){var r,o={},a=0;"number"==typeof i?(a=i,r=n):r=i,r&&(o.args=r);var s,l,c=!(r&&r.absoluteDistance),d=r&&r.absoluteDistance&&r.reverseDistance,u=r&&r.absoluteOffset,h=this.path,p={segmentSubdivisions:this.getConnectionSubdivisions()},g=new ch(t,e),f=h.closestPointT(g,p),m=h.lengthAtT(f,p);if(c&&(m=m/this.getConnectionLength()||0),d&&(m=-1*(this.getConnectionLength()-m)||1),o.distance=m,u||(s=h.tangentAtT(f)),s)l=s.pointOffset(g);else{var v=h.pointAtT(f),b=g.difference(v);l={x:b.x,y:b.y}}return o.offset=l,o.angle=a,o},_getLabelTransformationMatrix:function(t){var e,i=0,n={};if("number"==typeof t)e=t;else{if("number"!=typeof t.distance)throw new Error("dia.LinkView: invalid label position distance.");n=t.args||{},e=t.distance,i=t.angle||0}var r=e>0&&e<=1,o=0,a={x:0,y:0};if(t.offset){var s=t.offset;"number"==typeof s&&(o=s),s.x&&(a.x=s.x),s.y&&(a.y=s.y)}var l,c=0!==a.x||0!==a.y||0===o,d=n.keepGradient,u=n.ensureLegibility,h=this.path,p={segmentSubdivisions:this.getConnectionSubdivisions()},g=r?e*this.getConnectionLength():e,f=h.tangentAtLength(g,p),m=i;if(f){if(c)(l=f.start.clone()).offset(a);else{var v=f.clone();v.rotate(f.start,-90),v.setLength(o),l=v.end}d&&(m=f.angle()+i,u&&(m=Uu((m+90)%180-90)))}else l=h.start.clone(),c&&l.offset(a);return Gm.createSVGMatrix().translate(l.x,l.y).rotate(m)},getLabelCoordinates:function(t){var e=this._getLabelTransformationMatrix(t);return new ch(e.e,e.f)},getVertexIndex:function(t,e){for(var i=this.model.vertices(),n=this.getClosestPointLength(new ch(t,e)),r=0,o=i.length;r<o;r++){var a=i[r];if(n<this.getClosestPointLength(a))break}return r},notifyPointerdown(t,e,i){mw.prototype.pointerdown.call(this,t,e,i),this.notify("link:pointerdown",t,e,i)},notifyPointermove(t,e,i){mw.prototype.pointermove.call(this,t,e,i),this.notify("link:pointermove",t,e,i)},notifyPointerup(t,e,i){this.notify("link:pointerup",t,e,i),mw.prototype.pointerup.call(this,t,e,i)},pointerdblclick:function(t,e,i){mw.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",t,e,i)},pointerclick:function(t,e,i){mw.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",t,e,i)},contextmenu:function(t,e,i){mw.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",t,e,i)},pointerdown:function(t,e,i){switch(this.notifyPointerdown(t,e,i),t.target.getAttribute("class")){case"marker-vertex":return void this.dragVertexStart(t,e,i);case"marker-vertex-remove":case"marker-vertex-remove-area":return void this.dragVertexRemoveStart(t,e,i);case"marker-arrowhead":return void this.dragArrowheadStart(t,e,i);case"connection":case"connection-wrap":return void this.dragConnectionStart(t,e,i);case"marker-source":case"marker-target":return}this.dragStart(t,e,i)},pointermove:function(t,e,i){var n=this._dragData;switch(n&&this.eventData(t,n),this.eventData(t).action){case"vertex-move":this.dragVertex(t,e,i);break;case"label-move":this.dragLabel(t,e,i);break;case"arrowhead-move":this.dragArrowhead(t,e,i);break;case"move":this.drag(t,e,i)}n&&Cy(n,this.eventData(t)),this.notifyPointermove(t,e,i)},pointerup:function(t,e,i){var n=this._dragData;switch(n&&(this.eventData(t,n),this._dragData=null),this.eventData(t).action){case"vertex-move":this.dragVertexEnd(t,e,i);break;case"label-move":this.dragLabelEnd(t,e,i);break;case"arrowhead-move":this.dragArrowheadEnd(t,e,i);break;case"move":this.dragEnd(t,e,i)}this.notifyPointerup(t,e,i),this.checkMouseleave(t)},mouseover:function(t){mw.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",t)},mouseout:function(t){mw.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",t)},mouseenter:function(t){mw.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",t)},mouseleave:function(t){mw.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",t)},mousewheel:function(t,e,i,n){mw.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",t,e,i,n)},onevent:function(t,e,i,n){if(Gm(t.target).findParentByClass("link-tool",this.el)){if(t.stopPropagation(),this.can("useLinkTools")){if("remove"===e)return void this.model.remove({ui:!0});this.notify(e,t,i,n)}this.notifyPointerdown(t,i,n),this.paper.delegateDragEvents(this,t.data)}else mw.prototype.onevent.apply(this,arguments)},onlabel:function(t,e,i){this.notifyPointerdown(t,e,i),this.dragLabelStart(t,e,i),this.eventData(t).stopPropagation&&t.stopPropagation()},dragConnectionStart:function(t,e,i){if(this.can("vertexAdd")){var n=this.addVertex({x:e,y:i},{ui:!0});this.eventData(t,{action:"vertex-move",vertexIdx:n})}},dragLabelStart:function(t,e,i){if(this.can("labelMove")){if(this.isDefaultInteractionPrevented(t))return;var n=t.currentTarget,r=parseInt(n.getAttribute("label-idx"),10),o=this._getDefaultLabelPositionProperty(),a=this._normalizeLabelPosition(this._getLabelPositionProperty(r)),s=this._mergeLabelPositionProperty(a,o),l=this.getLabelCoordinates(s),c=l.x-e,d=l.y-i,u=this._getLabelPositionAngle(r),h=this._getLabelPositionArgs(r),p=this._getDefaultLabelPositionArgs(),g=this._mergeLabelPositionArgs(h,p);this.eventData(t,{action:"label-move",labelIdx:r,dx:c,dy:d,positionAngle:u,positionArgs:g,stopPropagation:!0})}else this.eventData(t,{stopPropagation:!0});this.paper.delegateDragEvents(this,t.data)},dragVertexStart:function(t,e,i){if(this.can("vertexMove")){var n=t.target,r=parseInt(n.getAttribute("idx"),10);this.eventData(t,{action:"vertex-move",vertexIdx:r})}},dragVertexRemoveStart:function(t,e,i){if(this.can("vertexRemove")){var n=t.target,r=parseInt(n.getAttribute("idx"),10);this.model.removeVertex(r)}},dragArrowheadStart:function(t,e,i){if(this.can("arrowheadMove")){var n=t.target.getAttribute("end"),r=this.startArrowheadMove(n,{ignoreBackwardsCompatibility:!0});this.eventData(t,r)}},dragStart:function(t,e,i){this.isDefaultInteractionPrevented(t)||this.can("linkMove")&&this.eventData(t,{action:"move",dx:e,dy:i})},dragLabel:function(t,e,i){var n=this.eventData(t),r={position:this.getLabelPosition(e+n.dx,i+n.dy,n.positionAngle,n.positionArgs)};this.paper.options.snapLabels&&delete r.position.offset;const o={ui:!0};this.paper.isAsync()&&"touchmove"===t.type&&(o.async=!1),this.model.label(n.labelIdx,r,o)},dragVertex:function(t,e,i){var n=this.eventData(t);this.model.vertex(n.vertexIdx,{x:e,y:i},{ui:!0})},dragArrowhead:function(t,e,i){if(this.paper.options.snapLinks){!this._snapArrowhead(t,e,i)&&this.paper.options.snapLinksSelf&&this._snapArrowheadSelf(t,e,i)}else this.paper.options.snapLinksSelf?this._snapArrowheadSelf(t,e,i):this._connectArrowhead(this.getEventTarget(t),e,i,this.eventData(t))},drag:function(t,e,i){var n=this.eventData(t);this.model.translate(e-n.dx,i-n.dy,{ui:!0}),this.eventData(t,{dx:e,dy:i})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(t,e,i){var n=this.eventData(t),r=this.paper;r.options.snapLinks?this._snapArrowheadEnd(n):this._connectArrowheadEnd(n,e,i),r.linkAllowed(this)?(this._finishEmbedding(n),this._notifyConnectEvent(n,t)):this._disallow(n),this._afterArrowheadMove(n)},dragEnd:function(){},_disallow:function(t){if("remove"===t.whenNotAllowed)this.model.remove({ui:!0});else this.model.set(t.arrowhead,t.initialEnd,{ui:!0})},_finishEmbedding:function(t){this.paper.options.embeddingMode&&this.model.reparent()&&(t.z=null)},_notifyConnectEvent:function(t,e){var i=t.arrowhead,n=t.initialEnd,r=this.model.prop(i);if(r&&!ew.endsEqual(n,r)){var o=this.paper;n.id&&this.notify("link:disconnect",e,o.findViewByModel(n.id),t.initialMagnet,i),r.id&&this.notify("link:connect",e,o.findViewByModel(r.id),t.magnetUnderPointer,i)}},_snapToPoints:function(t,e,i){let n=null,r=1/0,o=null,a=1/0,s=t.x,l=t.y;for(let i=0;i<e.length;i++){const s=Math.abs(e[i].x-t.x);s<r&&(r=s,n=e[i]);const l=Math.abs(e[i].y-t.y);l<a&&(a=l,o=e[i])}return r<i&&(s=n.x),a<i&&(l=o.y),{x:s,y:l}},_snapArrowheadSelf:function(t,e,i){const{paper:n,model:r}=this,{snapLinksSelf:o}=n.options,a=this.eventData(t),s=o.radius||20,l=[this.getEndAnchor("source"===a.arrowhead?"target":"source"),...r.vertices()],c=this._snapToPoints({x:e,y:i},l,s),d=n.localToClientPoint(c);this._connectArrowhead(document.elementFromPoint(d.x,d.y),c.x,c.y,this.eventData(t))},_snapArrowhead:function(t,e,i){const{paper:n}=this,{snapLinks:r,connectionStrategy:o}=n.options,a=this.eventData(t);let s=!1;var l=r.radius||50,c=n.findViewsInArea({x:e-l,y:i-l,width:2*l,height:2*l}),d=a.closestView||null,u=a.closestMagnet||null,h=a.magnetProxy||null;a.closestView=a.closestMagnet=a.magnetProxy=null;var p,g=Number.MAX_VALUE,f=new ch(e,i);c.forEach((function(t){const e=[];"false"!==t.el.getAttribute("magnet")&&e.push({bbox:t.model.getBBox(),magnet:t.el}),t.$("[magnet]").toArray().forEach((i=>{e.push({bbox:t.getNodeBBox(i),magnet:i})})),e.forEach((e=>{const{magnet:i,bbox:r}=e,o=r.center().squaredDistance(f);if(o<g){(u===i||n.options.validateConnection.apply(n,a.validateConnectionArgs(t,t.el===i?null:i)))&&(g=o,a.closestView=t,a.closestMagnet=i)}}))}),this);var m=null,v=a.closestView,b=a.closestMagnet;b&&(m=a.magnetProxy=v.findProxyNode(b,"highlighter"));var y=a.arrowhead,x=u!==b;if(d&&x&&d.unhighlight(h,{connecting:!0,snapping:!0}),v){const{prevEnd:t,prevX:n,prevY:r}=a;if(a.prevX=e,a.prevY=i,s=!0,!x&&("function"!=typeof o||n===e&&r===i))return s;if(p=v.getLinkEnd(b,e,i,this.model,y),!x&&Oy(t,p))return s;a.prevEnd=p,x&&v.highlight(m,{connecting:!0,snapping:!0})}else p={x:e,y:i};return this.model.set(y,p||{x:e,y:i},{ui:!0}),d&&this.notify("link:snap:disconnect",t,d,u,y),v&&this.notify("link:snap:connect",t,v,b,y),s},_snapArrowheadEnd:function(t){var e=t.closestView,i=t.closestMagnet;e&&i&&(e.unhighlight(t.magnetProxy,{connecting:!0,snapping:!0}),t.magnetUnderPointer=e.findMagnet(i)),t.closestView=t.closestMagnet=null},_connectArrowhead:function(t,e,i,n){const{paper:r,model:o}=this;if(n.eventTarget!==t){n.magnetProxy&&n.viewUnderPointer.unhighlight(n.magnetProxy,{connecting:!0});const e=n.viewUnderPointer=r.findView(t);if(e){const i=n.magnetUnderPointer=e.findMagnet(t),o=n.magnetProxy=e.findProxyNode(i,"highlighter");i&&this.paper.options.validateConnection.apply(r,n.validateConnectionArgs(e,i))?o&&e.highlight(o,{connecting:!0}):(n.magnetUnderPointer=null,n.magnetProxy=null)}else n.magnetUnderPointer=null,n.magnetProxy=null}n.eventTarget=t,o.set(n.arrowhead,{x:e,y:i},{ui:!0})},_connectArrowheadEnd:function(t={},e,i){const{model:n}=this,{viewUnderPointer:r,magnetUnderPointer:o,magnetProxy:a,arrowhead:s}=t;if(!o||!a||!r)return;r.unhighlight(a,{connecting:!0});const l=r.getLinkEnd(o,e,i,n,s);n.set(s,l,{ui:!0})},_beforeArrowheadMove:function(t){t.z=this.model.get("z"),this.model.toFront();var e=this.el.style;t.pointerEvents=e.pointerEvents,e.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(t)},_afterArrowheadMove:function(t){null!==t.z&&(this.model.set("z",t.z,{ui:!0}),t.z=null),this.el.style.pointerEvents=t.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(t)},_createValidateConnectionArgs:function(t){var e,i=[];i[4]=t,i[5]=this;var n=0,r=0;"source"===t?(n=2,e="target"):(r=2,e="source");var o=this.model.get(e);if(o.id){var a=i[n]=this.paper.findViewByModel(o.id),s=a.getMagnetFromLinkEnd(o);s===a.el&&(s=void 0),i[n+1]=s}return function(t,e){return i[r]=t,i[r+1]=t.el===e?void 0:e,i}},_markAvailableMagnets:function(t){function e(t,e){var i=t.paper;return i.options.validateConnection.apply(i,this.validateConnectionArgs(t,e))}var i=this.paper,n=i.model.getCells();t.marked={};for(var r=0,o=n.length;r<o;r++){var a=n[r].findView(i);if(a){var s=Array.prototype.slice.call(a.el.querySelectorAll("[magnet]"));"false"!==a.el.getAttribute("magnet")&&s.push(a.el);var l=s.filter(e.bind(t,a));if(l.length>0){for(var c=0,d=l.length;c<d;c++)a.highlight(l[c],{magnetAvailability:!0});a.highlight(null,{elementAvailability:!0}),t.marked[a.model.id]=l}}}},_unmarkAvailableMagnets:function(t){for(var e,i,n=Object.keys(t.marked),r=0,o=n.length;r<o;r++){e=n[r],i=t.marked[e];var a=this.paper.findViewByModel(e);if(a){for(var s=0,l=i.length;s<l;s++)a.unhighlight(i[s],{magnetAvailability:!0});a.unhighlight(null,{elementAvailability:!0})}}t.marked=null},startArrowheadMove:function(t,e){e||(e={});var i={action:"arrowhead-move",arrowhead:t,whenNotAllowed:e.whenNotAllowed||"revert",initialMagnet:this[t+"Magnet"]||(this[t+"View"]?this[t+"View"].el:null),initialEnd:My(this.model.get(t)),validateConnectionArgs:this._createValidateConnectionArgs(t)};return this._beforeArrowheadMove(i),!0!==e.ignoreBackwardsCompatibility&&(this._dragData=i),i},onMount:function(){mw.prototype.onMount.apply(this,arguments),this.mountLabels()},onDetach:function(){mw.prototype.onDetach.apply(this,arguments),this.unmountLabels()},onRemove:function(){mw.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:HI});Object.defineProperty(XI.prototype,"sourceBBox",{enumerable:!0,get:function(){var t=this.sourceView;if(!t){var e=this.model.source();return new _h(e.x,e.y)}var i=this.sourceMagnet;return t.isNodeConnection(i)?new _h(this.sourceAnchor):t.getNodeBBox(i||t.el)}}),Object.defineProperty(XI.prototype,"targetBBox",{enumerable:!0,get:function(){var t=this.targetView;if(!t){var e=this.model.target();return new _h(e.x,e.y)}var i=this.targetMagnet;return t.isNodeConnection(i)?new _h(this.targetAnchor):t.getNodeBBox(i||t.el)}});const JI=gw.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(t,e){const{options:i}=this,{useFirstSubpath:n}=i;let r;try{const t=Gm(e);if(r=t.convertToPathData().trim(),"PATH"===t.tagName()&&n){const t=r.search(/.M/i)+1;t>0&&(r=r.substr(0,t))}}catch(n){const o=t.getNodeBoundingRect(e);r=Gm.rectToPath(Cy({},i,o.toJSON()))}return r},highlightConnection(t){this.vel.attr("d",t.getSerializedConnection())},highlightNode(t,e){const{vel:i,options:n}=this,{padding:r,layer:o}=n;let a=this.getNodeMatrix(t,e);if(r){o||e!==t.el||i.remove();let n=t.getNodeBoundingRect(e);const s=n.x+n.width/2,l=n.y+n.height/2;n=Gm.transformRect(n,a);const c=Math.max(n.width,1),d=Math.max(n.height,1),u=(c+r)/c,h=(d+r)/d,p=Gm.createSVGMatrix({a:u,b:0,c:0,d:h,e:s-u*s,f:l-h*l});a=a.multiply(p)}i.attr({d:this.getPathData(t,e),transform:Gm.matrixToTransformString(a)})},highlight(t,e){const{vel:i,options:n}=this;i.attr(n.attrs),t.isNodeConnection(e)?this.highlightConnection(t):this.highlightNode(t,e)}}),QI=20;const KI=gw.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:QI,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray","class"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid","class"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(t,e){const{MASK_CHILD_ATTRIBUTE_BLACKLIST:i,MASK_REPLACE_TAGS:n,MASK_REMOVE_TAGS:r}=this,o=e.tagName();if(!Gm.isSVGGraphicsElement(e)||r.includes(o))return e.remove(),!1;if(n.includes(o)){const i=t.vel.findOne(`#${e.id}`);if(i){const{node:n}=i;let r=t.getNodeBoundingRect(n);t.model.isElement()&&(r=Gm.transformRect(r,t.getNodeMatrix(n)));const o=Gm("rect",r.toJSON()),{x:a,y:s}=r.center(),{angle:l,cx:c=a,cy:d=s}=i.rotate();l&&o.rotate(l,c,d),e.parent().append(o)}return e.remove(),!1}return i.forEach((t=>{"fill"===t&&"none"===e.attr("fill")||e.removeAttr(t)})),!0},transformMaskRoot(t,e){const{MASK_ROOT_ATTRIBUTE_BLACKLIST:i}=this;i.forEach((t=>{e.removeAttr(t)}))},getMaskShape(t,e){const{options:i,MASK_REPLACE_TAGS:n}=this,{deep:r}=i,o=e.tagName();let a;if("G"===o){if(!r)return null;a=e.clone(),function(t,e){const i=t.children();for(;i.length>0;){const t=i.shift();e(t)&&i.push(...t.children())}}(a,(e=>this.transformMaskChild(t,e)))}else{if(n.includes(o))return null;a=e.clone()}return this.transformMaskRoot(t,a),a},getMaskId(){return`highlight-mask-${this.cid}`},getMask(t,e){const{VISIBLE:i,INVISIBLE:n,options:r}=this,{padding:o,attrs:a}=r,s="stroke-width"in a?a["stroke-width"]:1,l="none"!==e.attr("fill");let c=parseFloat(e.attr("stroke-width"));isNaN(c)&&(c=1);const d=c+2*o,u=d+2*s;let h=this.getMaskShape(t,e);if(!h){const i=t.getNodeBoundingRect(e.node);i.inflate(i.width?0:.5,i.height?0:.5),h=Gm("rect",i.toJSON())}return h.attr(a),Gm("mask",{id:this.getMaskId()}).append([h.clone().attr({fill:l?i:"none",stroke:i,"stroke-width":u}),h.clone().attr({fill:l?n:"none",stroke:n,"stroke-width":d})])},removeMask(t){const e=t.svg.getElementById(this.getMaskId());e&&t.defs.removeChild(e)},addMask(t,e){t.defs.appendChild(e.node)},highlight(t,e){const{options:i,vel:n}=this,{padding:r,attrs:o,maskClip:a=QI,layer:s}=i,l="stroke"in o?o.stroke:"#000000";s||e!==t.el||n.remove();const c=t.getNodeBoundingRect(e).inflate(r+a),d=this.getNodeMatrix(t,e),u=this.getMask(t,Gm(e));this.addMask(t.paper,u),n.attr(c.toJSON()),n.attr({transform:Gm.matrixToTransformString(d),mask:`url(#${u.id})`,fill:l})},unhighlight(t){this.removeMask(t.paper)}}),qI=gw.extend({UPDATABLE:!1,MOUNTABLE:!1,opacityClassName:Xy("highlight-opacity"),highlight:function(t,e){Gm(e).addClass(this.opacityClassName)},unhighlight:function(t,e){Gm(e).removeClass(this.opacityClassName)}}),tC=Xy("highlighted"),eC=gw.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:tC},highlight:function(t,e){Gm(e).addClass(this.options.className)},unhighlight:function(t,e){Gm(e).removeClass(this.options.className)}},{className:tC}),iC={ROW:"row",COLUMN:"column"},nC=gw.extend({tagName:"g",MOUNTABLE:!0,UPDATE_ATTRIBUTES:function(){return[this.options.attribute]},_prevItems:null,highlight(t,e){const i=t.model,{attribute:n,size:r=20,gap:o=5,direction:a=iC.ROW}=this.options;if(!n)throw new Error("List: attribute is required");const s="number"==typeof r?{width:r,height:r}:r,l=a===iC.ROW,c=l?s.width:s.height;let d=i.get(n);Array.isArray(d)||(d=[]);const u=this._prevItems||[],h=d.map(((t,e)=>Oy(u[e],d[e])));if(u.length!==d.length||h.some((t=>!t))){const t=this.vel.children(),e=d.map(((e,i)=>{const r=i in t?t[i].node:null;if(h[i])return r;const a=this.createListItem(e,s,r);if(!a)return null;if(!(a instanceof SVGElement))throw new Error("List: item must be an SVGElement");a.dataset.index=i,a.dataset.attribute=n;const d=i*(c+o);return a.setAttribute("transform",l?`translate(${d}, 0)`:`translate(0, ${d})`),a}));this.vel.empty().append(e),this._prevItems=d}const p=d.length,g=0===p?0:p*c+(p-1)*o,f=l?{width:g,height:s.height}:{width:s.width,height:g};this.position(i,f)},position(t,e){const{vel:i,options:n}=this,{margin:r=5,position:o="top-left"}=n,{width:a,height:s}=t.size(),{left:l,right:c,top:d,bottom:u}=fx(r),h=new _h(l,d,a-(l+c),s-(d+u));let{x:p,y:g}=Zx(h,o);switch(o){case Ux.CENTER:case Ux.TOP:case Ux.BOTTOM:p-=e.width/2;break;case Ux.RIGHT:case Ux.BOTTOM_RIGHT:case Ux.TOP_RIGHT:p-=e.width}switch(o){case Ux.CENTER:case Ux.RIGHT:case Ux.LEFT:g-=e.height/2;break;case Ux.BOTTOM:case Ux.BOTTOM_RIGHT:case Ux.BOTTOM_LEFT:g-=e.height}i.attr("transform",`translate(${p}, ${g})`)}},{Directions:iC,Positions:Ux});var rC=Object.freeze({__proto__:null,stroke:JI,mask:KI,opacity:qI,addClass:eC,list:nC});function oC(t){return function(e,i,n,r){if(n instanceof Element){var o,a=this.paper.findView(n);if(a)if(a.isNodeConnection(n))o=aC(a,"fixedAt"in r?r.fixedAt:"50%");else o=a.getNodeBBox(n).center();else o=new ch;return t.call(this,e,i,o,r)}return t.apply(this,arguments)}}function aC(t,e){var i=parseFloat(e);return cx(e)?t.getPointAtRatio(i/100):t.getPointAtLength(i)}const sC=oC((function(t,e,i,n){var r=1e6,o=t.getConnection(),a=t.getConnectionSubdivisions(),s=new ph(i.clone().offset(0,r),i.clone().offset(0,-r)),l=new ph(i.clone().offset(r,0),i.clone().offset(-r,0)),c=s.intersect(o,{segmentSubdivisions:a}),d=l.intersect(o,{segmentSubdivisions:a}),u=[];return c&&Array.prototype.push.apply(u,c),d&&Array.prototype.push.apply(u,d),u.length>0?i.chooseClosest(u):"fallbackAt"in n?aC(t,n.fallbackAt):lC(t,e,i,n)})),lC=oC((function(t,e,i,n){var r=t.getClosestPoint(i);return r||new ch}));var cC=Object.freeze({__proto__:null,resolveRef:oC,connectionRatio:function(t,e,i,n){var r="ratio"in n?n.ratio:.5;return t.getPointAtRatio(r)},connectionLength:function(t,e,i,n){var r="length"in n?n.length:20;return t.getPointAtLength(r)},connectionPerpendicular:sC,connectionClosest:lC});function dC(t,e,i){if(Dy(i)){const{x:n,y:r}=i;if(isFinite(r)){const i=new ph(e,t),{start:n,end:o}=i.parallel(r);e=n,t=o}i=n}if(!isFinite(i))return t;var n=t.distance(e);return 0===i&&n>0?t:t.move(e,-Math.min(i,n-1))}function uC(t){var e=t.getAttribute("stroke-width");return null===e?0:parseFloat(e)||0}function hC(t,e,i,n){var r=e.getNodeBBox(i);n.stroke&&r.inflate(uC(i)/2);var o=t.intersect(r);return dC(o?t.start.chooseClosest(o):t.end,t.start,n.offset)}var pC="segmentSubdivisons",gC="shapeBBox";const fC=function(t,e,i,n){let{offset:r,alignOffset:o,align:a}=n;return a&&function(t,e,i=0){let n,r,o,a;const{start:s,end:l}=t;switch(e){case"left":n="x",r=l,o=s,a=-1;break;case"right":n="x",r=s,o=l,a=1;break;case"top":n="y",r=l,o=s,a=-1;break;case"bottom":n="y",r=s,o=l,a=1;break;default:return}s[n]<l[n]?r[n]=o[n]:o[n]=r[n],isFinite(i)&&(r[n]+=a*i,o[n]+=a*i)}(t,a,o),dC(t.end,t.start,r)},mC=hC,vC=function(t,e,i,n){var r=e.model.angle();if(0===r)return hC(t,e,i,n);var o=e.getNodeUnrotatedBBox(i);n.stroke&&o.inflate(uC(i)/2);var a=o.center(),s=t.clone().rotate(a,r),l=s.setLength(1e6).intersect(o);return dC(l?s.start.chooseClosest(l).rotate(a,-r):t.end,t.start,n.offset)},bC=function(t,e,i,n){var r,o,a=n.selector,s=t.end;if(r="string"==typeof a?e.findBySelector(a)[0]:!1===a?i:Array.isArray(a)?qy(i,a):function(t){if(!t)return null;var e=t;do{var i=e.tagName;if("string"!=typeof i)return null;if("G"===(i=i.toUpperCase()))e=e.firstElementChild;else{if("TITLE"!==i)break;e=e.nextElementSibling}}while(e);return e}(i),!Gm.isSVGGraphicsElement(r)){if(r===i||!Gm.isSVGGraphicsElement(i))return s;r=i}var l,c=e.getNodeShape(r),d=e.getNodeMatrix(r),u=e.getRootTranslateMatrix(),h=e.getRootRotateMatrix(),p=u.multiply(h).multiply(d),g=p.inverse(),f=Gm.transformLine(t,g),m=f.start.clone(),v=e.getNodeData(r);if(!1===n.insideout&&(v[gC]||(v[gC]=c.bbox()),v[gC].containsPoint(m)))return s;if(c instanceof Bh){var b=n.precision||2;v[pC]||(v[pC]=c.getSegmentSubdivisions({precision:b})),l={precision:b,segmentSubdivisions:v[pC]}}!0===n.extrapolate&&f.setLength(1e6),(o=f.intersect(c,l))?Gm.isArray(o)&&(o=m.chooseClosest(o)):!0===n.sticky&&(o=c instanceof _h?c.pointNearestToPoint(m):c instanceof bh?c.intersectionWithLineFromCenterToPoint(m):c.closestPoint(m,l));var y=o?Gm.transformPoint(o,p):s,x=n.offset||0;return n.stroke&&(x+=uC(r)/2),dC(y,t.start,x)};var yC=Object.freeze({__proto__:null,anchor:fC,bbox:mC,rectangle:vC,boundary:bC});function xC(t){return function(e,i,n,r){var o=!!r.rotate,a=o?e.getNodeUnrotatedBBox(i):e.getNodeBBox(i),s=a[t](),l=r.dx;if(l){var c=cx(l);l=parseFloat(l),isFinite(l)&&(c&&(l/=100,l*=a.width),s.x+=l)}var d=r.dy;if(d){var u=cx(d);d=parseFloat(d),isFinite(d)&&(u&&(d/=100,d*=a.height),s.y+=d)}return o?s.rotate(e.model.getBBox().center(),-e.model.angle()):s}}const wC=xC("center"),IC=xC("topMiddle"),CC=xC("bottomMiddle"),AC=xC("leftMiddle"),SC=xC("rightMiddle"),kC=xC("origin"),_C=xC("topRight"),TC=xC("bottomLeft"),PC=xC("corner"),MC=oC((function(t,e,i,n){var r=t.model.angle(),o=t.getNodeBBox(e),a=o.center(),s=o.origin(),l=o.corner(),c=n.padding;if(isFinite(c)||(c=0),s.y+c<=i.y&&i.y<=l.y-c){var d=i.y-a.y;a.x+=0===r||180===r?0:1*d/Math.tan(Fu(r)),a.y+=d}else if(s.x+c<=i.x&&i.x<=l.x-c){var u=i.x-a.x;a.y+=90===r||270===r?0:u*Math.tan(Fu(r)),a.x+=u}return a})),NC=oC((function(t,e,i,n){var r,o,a,s=!!n.rotate;s?(r=t.getNodeUnrotatedBBox(e),a=t.model.getBBox().center(),o=t.model.angle()):r=t.getNodeBBox(e);var l,c=n.padding;switch(isFinite(c)&&r.inflate(c),s&&i.rotate(a,o),r.sideNearestToPoint(i)){case"left":l=r.leftMiddle();break;case"right":l=r.rightMiddle();break;case"top":l=r.topMiddle();break;case"bottom":l=r.bottomMiddle()}return s?l.rotate(a,-o):l})),LC=function(t,e,i,n,r){return t.model.getPointFromConnectedLink(this.model,r).offset(n.dx,n.dy)};var OC=Object.freeze({__proto__:null,center:wC,top:IC,bottom:CC,left:AC,right:SC,topLeft:kC,topRight:_C,bottomLeft:TC,bottomRight:PC,perpendicular:MC,midSide:NC,modelCenter:LC});const EC={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},DC=9007199254740991,zC=mw.Highlighting,jC={[zC.DEFAULT]:{name:"stroke",options:{padding:3}},[zC.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[zC.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},RC=[{name:uw.BACK},{name:uw.CELLS},{name:uw.LABELS},{name:uw.FRONT},{name:uw.TOOLS}],GC=cw.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,drawGridSize:null,background:!1,perpendicularLinks:!1,elementView:ww,linkView:XI,snapLabels:!1,snapLinks:!1,snapLinksSelf:!1,labelsLayer:!1,multiLinks:!0,guard:function(t,e){return!1},highlighting:jC,preventContextMenu:!0,preventDefaultBlankAction:!0,preventDefaultViewAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new ew,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(t,e,i){return"passive"!==e.getAttribute("magnet")},validateConnection:function(t,e,i,n,r,o){return("target"===r?i:t)instanceof ww},embeddingMode:!1,validateEmbedding:function(t,e){return!0},validateUnembedding:function(t){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:EC.EXACT,frozen:!1,autoFreeze:!1,onViewUpdate:function(t,e,i,n,r){e&(t.FLAG_INSERT|t.FLAG_REMOVE)||n.mounting||n.isolate||r.requestConnectedLinksUpdate(t,i,n)},onViewPostponed:function(t,e,i){return i.forcePostponedViewUpdate(t,e)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:rC,anchorNamespace:OC,linkAnchorNamespace:cC,connectionPointNamespace:yC,overflow:!1},events:{dblclick:"pointerdblclick",dbltap:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],FORM_CONTROL_TAG_NAMES:["TEXTAREA","INPUT","BUTTON","SELECT","OPTION"],GUARDED_TAG_NAMES:["SELECT"],MIN_SCALE:1e-6,init:function(){const{options:t,el:e}=this;t.cellViewNamespace||(t.cellViewNamespace="undefined"!=typeof joint&&$y(joint,"shapes")?joint.shapes:null);const i=this.model=t.model||new sw;this._layers={},this.setGrid(t.drawGrid),this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this._mw_evt_buffer={event:null,deltas:[]},this.$document=Dm(e.ownerDocument),this.resetViews(i.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1,disabled:!1,idle:!1}},startListening:function(){var t=this.model;this.listenTo(t,"add",this.onCellAdded).listenTo(t,"remove",this.onCellRemoved).listenTo(t,"change",this.onCellChange).listenTo(t,"reset",this.onGraphReset).listenTo(t,"sort",this.onGraphSort).listenTo(t,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(t,e,i){var n=i.position;this.isAsync()||!wy(n)?this.renderView(t,i):(i.maxPosition===n&&this.freeze({key:"addCells"}),this.renderView(t,i),0===n&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(t,e,i){const n=this.findViewByModel(t);n&&this.requestViewUpdate(n,n.FLAG_REMOVE,n.UPDATE_PRIORITY,i)},onCellChange:function(t,e){if(t!==this.model.attributes.cells&&t.hasChanged("z")&&this.options.sorting===EC.APPROX){const i=this.findViewByModel(t);i&&this.requestViewUpdate(i,i.FLAG_INSERT,i.UPDATE_PRIORITY,e)}},onGraphReset:function(t,e){this.resetLayers(),this.resetViews(t.models,e)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(t){if(!this.isFrozen()){var e=t&&t.batchName,i=this.model;if(!this.isAsync()){var n=this.UPDATE_DELAYING_BATCHES;n.includes(e)&&!i.hasActiveBatch(n)&&this.updateViews(t)}var r=this.SORT_DELAYING_BATCHES;r.includes(e)&&!i.hasActiveBatch(r)&&this.sortViews()}},cloneOptions:function(){const{options:t}=this,{defaultConnector:e,defaultRouter:i,defaultConnectionPoint:n,defaultAnchor:r,defaultLinkAnchor:o,origin:a,highlighting:s,cellViewNamespace:l,interactive:c}=t;!l&&"undefined"!=typeof joint&&$y(joint,"shapes")&&(t.cellViewNamespace=joint.shapes),Ey(e)||(t.defaultConnector=Ny(e)),Ey(i)||(t.defaultRouter=Ny(i)),Ey(n)||(t.defaultConnectionPoint=Ny(n)),Ey(r)||(t.defaultAnchor=Ny(r)),Ey(o)||(t.defaultLinkAnchor=Ny(o)),Dy(c)&&(t.interactive=Cy({},c)),Dy(s)&&(t.highlighting=Sy({},s,jC)),t.origin=Cy({},a)},children:function(){var t=Gm.namespace;return[{namespaceURI:t.xhtml,tagName:"div",className:Xy("paper-background"),selector:"background"},{namespaceURI:t.xhtml,tagName:"div",className:Xy("paper-grid"),selector:"grid"},{namespaceURI:t.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":t.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:Xy("layers"),selector:"layers"}]}]},hasLayerView(t){return t in this._layers},getLayerView(t){const{_layers:e}=this;if(t in e)return e[t];throw new Error(`dia.Paper: Unknown layer "${t}"`)},getLayerNode(t){return this.getLayerView(t).el},render:function(){this.renderChildren();const{childNodes:t,options:e}=this,{svg:i,defs:n,layers:r,background:o,grid:a}=t;return i.style.overflow=e.overflow?"visible":"hidden",this.svg=i,this.defs=n,this.layers=r,this.$background=Dm(o),this.$grid=Dm(a),this.renderLayers(),Gm.ensureId(i),e.background&&this.drawBackground(e.background),e.drawGrid&&this.drawGrid(),this},renderLayers:function(t=RC){this.removeLayers(),t.forEach((({name:t,sorted:e})=>{const i=new hw({name:t});this.layers.appendChild(i.el),this._layers[t]=i}));const e=this.getLayerView(uw.CELLS),i=this.getLayerView(uw.TOOLS),n=this.getLayerView(uw.LABELS);this.tools=i.el,this.cells=this.viewport=e.el,e.vel.addClass(Xy("viewport")),n.vel.addClass(Xy("viewport"))},removeLayers:function(){const{_layers:t}=this;Object.keys(t).forEach((e=>{t[e].remove(),delete t[e]}))},resetLayers:function(){const{_layers:t}=this;Object.keys(t).forEach((e=>{t[e].removePivots()}))},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(t){var e=this.layers;if(void 0===t){var i=e.getAttribute("transform");return(this._viewportTransformString||null)===i?t=this._viewportMatrix:(t=e.getCTM(),this._viewportMatrix=t,this._viewportTransformString=i),Gm.createSVGMatrix(t)}t=Gm.createSVGMatrix(t);var n=Gm.matrixToTransformString(t);return e.setAttribute("transform",n),this._viewportMatrix=t,this._viewportTransformString=e.getAttribute("transform"),this},clientMatrix:function(){return Gm.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(t,e,i){if(t instanceof mw)for(var n=t.model,r=this.model.getConnectedLinks(n),o=0,a=r.length;o<a;o++){var s=r[o],l=this.findViewByModel(s);if(l){var c=["UPDATE"];s.getTargetCell()===n&&c.push("TARGET"),s.getSourceCell()===n&&c.push("SOURCE");var d=Math.max(e+1,l.UPDATE_PRIORITY);this.scheduleViewUpdate(l,l.getFlag(c),d,i)}}},forcePostponedViewUpdate:function(t,e){if(!(t&&t instanceof mw))return!1;var i=t.model;if(i.isElement())return!1;if(0==(e&t.getFlag(["SOURCE","TARGET"]))){var n={silent:!0},r=0,o=this.findViewByModel(i.getSourceCell());o&&!this.isViewMounted(o)&&(r=this.dumpView(o,n),t.updateEndMagnet("source"));var a=0,s=this.findViewByModel(i.getTargetCell());if(s&&!this.isViewMounted(s)&&(a=this.dumpView(s,n),t.updateEndMagnet("target")),0===r&&0===a)return!this.dumpView(t,n)}return!1},requestViewUpdate:function(t,e,i,n){n||(n={}),this.scheduleViewUpdate(t,e,i,n);var r=this.isAsync();if(!(this.isFrozen()||r&&!1!==n.async||this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES))){var o=this.updateViews(n);r&&this.notifyAfterRender(o,n)}},scheduleViewUpdate:function(t,e,i,n){const{_updates:r,options:o}=this;r.idle&&o.autoFreeze&&(r.idle=!1,this.unfreeze());const{FLAG_REMOVE:a,FLAG_INSERT:s,UPDATE_PRIORITY:l,cid:c}=t;let d=r.priorities[i];if(d||(d=r.priorities[i]={}),i>l)for(let t=i-1;t>=l;t--){const e=r.priorities[t];e&&c in e&&(d[c]|=e[c],delete e[c])}let u=d[c]||0;if((u&e)===e)return;u||r.count++,e&a&&u&s?d[c]^=s:e&s&&u&a&&(d[c]^=a),d[c]|=e;const h=o.onViewUpdate;"function"==typeof h&&h.call(this,t,e,i,n||{},this)},dumpViewUpdate:function(t){if(!t)return 0;var e=this._updates,i=t.cid,n=e.priorities[t.UPDATE_PRIORITY],r=this.registerMountedView(t)|n[i];return delete n[i],r},dumpView:function(t,e={}){const i=this.dumpViewUpdate(t);if(!i)return 0;const n=!e.silent;n&&this.notifyBeforeRender(e);const r=this.updateView(t,i,e);if(n){const i={updated:1,priority:t.UPDATE_PRIORITY};this.notifyAfterRender(i,e)}return r},updateView:function(t,e,i){if(!t)return 0;const{FLAG_REMOVE:n,FLAG_INSERT:r,FLAG_INIT:o,model:a}=t;if(t instanceof mw){if(e&n)return this.removeView(a),0;if(e&r){const i=!!(e&o);i&&(e^=o),this.insertView(t,i),e^=r}}return e?t.confirmUpdate(e,i||{}):0},requireView:function(t,e){var i=this.findViewByModel(t);return i?(this.dumpView(i,e),i):null},registerUnmountedView:function(t){var e=t.cid,i=this._updates;if(e in i.unmounted)return 0;var n=i.unmounted[e]|=t.FLAG_INSERT;return i.unmountedCids.push(e),delete i.mounted[e],n},registerMountedView:function(t){var e=t.cid,i=this._updates;if(e in i.mounted)return 0;i.mounted[e]=!0,i.mountedCids.push(e);var n=i.unmounted[e]||0;return delete i.unmounted[e],n},isViewMounted:function(t){return!!t&&t.cid in this._updates.mounted},dumpViews:function(t){var e=Ay({},t,{viewport:null});this.checkViewport(e),this.updateViews(e)},updateViews:function(t){let e;this.notifyBeforeRender(t);let i=0,n=0,r=DC;do{n++,e=this.updateViewsBatch(t),i+=e.updated,r=Math.min(e.priority,r)}while(!e.empty);const o={updated:i,batches:n,priority:r};return this.notifyAfterRender(o,t),o},hasScheduledUpdates:function(){const t=this._updates.priorities,e=Object.keys(t);let i=e.length;for(;i>0&&i--;)for(let n in t[e[i]])return!0;return!1},updateViewsAsync:function(t,e){t||(t={}),e||(e={processed:0,priority:DC});const{_updates:i,options:n}=this,r=i.id;if(r){ax(r),0===e.processed&&this.hasScheduledUpdates()&&this.notifyBeforeRender(t);const o=this.updateViewsBatch(t),a=Ay({},t,{mountBatchSize:1e3-o.mounted,unmountBatchSize:1e3-o.unmounted}),s=this.checkViewport(a),l=s.unmounted,c=s.mounted;let d=e.processed;const u=i.count;o.updated>0?(d+=o.updated+o.unmounted,o.processed=d,e.priority=Math.min(o.priority,e.priority),o.empty&&0===c?(o.unmounted+=l,o.mounted+=c,o.priority=e.priority,this.notifyAfterRender(o,t),e.processed=0,e.priority=DC,i.count=0):e.processed=d):i.idle||n.autoFreeze&&(this.freeze(),i.idle=!0,this.trigger("render:idle",t));const h=t.progress;if(u&&"function"==typeof h&&h.call(this,o.empty,d,u,o,this),i.id!==r)return}if(i.disabled)throw new Error("dia.Paper: can not unfreeze the paper after it was removed");i.id=ox(this.updateViewsAsync,this,t,e)},notifyBeforeRender:function(t={}){let e=t.beforeRender;"function"!=typeof e&&(e=this.options.beforeRender,"function"!=typeof e)||e.call(this,t,this)},notifyAfterRender:function(t,e={}){let i=e.afterRender;"function"!=typeof i&&(i=this.options.afterRender),"function"==typeof i&&i.call(this,t,e,this),this.trigger("render:done",t,e)},updateViewsBatch:function(t){t||(t={});var e=t.batchSize||Infinity,i=this._updates,n=0,r=0,o=0,a=0,s=DC,l=!0,c=this.options,d=i.priorities,u="viewport"in t?t.viewport:c.viewport;"function"!=typeof u&&(u=null);var h=c.onViewPostponed;"function"!=typeof h&&(h=null);var p=Object.keys(d);t:for(var g=0,f=p.length;g<f;g++){var m=+p[g],v=d[m];for(var b in v){if(n>=e){l=!1;break t}var y=lw[b];if(y){var x=v[b];if(0==(x&y.FLAG_REMOVE)){var w=b in i.unmounted;if(y.DETACHABLE&&u&&!u.call(this,y,!w,this)){w||(this.registerUnmountedView(y),this.detachView(y)),i.unmounted[b]|=x,delete v[b],o++;continue}w&&(x|=y.FLAG_INSERT,a++),x|=this.registerMountedView(y)}var I=this.updateView(y,x,t);I>0&&(v[b]=I,!h||!h.call(this,y,I,this)||v[b])?(r++,l=!1):(s>m&&(s=m),n++,delete v[b])}else delete v[b]}}return{priority:s,updated:n,postponed:r,unmounted:o,mounted:a,empty:l}},getUnmountedViews:function(){const t=this._updates,e=Object.keys(t.unmounted),i=e.length,n=new Array(i);for(var r=0;r<i;r++)n[r]=lw[e[r]];return n},getMountedViews:function(){const t=this._updates,e=Object.keys(t.mounted),i=e.length,n=new Array(i);for(var r=0;r<i;r++)n[r]=lw[e[r]];return n},checkUnmountedViews:function(t,e){e||(e={});var i=0;"function"!=typeof t&&(t=null);for(var n=("mountBatchSize"in e?e.mountBatchSize:1/0),r=this._updates,o=r.unmountedCids,a=r.unmounted,s=0,l=Math.min(o.length,n);s<l;s++){var c=o[s];if(c in a){var d=lw[c];if(d)if(d.DETACHABLE&&t&&!t.call(this,d,!1,this))o.push(c);else{i++;var u=this.registerMountedView(d);u&&this.scheduleViewUpdate(d,u,d.UPDATE_PRIORITY,{mounting:!0})}}}return o.splice(0,s),i},checkMountedViews:function(t,e){e||(e={});var i=0;if("function"!=typeof t)return i;for(var n=("unmountBatchSize"in e?e.unmountBatchSize:1/0),r=this._updates,o=r.mountedCids,a=r.mounted,s=0,l=Math.min(o.length,n);s<l;s++){var c=o[s];if(c in a){var d=lw[c];if(d)if(d.DETACHABLE&&!t.call(this,d,!0,this))i++,this.registerUnmountedView(d)&&this.detachView(d);else o.push(c)}}return o.splice(0,s),i},checkViewVisibility:function(t,e={}){let i="viewport"in e?e.viewport:this.options.viewport;"function"!=typeof i&&(i=null);const n=this._updates,{mounted:r,unmounted:o}=n,a=!t.DETACHABLE||!i||i.call(this,t,!1,this);let s=!1,l=!1;if(t.cid in r&&!a){this.registerUnmountedView(t)&&this.detachView(t);const e=n.mountedCids.indexOf(t.cid);n.mountedCids.splice(e,1),s=!0}if(!s&&t.cid in o&&a){const e=n.unmountedCids.indexOf(t.cid);n.unmountedCids.splice(e,1);var c=this.registerMountedView(t);c&&this.scheduleViewUpdate(t,c,t.UPDATE_PRIORITY,{mounting:!0}),l=!0}return{mounted:l?1:0,unmounted:s?1:0}},checkViewport:function(t){var e=Ay({},t,{mountBatchSize:1/0,unmountBatchSize:1/0}),i="viewport"in e?e.viewport:this.options.viewport,n=this.checkMountedViews(i,e);if(n>0){var r=this._updates.unmountedCids;e.mountBatchSize=Math.min(r.length-n,e.mountBatchSize)}return{mounted:this.checkUnmountedViews(i,e),unmounted:n}},freeze:function(t){t||(t={});var e=this._updates,i=t.key,n=this.options.frozen,r=e.freezeKey;if(i&&i!==r){if(n&&r)return;e.freezeKey=i,e.keyFrozen=n}this.options.frozen=!0;var o=e.id;e.id=null,this.isAsync()&&o&&ax(o)},unfreeze:function(t){t||(t={});var e=this._updates,i=t.key,n=e.freezeKey;i&&n&&i!==n||(e.freezeKey=null,i&&i===n&&e.keyFrozen||(this.isAsync()?(this.freeze(),this.updateViewsAsync(t)):this.updateViews(t),this.options.frozen=e.keyFrozen=!1,e.sort&&(this.sortViews(),e.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===EC.EXACT},onRemove:function(){this.freeze(),this._updates.disabled=!0,this.removeLayers(),this.removeViews()},getComputedSize:function(){var t=this.options,e=t.width,i=t.height;return wy(e)||(e=this.el.clientWidth),wy(i)||(i=this.el.clientHeight),{width:e,height:i}},setDimensions:function(t,e){const{options:i}=this,{width:n,height:r}=i;let o=void 0===t?n:t,a=void 0===e?r:e;if(n===o&&r===a)return;i.width=o,i.height=a,this._setDimensions();const s=this.getComputedSize();this.trigger("resize",s.width,s.height)},_setDimensions:function(){const{options:t}=this;let e=t.width,i=t.height;wy(e)&&(e=Math.round(e)),wy(i)&&(i=Math.round(i)),this.$el.css({width:null===e?"":e,height:null===i?"":i})},setOrigin:function(t,e){return this.translate(t||0,e||0)},fitToContent:function(t,e,i,n){n=xy(t)?t:Cy({gridWidth:t,gridHeight:e,padding:i},n);const{x:r,y:o,width:a,height:s}=this.getFitToContentArea(n),{sx:l,sy:c}=this.scale();return this.setOrigin(-r*l,-o*c),this.setDimensions(a*l,s*c),new _h(r,o,a,s)},getFitToContentArea:function(t={}){const e=t.gridWidth||1,i=t.gridHeight||1,n=fx(t.padding||0),r=Math.max(t.minWidth||0,e),o=Math.max(t.minHeight||0,i),a=t.maxWidth||Number.MAX_VALUE,s=t.maxHeight||Number.MAX_VALUE,l=t.allowNewOrigin,c="contentArea"in t?new _h(t.contentArea):this.getContentArea(t),{sx:d,sy:u}=this.scale();c.x*=d,c.y*=u,c.width*=d,c.height*=u;let h=Math.ceil((c.width+c.x)/e),p=Math.ceil((c.height+c.y)/i);t.allowNegativeBottomRight||(h=Math.max(h,1),p=Math.max(p,1)),h*=e,p*=i;let g=0;("negative"===l&&c.x<0||"positive"===l&&c.x>=0||"any"===l)&&(g=Math.ceil(-c.x/e)*e,g+=n.left,h+=g);let f=0;return("negative"===l&&c.y<0||"positive"===l&&c.y>=0||"any"===l)&&(f=Math.ceil(-c.y/i)*i,f+=n.top,p+=f),h+=n.right,p+=n.bottom,h=Math.max(h,r),p=Math.max(p,o),h=Math.min(h,a),p=Math.min(p,s),new _h(-g/d,-f/u,h/d,p/u)},transformToFitContent:function(t){let e,i;if(t||(t={}),"contentArea"in t){const n=t.contentArea;e=this.localToPaperRect(n),i=new ch(n)}else e=this.getContentBBox(t),i=this.paperToLocalPoint(e);if(!e.width||!e.height)return;Ay(t,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE,verticalAlign:"top",horizontalAlign:"left"});const n=fx(t.padding),r=t.minScaleX||t.minScale,o=t.maxScaleX||t.maxScale,a=t.minScaleY||t.minScale,s=t.maxScaleY||t.maxScale;let l;if(t.fittingBBox)l=t.fittingBBox;else{const t=this.translate(),e=this.getComputedSize();l={x:t.tx,y:t.ty,width:e.width,height:e.height}}l=new _h(l).moveAndExpand({x:n.left,y:n.top,width:-n.left-n.right,height:-n.top-n.bottom});const c=this.scale();let d=l.width/e.width*c.sx,u=l.height/e.height*c.sy;if(t.preserveAspectRatio&&(d=u=Math.min(d,u)),t.scaleGrid){const e=t.scaleGrid;d=e*Math.floor(d/e),u=e*Math.floor(u/e)}d=Math.min(o,Math.max(r,d)),u=Math.min(s,Math.max(a,u));const h=d/c.sx,p=u/c.sy,g=this.options.origin;let f=l.x-i.x*d-g.x,m=l.y-i.y*u-g.y;switch(t.verticalAlign){case"middle":m+=(l.height-e.height*p)/2;break;case"bottom":m+=l.height-e.height*p}switch(t.horizontalAlign){case"middle":f+=(l.width-e.width*h)/2;break;case"right":f+=l.width-e.width*h}this.scale(d,u),this.translate(f,m)},scaleContentToFit:function(t){this.transformToFitContent(t)},getContentArea:function(t){return t&&t.useModelGeometry?this.model.getBBox()||new _h:Gm(this.cells).getBBox()},getContentBBox:function(t){return this.localToPaperRect(this.getContentArea(t))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...t){const{restrictTranslate:e}=this.options;let i;return i=Ey(e)?e.apply(this,t):!0===e?this.getArea():e?new _h(e):null,i},createViewForModel:function(t){const{options:e}=this;var i,n,r=e.cellViewNamespace,o=t.get("type")+"View",a=qy(r,o,".");return t.isLink()?(i=e.linkView,n=XI):(i=e.elementView,n=ww),new(i.prototype instanceof jm.View?a||i:i.call(this,t)||a||n)({model:t,interactive:e.interactive,labelsLayer:!0===e.labelsLayer?uw.LABELS:e.labelsLayer})},removeView:function(t){const{id:e}=t,{_views:i,_updates:n}=this,r=i[e];if(r){var{cid:o}=r;const{mounted:t,unmounted:a}=n;r.remove(),delete i[e],delete t[o],delete a[o]}return r},renderView:function(t,e){const{id:i}=t,n=this._views;let r,o,a=!0;return i in n&&(r=n[i],r.model===t?(o=r.FLAG_INSERT,a=!1):this.removeView(t)),a&&(r=n[i]=this.createViewForModel(t),r.paper=this,o=this.registerUnmountedView(r)|this.FLAG_INIT|r.getFlag(Fy(r,"initFlag"))),this.requestViewUpdate(r,o,r.UPDATE_PRIORITY,e),r},onImageDragStart:function(){return!1},resetViews:function(t,e){e||(e={}),t||(t=[]),this._resetUpdates(),this.removeViews();const i=this.options.autoFreeze?null:"reset";this.freeze({key:i});for(var n=0,r=t.length;n<r;n++)this.renderView(t[n],e);this.unfreeze({key:i}),this.sortViews()},removeViews:function(){ky(this._views,"remove"),this._views={}},sortViews:function(){this.isExactSorting()&&(this.isFrozen()?this._updates.sort=!0:this.sortViewsExact())},sortViewsExact:function(){var t,e,i,n=Dm(this.cells).children("[model-id]"),r=this.model.get("cells");t=function(t,e){var i=r.get(t.getAttribute("model-id")),n=r.get(e.getAttribute("model-id")),o=i.attributes.z||0,a=n.attributes.z||0;return o===a?0:o<a?-1:1},e=Dm(n),i=e.map((function(){var t=this.parentNode,e=t.insertBefore(document.createTextNode(""),this.nextSibling);return function(){if(t===this)throw new Error("You can't sort elements if any one is a descendant of another.");t.insertBefore(this,e),t.removeChild(e)}})),Array.prototype.sort.call(e,t).each((function(t){i[t].call(this)}))},insertView:function(t,e){const i=this.getLayerView(uw.CELLS),{el:n,model:r}=t;if(this.options.sorting===EC.APPROX)i.insertSortedNode(n,r.get("z"));else i.insertNode(n);t.onMount(e)},detachView(t){t.unmount(),t.onDetach()},scale:function(t,e,i,n){if(void 0===t)return Gm.matrixToScale(this.matrix());void 0===e&&(e=t),void 0===i&&(i=0,n=0);var r=this.translate();if(i||n||r.tx||r.ty){var o=r.tx-i*(t-1),a=r.ty-n*(e-1);this.translate(o,a)}t=Math.max(t||0,this.MIN_SCALE),e=Math.max(e||0,this.MIN_SCALE);var s=this.matrix();return s.a=t,s.d=e,this.matrix(s),this.trigger("scale",t,e,i,n),this},rotate:function(t,e,i){if(void 0===t)return Gm.matrixToRotate(this.matrix());if(void 0===e){var n=this.cells.getBBox();e=n.width/2,i=n.height/2}var r=this.matrix().translate(e,i).rotate(t).translate(-e,-i);return this.matrix(r),this},translate:function(t,e){if(void 0===t)return Gm.matrixToTranslate(this.matrix());const{options:i}=this,{origin:n,drawGrid:r}=i;t||(t=0),e||(e=0);const o=this.matrix();if(o.e===t&&o.f===e)return this;o.e=t,o.f=e,this.matrix(o);const{tx:a,ty:s}=this.translate();return n.x=a,n.y=s,this.trigger("translate",a,s),r&&this.drawGrid(),this},findView:function(t){var e=Iy(t)?this.cells.querySelector(t):t instanceof Dm?t[0]:t,i=this.findAttribute("model-id",e);if(i)return this._views[i]},findViewByModel:function(t){var e=Iy(t)||wy(t)?t:t&&t.id;return this._views[e]},findViewsFromPoint:function(t){return t=new ch(t),this.model.getElements().map(this.findViewByModel,this).filter((function(e){return e&&e.vel.getBBox({target:this.cells}).containsPoint(t)}),this)},findViewsInArea:function(t,e){e=Ay(e||{},{strict:!1}),t=new _h(t);var i=this.model.getElements().map(this.findViewByModel,this),n=e.strict?"containsRect":"intersect";return i.filter((function(e){return e&&t[n](e.vel.getBBox({target:this.cells}))}),this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(t,...e){"string"==typeof t&&this.trigger("tools:event",t,...e)},getModelById:function(t){return this.model.getCell(t)},snapToGrid:function(t,e){return this.clientToLocalPoint(t,e).snapToGrid(this.options.gridSize)},localToPaperPoint:function(t,e){var i=new ch(t,e);return Gm.transformPoint(i,this.matrix())},localToPaperRect:function(t,e,i,n){var r=new _h(t,e,i,n);return Gm.transformRect(r,this.matrix())},paperToLocalPoint:function(t,e){var i=new ch(t,e);return Gm.transformPoint(i,this.matrix().inverse())},paperToLocalRect:function(t,e,i,n){var r=new _h(t,e,i,n);return Gm.transformRect(r,this.matrix().inverse())},localToClientPoint:function(t,e){var i=new ch(t,e);return Gm.transformPoint(i,this.clientMatrix())},localToClientRect:function(t,e,i,n){var r=new _h(t,e,i,n);return Gm.transformRect(r,this.clientMatrix())},clientToLocalPoint:function(t,e){var i=new ch(t,e);return Gm.transformPoint(i,this.clientMatrix().inverse())},clientToLocalRect:function(t,e,i,n){var r=new _h(t,e,i,n);return Gm.transformRect(r,this.clientMatrix().inverse())},localToPagePoint:function(t,e){return this.localToPaperPoint(t,e).offset(this.pageOffset())},localToPageRect:function(t,e,i,n){return this.localToPaperRect(t,e,i,n).offset(this.pageOffset())},pageToLocalPoint:function(t,e){var i=new ch(t,e).difference(this.pageOffset());return this.paperToLocalPoint(i)},pageToLocalRect:function(t,e,i,n){var r=this.pageOffset(),o=new _h(t,e,i,n);return o.x-=r.x,o.y-=r.y,this.paperToLocalRect(o)},clientOffset:function(){var t=this.svg.getBoundingClientRect();return new ch(t.left,t.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(t){if(!(t instanceof XI))throw new Error("Must provide a linkView.");var e=t.model,i=this.options,n=this.model,r=n.constructor.validations;return!(!i.multiLinks&&!r.multiLinks.call(this,n,e))&&(!(!i.linkPinning&&!r.linkPinning.call(this,n,e))&&!("function"==typeof i.allowLink&&!i.allowLink.call(this,t,this)))},getDefaultLink:function(t,e){return Ey(this.options.defaultLink)?this.options.defaultLink.call(this,t,e):this.options.defaultLink.clone()},resolveHighlighter:function(t={}){let{highlighter:e,type:i}=t;const{highlighting:n,highlighterNamespace:r}=this.options;if(void 0===e){if(!n)return!1;if(i&&(e=n[i],!1===e))return!1;e||(e=n.default)}if(!e)return!1;Iy(e)&&(e={name:e});const o=e.name,a=r[o];if(!a)throw new Error('Unknown highlighter ("'+o+'")');if("function"!=typeof a.highlight)throw new Error('Highlighter ("'+o+'") is missing required highlight() method');if("function"!=typeof a.unhighlight)throw new Error('Highlighter ("'+o+'") is missing required unhighlight() method');return{highlighter:a,options:e.options||{},name:o}},onCellHighlight:function(t,e,i){const n=this.resolveHighlighter(i);if(!n)return;const{highlighter:r,options:o}=n;r.highlight(t,e,o)},onCellUnhighlight:function(t,e,i){const n=this.resolveHighlighter(i);if(!n)return;const{highlighter:r,options:o}=n;r.unhighlight(t,e,o)},pointerdblclick:function(t){t.preventDefault(),t=rx(t);var e=this.findView(t.target);if(!this.guard(t,e)){var i=this.snapToGrid(t.clientX,t.clientY);e?e.pointerdblclick(t,i.x,i.y):this.trigger("blank:pointerdblclick",t,i.x,i.y)}},pointerclick:function(t){if(this.eventData(t).mousemoved<=this.options.clickThreshold){t=rx(t);var e=this.findView(t.target);if(this.guard(t,e))return;var i=this.snapToGrid(t.clientX,t.clientY);e?e.pointerclick(t,i.x,i.y):this.trigger("blank:pointerclick",t,i.x,i.y)}},contextmenu:function(t){this.options.preventContextMenu&&t.preventDefault(),this.contextMenuFired?this.contextMenuFired=!1:(t=rx(t),this.contextMenuTrigger(t))},contextMenuTrigger:function(t){var e=this.findView(t.target);if(!this.guard(t,e)){var i=this.snapToGrid(t.clientX,t.clientY);e?e.contextmenu(t,i.x,i.y):this.trigger("blank:contextmenu",t,i.x,i.y)}},pointerdown:function(t){t=rx(t);const{target:e,button:i}=t,n=this.findView(e),r=2===i;if(n){if(!r&&this.guard(t,n))return;const i=this.FORM_CONTROL_TAG_NAMES.includes(e.tagName);this.options.preventDefaultViewAction&&!i&&t.preventDefault(),i&&n.preventDefaultInteraction(t);const o=this.customEventTrigger(t,n);if(o){if(o.isPropagationStopped())return;t.data=o.data}const a=e.closest("[magnet]");if(a&&n.el!==a&&n.el.contains(a)){const e=rx(Dm.Event(t.originalEvent,{data:t.data,currentTarget:a}));if(this.onmagnet(e),e.isDefaultPrevented()&&t.preventDefault(),e.isPropagationStopped()){if(r)return;return void this.delegateDragEvents(n,e.data)}t.data=e.data}}if(r){this.contextMenuFired=!0;const e=Dm.Event(t.originalEvent,{type:"contextmenu",data:t.data});this.contextMenuTrigger(e)}else{const e=this.snapToGrid(t.clientX,t.clientY);n?n.pointerdown(t,e.x,e.y):(this.options.preventDefaultBlankAction&&t.preventDefault(),this.trigger("blank:pointerdown",t,e.x,e.y)),this.delegateDragEvents(n,t.data)}},pointermove:function(t){var e=this.eventData(t);if(e.mousemoved||(e.mousemoved=0,this.undelegateEvents()),!(++e.mousemoved<=this.options.moveThreshold)){t=rx(t);var i=this.snapToGrid(t.clientX,t.clientY),n=e.sourceView;n?n.pointermove(t,i.x,i.y):this.trigger("blank:pointermove",t,i.x,i.y),this.eventData(t,e)}},pointerup:function(t){this.undelegateDocumentEvents();var e=rx(t),i=this.snapToGrid(e.clientX,e.clientY),n=this.eventData(t).sourceView;n?n.pointerup(e,i.x,i.y):this.trigger("blank:pointerup",e,i.x,i.y),e.isPropagationStopped()||this.pointerclick(Dm.Event(t.originalEvent,{type:"click",data:t.data})),this.delegateEvents()},mouseover:function(t){t=rx(t);var e=this.findView(t.target);if(!this.guard(t,e))if(e)e.mouseover(t);else{if(this.el===t.target)return;this.trigger("blank:mouseover",t)}},mouseout:function(t){t=rx(t);var e=this.findView(t.target);if(!this.guard(t,e))if(e)e.mouseout(t);else{if(this.el===t.target)return;this.trigger("blank:mouseout",t)}},mouseenter:function(t){t=rx(t);const{target:e,relatedTarget:i,currentTarget:n}=t,r=this.findView(e);if(this.guard(t,r))return;const o=this.findView(i);if(r){if(o===r)return;if(r.mouseenter(t),this.el.contains(i))return}o||n===this.el&&this.trigger("paper:mouseenter",t)},mouseleave:function(t){t=rx(t);const{target:e,relatedTarget:i,currentTarget:n}=t,r=this.findView(e);if(this.guard(t,r))return;const o=this.findView(i);if(r){if(o===r)return;if(r.mouseleave(t),this.el.contains(i))return}o||n===this.el&&this.trigger("paper:mouseleave",t)},_processMouseWheelEvtBuf:function(t,e,i){if("function"!=typeof t)throw new TypeError("Expected a function");let n,r,o,a,s,l,c=0,d=!1,u=!1,h=!0;const p=!e&&0!==e&&window&&"function"==typeof window.requestAnimationFrame;function g(e){const i=n,o=r;return n=r=void 0,c=e,a=t.apply(o,i),a}function f(t,e){return p?(window.cancelAnimationFrame(s),window.requestAnimationFrame(t)):setTimeout(t,e)}function m(t){const i=t-l;return void 0===l||i>=e||i<0||u&&t-c>=o}function v(){const t=Date.now();if(m(t))return b(t);s=f(v,function(t){const i=t-c,n=e-(t-l);return u?Math.min(n,o-i):n}(t))}function b(t){return s=void 0,h&&n?g(t):(n=r=void 0,a)}function y(...t){const i=Date.now(),o=m(i);if(n=t,r=this,l=i,o){if(void 0===s)return function(t){return c=t,s=f(v,e),d?g(t):a}(l);if(u)return s=f(v,e),g(l)}return void 0===s&&(s=f(v,e)),a}return e=+e||0,xy(i)&&(d=!!i.leading,u="maxWait"in i,o=u?Math.max(+i.maxWait||0,e):o,h="trailing"in i?!!i.trailing:h),y.cancel=()=>{void 0!==s&&function(t){if(p)return window.cancelAnimationFrame(t);clearTimeout(t)}(s),c=0,n=l=r=s=void 0},y.flush=()=>void 0===s?a:b(Date.now()),y.pending=()=>void 0!==s,y}((function(){const{event:t,deltas:e}=this._mw_evt_buffer,i=e.reduce(((t,e)=>t+function(t,e){return t>e?e:t<-e?-e:t}(e,50)),0),n=Math.pow(.995,i),{x:r,y:o}=this.clientToLocalPoint(t.clientX,t.clientY);this.trigger("paper:pinch",t,r,o,n),this._mw_evt_buffer={event:null,deltas:[]}}),20,{maxWait:20}),mousewheel:function(t){t=rx(t);const e=this.findView(t.target);if(this.guard(t,e))return;const i=t.originalEvent,n=this.snapToGrid(i.clientX,i.clientY),{deltaX:r,deltaY:o}=function(t){let e=0,i=0,n=0,r=0;return"detail"in t&&(i=t.detail),"wheelDelta"in t&&(i=-t.wheelDelta/120),"wheelDeltaY"in t&&(i=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=i,i=0),n="deltaX"in t?t.deltaX:10*e,r="deltaY"in t?t.deltaY:10*i,(n||r)&&t.deltaMode&&(1==t.deltaMode?(n*=40,r*=40):(n*=800,r*=800)),0===t.deltaX&&0!==t.deltaY&&t.shiftKey&&(n=r,r=0,e=i,i=0),n&&!e&&(e=n<1?-1:1),r&&!i&&(i=r<1?-1:1),{spinX:e,spinY:i,deltaX:n,deltaY:r}}(i),a=this._events["paper:pinch"];if(t.ctrlKey&&a&&a.length>0)i.preventDefault(),this._mw_evt_buffer.event=i,this._mw_evt_buffer.deltas.push(o),this._processMouseWheelEvtBuf();else{const a=Math.max(-1,Math.min(1,i.wheelDelta));e?e.mousewheel(t,n.x,n.y,a):this.trigger("blank:mousewheel",t,n.x,n.y,a),this.trigger("paper:pan",t,r,o)}},onevent:function(t){var e=t.currentTarget,i=e.getAttribute("event");if(i){var n=this.findView(e);if(n){if(t=rx(t),this.guard(t,n))return;var r=this.snapToGrid(t.clientX,t.clientY);n.onevent(t,i,r.x,r.y)}}},magnetEvent:function(t,e){var i=t.currentTarget;if(i.getAttribute("magnet")){var n=this.findView(i);if(n){if(t=rx(t),this.guard(t,n))return;var r=this.snapToGrid(t.clientX,t.clientY);e.call(this,n,t,i,r.x,r.y)}}},onmagnet:function(t){if(2===t.button){this.contextMenuFired=!0,this.magnetContextMenuFired=!0;const e=Dm.Event(t.originalEvent,{type:"contextmenu",data:t.data,currentTarget:t.currentTarget});this.magnetContextMenuTrigger(e),e.isPropagationStopped()&&t.stopPropagation()}else this.magnetEvent(t,(function(t,e,i,n,r){t.onmagnet(e,n,r)}))},magnetpointerdblclick:function(t){this.magnetEvent(t,(function(t,e,i,n,r){t.magnetpointerdblclick(e,i,n,r)}))},magnetcontextmenu:function(t){this.options.preventContextMenu&&t.preventDefault(),this.magnetContextMenuFired?this.magnetContextMenuFired=!1:this.magnetContextMenuTrigger(t)},magnetContextMenuTrigger:function(t){this.magnetEvent(t,(function(t,e,i,n,r){t.magnetcontextmenu(e,i,n,r)}))},onlabel:function(t){var e=t.currentTarget,i=this.findView(e);if(!i)return;if(t=rx(t),this.guard(t,i))return;const n=this.customEventTrigger(t,i,e);if(n){if(n.isPropagationStopped())return;t.data=n.data}var r=this.snapToGrid(t.clientX,t.clientY);i.onlabel(t,r.x,r.y)},getPointerArgs(t){const e=rx(t),{x:i,y:n}=this.snapToGrid(e.clientX,e.clientY);return[e,i,n]},delegateDragEvents:function(t,e){e||(e={}),this.eventData({data:e},{sourceView:t||null,mousemoved:0}),this.delegateDocumentEvents(null,e)},guard:function(t,e){if("mousedown"===t.type&&2===t.button)return!0;if(this.options.guard&&this.options.guard(t,e))return!0;if(t.data&&void 0!==t.data.guarded)return t.data.guarded;const{target:i}=t;return!!this.GUARDED_TAG_NAMES.includes(i.tagName)||!(e&&e.model&&e.model instanceof Gx)&&(this.svg!==i&&this.el!==i&&!Dm.contains(this.svg,i))},setGridSize:function(t){const{options:e}=this;return e.gridSize=t,e.drawGrid&&!e.drawGridSize&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:Gm("svg",{width:"100%",height:"100%"},Gm("defs")),patterns:{},add:function(t,e){Gm(this.root.node.childNodes[0]).append(e),this.patterns[t]=e,this.root.append(Gm("rect",{width:"100%",height:"100%",fill:"url(#"+t+")"}))},get:function(t){return this.patterns[t]},exist:function(t){return void 0!==this.patterns[t]}}),this._gridCache},setGrid:function(t){return this.clearGrid(),this._gridCache=null,this._gridSettings=[],(Array.isArray(t)?t:[t||{}]).forEach((function(t){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(t))}),this),this},_resolveDrawGridOption:function(t){var e=this.constructor.gridPatterns;if(Iy(t)&&Array.isArray(e[t]))return e[t].map((function(t){return Cy({},t)}));var i=t||{args:[{}]},n=Array.isArray(i),r=i.name;if(n||r||i.markup||(r="dot"),r&&Array.isArray(e[r])){var o=e[r].map((function(t){return Cy({},t)})),a=Array.isArray(i.args)?i.args:[i.args||{}];Ay(a[0],Wy(t,"args"));for(var s=0;s<a.length;s++)o[s]&&Cy(o[s],a[s]);return o}return n?i:[i]},drawGrid:function(t){const e=this.options.drawGridSize||this.options.gridSize;if(e<=1)return this.clearGrid();var i=Array.isArray(t)?t:[t],n=this.matrix(),r=this._getGridRefs();this._gridSettings.forEach((function(t,o){var a="pattern_"+o,s=Hy(t,i[o],{sx:n.a||1,sy:n.d||1,ox:n.e||0,oy:n.f||0});s.width=e*(n.a||1)*(s.scaleFactor||1),s.height=e*(n.d||1)*(s.scaleFactor||1),r.exist(a)||r.add(a,Gm("pattern",{id:a,patternUnits:"userSpaceOnUse"},Gm(s.markup)));var l=r.get(a);Ey(s.update)&&s.update(l.node.childNodes[0],s);var c=s.ox%s.width;c<0&&(c+=s.width);var d=s.oy%s.height;d<0&&(d+=s.height),l.attr({x:c,y:d,width:s.width,height:s.height})}));var o=(new XMLSerializer).serializeToString(r.root.node);return o="url(data:image/svg+xml;base64,"+btoa(o)+")",this.$grid.css("backgroundImage",o),this},updateBackgroundImage:function(t){var e=(t=t||{}).position||"center",i=t.size||"auto auto",n=this.scale(),r=this.translate();xy(e)&&(e=r.tx+n.sx*(e.x||0)+"px "+(r.ty+n.sy*(e.y||0))+"px");xy(i)&&(i=(i=new _h(i).scale(n.sx,n.sy)).width+"px "+i.height+"px"),this.$background.css({backgroundSize:i,backgroundPosition:e})},drawBackgroundImage:function(t,e){if(t instanceof HTMLImageElement){if(this._background&&this._background.id===e.id){var i,n=(e=e||{}).size,r=e.repeat||"no-repeat",o=e.opacity||1,a=Math.abs(e.quality)||1,s=this.constructor.backgroundPatterns[((t="")=>hy(`${t}`.replace(/['\u2019]/g,"")).reduce(((t,e,i)=>(e=e.toLowerCase(),t+(i?py(e):e))),""))(r)];if(Ey(s)){t.width*=a,t.height*=a;var l=s(t,e);if(!(l instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");i=l.toDataURL("image/png"),r="repeat",xy(n)?(n.width*=l.width/t.width,n.height*=l.height/t.height):void 0===n&&(e.size={width:l.width/a,height:l.height/a})}else i=t.src,void 0===n&&(e.size={width:t.width,height:t.height});this.$background.css({opacity:o,backgroundRepeat:r,backgroundImage:"url("+i+")"}),this.updateBackgroundImage(e)}}else this.$background.css("backgroundImage","")},updateBackgroundColor:function(t){this.$el.css("backgroundColor",t||"")},drawBackground:function(t){if(t=t||{},this.updateBackgroundColor(t.color),t.image){t=this._background=Ny(t),nx(t);var e=document.createElement("img");e.onload=this.drawBackgroundImage.bind(this,e,t),e.src=t.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(t){this.options.interactive=t,ky(this._views,"setInteractivity",t)},isDefined:function(t){return!!this.svg.getElementById(t)},defineFilter:function(t){if(!xy(t))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var e=t.id,i=t.name;if(e||(e=i+this.svg.id+Ky(JSON.stringify(t))),!this.isDefined(e)){var n=bx,r=n[i]&&n[i](t.args||{});if(!r)throw new Error("Non-existing filter "+i);var o=Cy({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},t.attrs,{id:e});Gm(r,o).appendTo(this.defs)}return e},defineGradient:function(t){if(!xy(t))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");const{svg:e,defs:i}=this,{type:n,id:r=n+e.id+Ky(JSON.stringify(t)),stops:o,attrs:a={}}=t;if(this.isDefined(r))return r;const s=zy(o).map((({offset:t,color:e,opacity:i})=>Gm("stop").attr({offset:t,"stop-color":e,"stop-opacity":Number.isFinite(i)?i:1}))),l=Gm(n,a,s);return l.id=r,l.appendTo(i),r},definePattern:function(t){if(!xy(t))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");const{svg:e,defs:i}=this,{id:n=e.id+Ky(JSON.stringify(t)),markup:r,attrs:o={}}=t;if(!r)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(n))return n;const a=Gm("pattern",{patternUnits:"userSpaceOnUse"});if(a.id=n,a.attr(o),"string"==typeof r)a.append(Gm(r));else{const{fragment:t}=Qy(r);a.append(t)}return a.appendTo(i),n},defineMarker:function(t){if(!xy(t))throw new TypeError("dia.Paper: defineMarker() requires the first argument to be an object.");const{svg:e,defs:i}=this,{id:n=e.id+Ky(JSON.stringify(t)),markup:r,attrs:o={},markerUnits:a="userSpaceOnUse"}=t;if(this.isDefined(n))return n;const s=Gm("marker",{orient:"auto",overflow:"visible",markerUnits:a});let l;if(s.id=n,s.attr(o),r){let t;if("string"==typeof r)t=Gm(r),t=Array.isArray(t)?t:[t];else{const{fragment:e}=Qy(r);t=Gm(e).children()}l=t.length>1?Gm("g").append(t):t[0]}else{const{type:e="path"}=t;l=Gm(e)}const c=Wy(t,"type","id","markup","attrs","markerUnits");return Object.keys(c).forEach((t=>{const e=c[t],i=l.attr(t);if(null==i)l.attr(t,e);else if("transform"===t)l.attr(t,e+" "+i)})),l.appendTo(s),s.appendTo(i),n},customEventTrigger:function(t,e,i=e.el){const n=t.target.closest("[event]");if(n&&i!==n&&e.el.contains(n)){const e=rx(Dm.Event(t.originalEvent,{data:t.data,currentTarget:n}));return this.onevent(e),e.isDefaultPrevented()&&t.preventDefault(),e}return null}},{sorting:EC,Layers:uw,backgroundPatterns:{flipXy:function(t){var e=document.createElement("canvas"),i=t.width,n=t.height;e.width=2*i,e.height=2*n;var r=e.getContext("2d");return r.drawImage(t,0,0,i,n),r.setTransform(-1,0,0,-1,e.width,e.height),r.drawImage(t,0,0,i,n),r.setTransform(-1,0,0,1,e.width,0),r.drawImage(t,0,0,i,n),r.setTransform(1,0,0,-1,0,e.height),r.drawImage(t,0,0,i,n),e},flipX:function(t){var e=document.createElement("canvas"),i=t.width,n=t.height;e.width=2*i,e.height=n;var r=e.getContext("2d");return r.drawImage(t,0,0,i,n),r.translate(2*i,0),r.scale(-1,1),r.drawImage(t,0,0,i,n),e},flipY:function(t){var e=document.createElement("canvas"),i=t.width,n=t.height;e.width=i,e.height=2*n;var r=e.getContext("2d");return r.drawImage(t,0,0,i,n),r.translate(0,2*n),r.scale(1,-1),r.drawImage(t,0,0,i,n),e},watermark:function(t,e){e=e||{};var i=t.width,n=t.height,r=document.createElement("canvas");r.width=3*i,r.height=3*n;for(var o=r.getContext("2d"),a=wy(e.watermarkAngle)?-e.watermarkAngle:-20,s=Fu(a),l=r.width/4,c=r.height/4,d=0;d<4;d++)for(var u=0;u<4;u++)(d+u)%2>0&&(o.setTransform(1,0,0,1,(2*d-1)*l,(2*u-1)*c),o.rotate(s),o.drawImage(t,-i/2,-n/2,i,n));return r}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(t,e){Gm(t).attr({width:e.thickness*e.sx,height:e.thickness*e.sy,fill:e.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(t,e){var i=e.sx<=1?e.thickness*e.sx:e.thickness;Gm(t).attr({width:i,height:i,fill:e.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(t,e){var i,n=e.width,r=e.height,o=e.thickness;i=n-o>=0&&r-o>=0?["M",n,0,"H0 M0 0 V0",r].join(" "):"M 0 0 0 0",Gm(t).attr({d:i,stroke:e.color,"stroke-width":e.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(t,e){var i,n=e.width,r=e.height,o=e.thickness;i=n-o>=0&&r-o>=0?["M",n,0,"H0 M0 0 V0",r].join(" "):"M 0 0 0 0",Gm(t).attr({d:i,stroke:e.color,"stroke-width":e.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(t,e){var i,n=e.width,r=e.height,o=e.thickness;i=n-o>=0&&r-o>=0?["M",n,0,"H0 M0 0 V0",r].join(" "):"M 0 0 0 0",Gm(t).attr({d:i,stroke:e.color,"stroke-width":e.thickness})}}]}}),BC={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(t,e){return this._tests[t]=e},test:function(t){var e=this._tests[t];if(!e)throw new Error('Test not defined ("'+t+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var i=this._results[t];if(void 0!==i)return i;try{i=e()}catch(t){i=!1}return this._results[t]=i,i}},UC=ow.define("basic.Generic",{attrs:{".":{fill:"#ffffff",stroke:"none"}}}),ZC=UC.define("basic.Rect",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:100,height:60},text:{fill:"#000000",text:"","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><rect/></g><text/></g>'}),$C=ww.extend({presentationAttributes:ww.addPresentationAttributes({attrs:["SCALE"]}),confirmUpdate:function(){var t=ww.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(t,"SCALE")&&(this.resize(),t=this.removeFlag(t,"SCALE")),t}}),FC=UC.define("basic.Text",{attrs:{text:{"font-size":18,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><text/></g></g>'}),WC=UC.define("basic.Circle",{size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g><text/></g>'}),VC=UC.define("basic.Ellipse",{size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse/></g><text/></g>'}),YC=UC.define("basic.Polygon",{size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),HC=UC.define("basic.Polyline",{size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polyline/></g><text/></g>'}),XC=UC.define("basic.Image",{attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><image/></g><text/></g>'}),JC=UC.define("basic.Path",{size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><path/></g><text/></g>'}),QC=JC.define("basic.Rhombus",{attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"ref-dy":null,"y-alignment":"middle"}}}),KC=BC.test("svgforeignobject"),qC=UC.define("basic.TextBlock",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000","font-size":14,"font-family":"Arial, helvetica, sans-serif"},".content":{text:"","ref-x":.5,"ref-y":.5,"y-alignment":"middle","x-alignment":"middle"}},content:""},{markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',KC?'<foreignObject class="fobj"><body xmlns="http://www.w3.org/1999/xhtml"><div class="content"/></body></foreignObject>':'<text class="content"/>',"</g>"].join(""),initialize:function(){this.listenTo(this,"change:size",this.updateSize),this.listenTo(this,"change:content",this.updateContent),this.updateSize(this,this.get("size")),this.updateContent(this,this.get("content")),UC.prototype.initialize.apply(this,arguments)},updateSize:function(t,e){this.attr({".fobj":Cy({},e),div:{style:Cy({},e)}})},updateContent:function(t,e){var i,n;KC?this.attr({".content":{html:(i=e,n=Dm(Dm.parseHTML("<div>"+i+"</div>",null,!1)),n.find("*").each((function(){var t=this;Dm.each(t.attributes,(function(){var e=this.name,i=this.value;(e.startsWith("on")||i.startsWith("javascript:")||i.startsWith("data:")||i.startsWith("vbscript:"))&&Dm(t).removeAttr(e)}))})),n.html())}}):this.attr({".content":{text:e}})},setForeignObjectSize:function(){this.updateSize.apply(this,arguments)},setDivContent:function(){this.updateContent.apply(this,arguments)}}),tA=ww.extend({presentationAttributes:KC?ww.prototype.presentationAttributes:ww.addPresentationAttributes({content:["CONTENT"],size:["CONTENT"]}),initFlag:["RENDER","CONTENT"],confirmUpdate:function(){var t=ww.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(t,"CONTENT")&&(this.updateContent(this.model),t=this.removeFlag(t,"CONTENT")),t},update:function(t,e){var i=this.model;if(KC)ww.prototype.update.call(this,i,e);else{var n=Wy(e||i.get("attrs"),".content");ww.prototype.update.call(this,i,n),e&&!$y(e,".content")||this.updateContent(i,e)}},updateContent:function(t,e){var i=Hy({},(e||t.get("attrs"))[".content"]);i=Wy(i,"text");var n=gx(t.get("content"),t.get("size"),i,{svgDocument:this.paper.svg}),r=ex({},".content",i,"/");r[".content"].text=n,ww.prototype.update.call(this,t,r)}});var eA=Object.freeze({__proto__:null,Generic:UC,Rect:ZC,TextView:$C,Text:FC,Circle:WC,Ellipse:VC,Polygon:YC,Polyline:HC,Image:XC,Path:JC,Rhombus:QC,TextBlock:qC,TextBlockView:tA});const iA=ow.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),nA=ow.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),rA=ow.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),oA=ow.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),aA=ow.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]}),sA=ow.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]}),lA=ow.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),cA=ow.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),dA=ow.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),uA=ow.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),hA=ow.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]});const pA=ow.define("standard.Cylinder",{attrs:{body:{lateralArea:10,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:10,refRx:"50%",ry:10,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(t,e){if(void 0===t)return this.attr("body/lateralArea");var i={lateralArea:t},n=cx(t)?{refCy:t,refRy:t,cy:null,ry:null}:{refCy:null,refRy:null,cy:t,ry:t};return this.attr({body:i,top:n},e)}},{attributes:{lateralArea:{set:function(t,e){var i=cx(t);i&&(t=parseFloat(t)/100);var n=e.x,r=e.y,o=e.width,a=e.height,s=o/2,l=i?a*t:t,c=Gm.KAPPA,d=c*s,u=c*(i?a*t:t),h=n+o/2,p=n+o,g=r+l,f=g-l,m=r+a-l,v=r+a;return{d:["M",n,g,"L",n,m,"C",n,m+u,h-d,v,h,v,"C",h+d,v,p,m+u,p,m,"L",p,g,"C",p,g-u,h+d,f,h,f,"C",h-d,f,n,g-u,n,g,"Z"].join(" ")}}}}});var gA=BC.test("svgforeignobject")?{tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}};const fA=ow.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},gA]},{attributes:{text:{set:function(t,e,i,n){if(!(i instanceof HTMLElement)){var r=n.style||{},o={text:t,width:-5,height:"100%"},a=Cy({textVerticalAnchor:"middle"},r);return Rx.textWrap.set.call(this,o,e,i,a),{fill:r.color||null}}i.textContent=t},position:function(t,e,i){if(i instanceof SVGElement)return e.center()}}}}),mA=ew.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),vA=ew.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none",cursor:"pointer"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),bA=ew.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none","pointer-events":"none"}},{tagName:"path",selector:"line",attributes:{fill:"none",cursor:"pointer"}}]});var yA=Object.freeze({__proto__:null,Rectangle:iA,Circle:nA,Ellipse:rA,Path:oA,Polygon:aA,Polyline:sA,Image:lA,BorderedImage:cA,EmbeddedImage:dA,InscribedImage:uA,HeaderedRectangle:hA,Cylinder:pA,TextBlock:fA,Link:mA,DoubleLink:vA,ShadowLink:bA});const xA=UC.define("devs.Model",{inPorts:[],outPorts:[],size:{width:80,height:80},attrs:{".":{magnet:!1},".label":{text:"Model","ref-x":.5,"ref-y":10,"font-size":18,"text-anchor":"middle",fill:"#000"},".body":{"ref-width":"100%","ref-height":"100%",stroke:"#000"}},ports:{groups:{in:{position:{name:"left"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"left",args:{y:10}}}},out:{position:{name:"right"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"right",args:{y:10}}}}}}},{markup:'<g class="rotatable"><rect class="body"/><text class="label"/></g>',portMarkup:'<circle class="port-body"/>',portLabelMarkup:'<text class="port-label"/>',initialize:function(){UC.prototype.initialize.apply(this,arguments),this.on("change:inPorts change:outPorts",this.updatePortItems,this),this.updatePortItems()},updatePortItems:function(t,e,i){var n=Py(this.get("inPorts")),r=Uy(Py(this.get("outPorts")),n),o=this.createPortItems("in",n),a=this.createPortItems("out",r);this.prop("ports/items",o.concat(a),Cy({rewrite:!0},i))},createPortItem:function(t,e){return{id:e,group:t,attrs:{".port-label":{text:e}}}},createPortItems:function(t,e){return zy(e).map(this.createPortItem.bind(this,t))},_addGroupPort:function(t,e,i){var n=this.get(e);return this.set(e,Array.isArray(n)?n.concat(t):[t],i)},addOutPort:function(t,e){return this._addGroupPort(t,"outPorts",e)},addInPort:function(t,e){return this._addGroupPort(t,"inPorts",e)},_removeGroupPort:function(t,e,i){return this.set(e,By(this.get(e),t),i)},removeOutPort:function(t,e){return this._removeGroupPort(t,"outPorts",e)},removeInPort:function(t,e){return this._removeGroupPort(t,"inPorts",e)},_changeGroup:function(t,e,i){return this.prop("ports/groups/"+t,xy(e)?e:{},i)},changeInGroup:function(t,e){return this._changeGroup("in",t,e)},changeOutGroup:function(t,e){return this._changeGroup("out",t,e)}}),wA=xA.define("devs.Atomic",{size:{width:80,height:80},attrs:{".label":{text:"Atomic"}}}),IA=xA.define("devs.Coupled",{size:{width:200,height:300},attrs:{".label":{text:"Coupled"}}}),CA=ew.define("devs.Link",{attrs:{".connection":{"stroke-width":2}}});var AA=Object.freeze({__proto__:null,Model:xA,Atomic:wA,Coupled:IA,Link:CA});const SA=UC.define("logic.Gate",{size:{width:80,height:40},attrs:{".":{magnet:!1},".body":{width:100,height:50},circle:{r:7,stroke:"black",fill:"transparent","stroke-width":2}}},{operation:function(){return!0}}),kA=SA.define("logic.IO",{size:{width:60,height:30},attrs:{".body":{fill:"white",stroke:"black","stroke-width":2},".wire":{ref:".body","ref-y":.5,stroke:"black"},text:{fill:"black",ref:".body","ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle","font-weight":"bold","font-variant":"small-caps","text-transform":"capitalize","font-size":"14px"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><path class="wire"/><circle/><text/></g>'}),_A=kA.define("logic.Input",{attrs:{".wire":{"ref-dx":0,d:"M 0 0 L 23 0"},circle:{ref:".body","ref-dx":30,"ref-y":.5,magnet:!0,class:"output",port:"out"},text:{text:"input"}}}),TA=kA.define("logic.Output",{attrs:{".wire":{"ref-x":0,d:"M 0 0 L -23 0"},circle:{ref:".body","ref-x":-30,"ref-y":.5,magnet:"passive",class:"input",port:"in"},text:{text:"output"}}}),PA=SA.define("logic.Gate11",{attrs:{".input":{ref:".body","ref-x":-2,"ref-y":.5,magnet:"passive",port:"in"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input"/><circle class="output"/></g>'}),MA=SA.define("logic.Gate21",{attrs:{".input1":{ref:".body","ref-x":-2,"ref-y":.3,magnet:"passive",port:"in1"},".input2":{ref:".body","ref-x":-2,"ref-y":.7,magnet:"passive",port:"in2"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input input1"/><circle  class="input input2"/><circle class="output"/></g>'}),NA=PA.define("logic.Repeater",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzIuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(t){return t}}),LA=PA.define("logic.Not",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzkuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDI2NzEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzYiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA4MCwyNSBBIDQsNCAwIDEgMSA3MiwyNSBBIDQsNCAwIDEgMSA4MCwyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEsMCkiIC8+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t){return!t}}),OA=MA.define("logic.Or",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik9SIEFOU0kuc3ZnIgogICBpbmtzY2FwZTpvdXRwdXRfZXh0ZW5zaW9uPSJvcmcuaW5rc2NhcGUub3V0cHV0LnN2Zy5pbmtzY2FwZSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTAgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjcxNCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iMSA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMC41IDogMC4zMzMzMzMzMyA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODA2IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODE5IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjM3Mi4wNDcyNCA6IDM1MC43ODczOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI3NDQuMDk0NDggOiA1MjYuMTgxMDkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzc3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49Ijc1IDogNDAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTUwIDogNjAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDYwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTMyNzUiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNTAgOiAzMy4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTAwIDogNTAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTU1MzMiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzIgOiAyMS4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNjQgOiAzMiA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMzIgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjU1NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDE2LjY2NjY2NyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDI1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAyNSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iNCIKICAgICBpbmtzY2FwZTpjeD0iMTEzLjAwMDM5IgogICAgIGlua3NjYXBlOmN5PSIxMi44OTM3MzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImcyNTYwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpncmlkLWJib3g9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1wb2ludHM9InRydWUiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAwMDAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMzk5IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijg3NCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii00IgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNzAsMjUgYyAyMCwwIDI1LDAgMjUsMCIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMSwxNSA1LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzIsMzUgNSwzNSIKICAgICAgIGlkPSJwYXRoMzk0NCIgLz4KICAgIDxnCiAgICAgICBpZD0iZzI1NjAiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjUsLTM5LjUpIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(t,e){return t||e}}),EA=MA.define("logic.And",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkFORCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI4IgogICAgIGlua3NjYXBlOmN4PSI1Ni42OTgzNDgiCiAgICAgaW5rc2NhcGU6Y3k9IjI1LjMyNjg5OSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGU7Zm9udC1mYW1pbHk6Qml0c3RyZWFtIFZlcmEgU2FuczstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkJpdHN0cmVhbSBWZXJhIFNhbnMiCiAgICAgICBkPSJNIDMwLDUgTCAzMCw2LjQyODU3MTQgTCAzMCw0My41NzE0MjkgTCAzMCw0NSBMIDMxLjQyODU3MSw0NSBMIDUwLjQ3NjE5LDQ1IEMgNjEuNzQ0MDk4LDQ1IDcwLjQ3NjE5LDM1Ljk5OTk1NSA3MC40NzYxOSwyNSBDIDcwLjQ3NjE5LDE0LjAwMDA0NSA2MS43NDQwOTksNS4wMDAwMDAyIDUwLjQ3NjE5LDUgQyA1MC40NzYxOSw1IDUwLjQ3NjE5LDUgMzEuNDI4NTcxLDUgTCAzMCw1IHogTSAzMi44NTcxNDMsNy44NTcxNDI5IEMgNDAuODM0MjY0LDcuODU3MTQyOSA0NS45MTgzNjgsNy44NTcxNDI5IDQ4LjA5NTIzOCw3Ljg1NzE0MjkgQyA0OS4yODU3MTQsNy44NTcxNDI5IDQ5Ljg4MDk1Miw3Ljg1NzE0MjkgNTAuMTc4NTcxLDcuODU3MTQyOSBDIDUwLjMyNzM4MSw3Ljg1NzE0MjkgNTAuNDA5MjI3LDcuODU3MTQyOSA1MC40NDY0MjksNy44NTcxNDI5IEMgNTAuNDY1MDI5LDcuODU3MTQyOSA1MC40NzE1NDMsNy44NTcxNDI5IDUwLjQ3NjE5LDcuODU3MTQyOSBDIDYwLjIzNjg1Myw3Ljg1NzE0MyA2Ny4xNDI4NTcsMTUuNDk3MDk4IDY3LjE0Mjg1NywyNSBDIDY3LjE0Mjg1NywzNC41MDI5MDIgNTkuNzYwNjYyLDQyLjE0Mjg1NyA1MCw0Mi4xNDI4NTcgTCAzMi44NTcxNDMsNDIuMTQyODU3IEwgMzIuODU3MTQzLDcuODU3MTQyOSB6IgogICAgICAgaWQ9InBhdGgyODg0IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NzY2NjY3Nzc3NzY2NjIiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return t&&e}}),DA=MA.define("logic.Nor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjEiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjY3NzY0NCIKICAgICBpbmtzY2FwZTpjeT0iMjIuMTAyMzQ0IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjM3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItNCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc5LDI1IEMgOTksMjUgOTUsMjUgOTUsMjUiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgICBpZD0icGF0aDI2MDQiCiAgICAgICAgIHNvZGlwb2RpOmN4PSI3NSIKICAgICAgICAgc29kaXBvZGk6Y3k9IjI1IgogICAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgICAgc29kaXBvZGk6cnk9IjQiCiAgICAgICAgIGQ9Ik0gNzksMjUgQSA0LDQgMCAxIDEgNzEsMjUgQSA0LDQgMCAxIDEgNzksMjUgeiIKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjUsMzkuNSkiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t,e){return!(t||e)}}),zA=MA.define("logic.Nand",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5BTkQgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMTYiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjI4MzMwNyIKICAgICBpbmtzY2FwZTpjeT0iMTYuNDQyODQzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzksMjUgQyA5MS44LDI1IDk1LDI1IDk1LDI1IgogICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMxLDE1IDUsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMiwzNSA1LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OkJpdHN0cmVhbSBWZXJhIFNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpCaXRzdHJlYW0gVmVyYSBTYW5zIgogICAgICAgZD0iTSAzMCw1IEwgMzAsNi40Mjg1NzE0IEwgMzAsNDMuNTcxNDI5IEwgMzAsNDUgTCAzMS40Mjg1NzEsNDUgTCA1MC40NzYxOSw0NSBDIDYxLjc0NDA5OCw0NSA3MC40NzYxOSwzNS45OTk5NTUgNzAuNDc2MTksMjUgQyA3MC40NzYxOSwxNC4wMDAwNDUgNjEuNzQ0MDk5LDUuMDAwMDAwMiA1MC40NzYxOSw1IEMgNTAuNDc2MTksNSA1MC40NzYxOSw1IDMxLjQyODU3MSw1IEwgMzAsNSB6IE0gMzIuODU3MTQzLDcuODU3MTQyOSBDIDQwLjgzNDI2NCw3Ljg1NzE0MjkgNDUuOTE4MzY4LDcuODU3MTQyOSA0OC4wOTUyMzgsNy44NTcxNDI5IEMgNDkuMjg1NzE0LDcuODU3MTQyOSA0OS44ODA5NTIsNy44NTcxNDI5IDUwLjE3ODU3MSw3Ljg1NzE0MjkgQyA1MC4zMjczODEsNy44NTcxNDI5IDUwLjQwOTIyNyw3Ljg1NzE0MjkgNTAuNDQ2NDI5LDcuODU3MTQyOSBDIDUwLjQ2NTAyOSw3Ljg1NzE0MjkgNTAuNDcxNTQzLDcuODU3MTQyOSA1MC40NzYxOSw3Ljg1NzE0MjkgQyA2MC4yMzY4NTMsNy44NTcxNDMgNjcuMTQyODU3LDE1LjQ5NzA5OCA2Ny4xNDI4NTcsMjUgQyA2Ny4xNDI4NTcsMzQuNTAyOTAyIDU5Ljc2MDY2Miw0Mi4xNDI4NTcgNTAsNDIuMTQyODU3IEwgMzIuODU3MTQzLDQyLjE0Mjg1NyBMIDMyLjg1NzE0Myw3Ljg1NzE0MjkgeiIKICAgICAgIGlkPSJwYXRoMjg4NCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2Njc2NjY2Nzc3Nzc2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDQwMDgiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return!(t&&e)}}),jA=MA.define("logic.Xor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhPUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjUuNjU2ODU0MiIKICAgICBpbmtzY2FwZTpjeD0iMjUuOTM4MTE2IgogICAgIGlua3NjYXBlOmN5PSIxNy4yMzAwNSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzAuMzg1NzE3LDE1IEwgNC45OTk5OTk4LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5NzY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEuMzYyMDkxLDM1IEwgNC45OTk5OTk4LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPGcKICAgICAgIGlkPSJnMjU2MCIKICAgICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYuNSwtMzkuNSkiPgogICAgICA8cGF0aAogICAgICAgICBpZD0icGF0aDM1MTYiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi4yNSw4MS41MDAwMDUgQyAtMy44NDczNzQsODQuMTQ0NDA1IC00LjUsODQuNTAwMDA1IC00LjUsODQuNTAwMDA1IEwgLTguMTU2MjUsODQuNTAwMDA1IEwgLTYuMTU2MjUsODIuMDYyNTA1IEMgLTYuMTU2MjUsODIuMDYyNTA1IC0wLjUsNzUuMDYyNDUxIC0wLjUsNjQuNSBDIC0wLjUsNTMuOTM3NTQ5IC02LjE1NjI1LDQ2LjkzNzUgLTYuMTU2MjUsNDYuOTM3NSBMIC04LjE1NjI1LDQ0LjUgTCAtNC41LDQ0LjUgQyAtMy43MTg3NSw0NS40Mzc1IC0zLjA3ODEyNSw0Ni4xNTYyNSAtMi4yODEyNSw0Ny41IEMgLTAuNDA4NTMxLDUwLjU5OTgxNSAyLjUsNTYuNTI2NjQ2IDIuNSw2NC41IEMgMi41LDcyLjQ1MDY1IC0wLjM5NjY5Nyw3OC4zNzk0MjUgLTIuMjUsODEuNTAwMDA1IHoiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY3NjY2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t,e){return(!t||e)&&(t||!e)}}),RA=MA.define("logic.Xnor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhOT1IgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNTU3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTYuNjY2NjY3IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDI1IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0IgogICAgIGlua3NjYXBlOmN4PSI5NS43MjM2NiIKICAgICBpbmtzY2FwZTpjeT0iLTI2Ljc3NTAyMyIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjAwMDAwMDI0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc4LjMzMzMzMiwyNSBDIDkxLjY2NjY2NiwyNSA5NSwyNSA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMC4zODU3MTcsMTUgTCA0Ljk5OTk5OTgsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk3NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMS4zNjIwOTEsMzUgTCA0Ljk5OTk5OTgsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlkPSJwYXRoMzUxNiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjI1LDgxLjUwMDAwNSBDIC0zLjg0NzM3NCw4NC4xNDQ0MDUgLTQuNSw4NC41MDAwMDUgLTQuNSw4NC41MDAwMDUgTCAtOC4xNTYyNSw4NC41MDAwMDUgTCAtNi4xNTYyNSw4Mi4wNjI1MDUgQyAtNi4xNTYyNSw4Mi4wNjI1MDUgLTAuNSw3NS4wNjI0NTEgLTAuNSw2NC41IEMgLTAuNSw1My45Mzc1NDkgLTYuMTU2MjUsNDYuOTM3NSAtNi4xNTYyNSw0Ni45Mzc1IEwgLTguMTU2MjUsNDQuNSBMIC00LjUsNDQuNSBDIC0zLjcxODc1LDQ1LjQzNzUgLTMuMDc4MTI1LDQ2LjE1NjI1IC0yLjI4MTI1LDQ3LjUgQyAtMC40MDg1MzEsNTAuNTk5ODE1IDIuNSw1Ni41MjY2NDYgMi41LDY0LjUgQyAyLjUsNzIuNDUwNjUgLTAuMzk2Njk3LDc4LjM3OTQyNSAtMi4yNSw4MS41MDAwMDUgeiIKICAgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2Njc2NjY2NzYyIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDM1NTEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return(!t||!e)&&(t||e)}}),GA=ew.define("logic.Wire",{attrs:{".connection":{"stroke-width":2},".marker-vertex":{r:7}},router:{name:"orthogonal"},connector:{name:"rounded",args:{radius:10}}},{arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="7"/>',"</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<g class="marker-vertex-remove-group">','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>","</g>"].join("")});var BA=Object.freeze({__proto__:null,Gate:SA,IO:kA,Input:_A,Output:TA,Gate11:PA,Gate21:MA,Repeater:NA,Not:LA,Or:OA,And:EA,Nor:DA,Nand:zA,Xor:jA,Xnor:RA,Wire:GA});const UA=UC.define("chess.KingWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;"><path      d="M 22.5,11.63 L 22.5,6"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 20,8 L 25,8"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"      style="fill:#ffffff; stroke:#000000; stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 11.5,30 C 17,27 27,27 32.5,30"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,37 C 17,34 27,34 32.5,37"      style="fill:none; stroke:#000000;" />  </g></g></g>'}),ZA=UC.define("chess.KingBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path       d="M 22.5,11.63 L 22.5,6"       style="fill:none; stroke:#000000; stroke-linejoin:miter;"       id="path6570" />    <path       d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"       style="fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;" />    <path       d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "       style="fill:#000000; stroke:#000000;" />    <path       d="M 20,8 L 25,8"       style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path       d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),$A=UC.define("chess.QueenWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(-1,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(15.5,-5.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(32,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(7,-4.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(24,-4)" />    <path      d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 11.5,30 C 15,29 30,29 33.5,30"      style="fill:none;" />    <path      d="M 12,33.5 C 18,32.5 27,32.5 33,33.5"      style="fill:none;" />  </g></g></g>'}),FA=UC.define("chess.QueenBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:none;">      <circle cx="6"    cy="12" r="2.75" />      <circle cx="14"   cy="9"  r="2.75" />      <circle cx="22.5" cy="8"  r="2.75" />      <circle cx="31"   cy="9"  r="2.75" />      <circle cx="39"   cy="12" r="2.75" />    </g>    <path       d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"       style="stroke-linecap:butt; stroke:#000000;" />    <path       d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"       style="stroke-linecap:butt;" />    <path       d="M 11,38.5 A 35,35 1 0 0 34,38.5"       style="fill:none; stroke:#000000; stroke-linecap:butt;" />    <path       d="M 11,29 A 35,35 1 0 1 34,29"       style="fill:none; stroke:#ffffff;" />    <path       d="M 12.5,31.5 L 32.5,31.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),WA=UC.define("chess.RookWhite",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14"      style="stroke-linecap:butt;" />    <path      d="M 34,14 L 31,17 L 14,17 L 11,14" />    <path      d="M 31,17 L 31,29.5 L 14,29.5 L 14,17"      style="stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),VA=UC.define("chess.RookBlack",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z "      style="stroke-linecap:butt;stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z "      style="stroke-linecap:butt;" />    <path      d="M 12,35.5 L 33,35.5 L 33,35.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 13,31.5 L 32,31.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,29.5 L 31,29.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 31,16.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />  </g></g></g>'}),YA=UC.define("chess.BishopWhite",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#ffffff; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path      d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),HA=UC.define("chess.BishopBlack",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path       d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"       style="fill:none; stroke:#ffffff; stroke-linejoin:miter;" />  </g></g></g>'}),XA=UC.define("chess.KnightWhite",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#000000; stroke:#000000;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#000000; stroke:#000000;" />  </g></g></g>'}),JA=UC.define("chess.KnightBlack",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#000000; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#000000; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z "      style="fill:#ffffff; stroke:none;" />  </g></g></g>'}),QA=UC.define("chess.PawnWhite",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),KA=UC.define("chess.PawnBlack",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'});var qA=Object.freeze({__proto__:null,KingWhite:UA,KingBlack:ZA,QueenWhite:$A,QueenBlack:FA,RookWhite:WA,RookBlack:VA,BishopWhite:YA,BishopBlack:HA,KnightWhite:XA,KnightBlack:JA,PawnWhite:QA,PawnBlack:KA});const tS=ow.define("erd.Entity",{size:{width:150,height:60},attrs:{".outer":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"100,0 100,60 0,60 0,0"},".inner":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"95,5 95,55 5,55 5,5",display:"none"},text:{text:"Entity","font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),eS=tS.define("erd.WeakEntity",{attrs:{".inner":{display:"auto"},text:{text:"Weak Entity"}}}),iS=ow.define("erd.Relationship",{size:{width:80,height:80},attrs:{".outer":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,0 80,40 40,80 0,40"},".inner":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,5 75,40 40,75 5,40",display:"none"},text:{text:"Relationship","font-family":"Arial","font-size":12,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),nS=iS.define("erd.IdentifyingRelationship",{attrs:{".inner":{display:"auto"},text:{text:"Identifying"}}}),rS=ow.define("erd.Attribute",{size:{width:100,height:50},attrs:{ellipse:{transform:"translate(50, 25)"},".outer":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:50,ry:25,fill:"#E67E22"},".inner":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:45,ry:20,fill:"#E67E22",display:"none"},text:{"font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse class="outer"/><ellipse class="inner"/></g><text/></g>'}),oS=rS.define("erd.Multivalued",{attrs:{".inner":{display:"block"},text:{text:"multivalued"}}}),aS=rS.define("erd.Derived",{attrs:{".outer":{"stroke-dasharray":"3,5"},text:{text:"derived"}}}),sS=rS.define("erd.Key",{attrs:{ellipse:{"stroke-width":4},text:{text:"key","font-weight":"800","text-decoration":"underline"}}}),lS=rS.define("erd.Normal",{attrs:{text:{text:"Normal"}}}),cS=ow.define("erd.ISA",{type:"erd.ISA",size:{width:100,height:50},attrs:{polygon:{points:"0,0 50,50 100,0",fill:"#F1C40F",stroke:"#F39C12","stroke-width":2},text:{text:"ISA","font-size":18,"ref-x":.5,"ref-y":.3,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),dS=ew.define("erd.Line",{},{cardinality:function(t){this.set("labels",[{position:-20,attrs:{text:{dy:-8,text:t}}}])}});var uS=Object.freeze({__proto__:null,Entity:tS,WeakEntity:eS,Relationship:iS,IdentifyingRelationship:nS,Attribute:rS,Multivalued:oS,Derived:aS,Key:sS,Normal:lS,ISA:cS,Line:dS});const hS=WC.define("fsa.State",{attrs:{circle:{"stroke-width":3},text:{"font-weight":"800"}}}),pS=ow.define("fsa.StartState",{size:{width:20,height:20},attrs:{circle:{transform:"translate(10, 10)",r:10,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g></g>'}),gS=ow.define("fsa.EndState",{size:{width:20,height:20},attrs:{".outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#000000"},".inner":{transform:"translate(10, 10)",r:6,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),fS=ew.define("fsa.Arrow",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}},smooth:!0});var mS=Object.freeze({__proto__:null,State:hS,StartState:pS,EndState:gS,Arrow:fS});const vS=ow.define("org.Member",{size:{width:180,height:70},attrs:{rect:{width:170,height:60},".card":{fill:"#FFFFFF",stroke:"#000000","stroke-width":2,"pointer-events":"visiblePainted",rx:10,ry:10},image:{width:48,height:48,ref:".card","ref-x":10,"ref-y":5},".rank":{"text-decoration":"underline",ref:".card","ref-x":.9,"ref-y":.2,"font-family":"Courier New","font-size":14,"text-anchor":"end"},".name":{"font-weight":"800",ref:".card","ref-x":.9,"ref-y":.6,"font-family":"Courier New","font-size":14,"text-anchor":"end"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="card"/><image/></g><text class="rank"/><text class="name"/></g>'}),bS=ew.define("org.Arrow",{source:{selector:".card"},target:{selector:".card"},attrs:{".connection":{stroke:"#585858","stroke-width":3}},z:-1});var yS=Object.freeze({__proto__:null,Member:vS,Arrow:bS});const xS=UC.define("pn.Place",{size:{width:50,height:50},attrs:{".root":{r:25,fill:"#ffffff",stroke:"#000000",transform:"translate(25, 25)"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:".root",fill:"#000000","font-size":12},".tokens > circle":{fill:"#000000",r:5},".tokens.one > circle":{transform:"translate(25, 25)"},".tokens.two > circle:nth-child(1)":{transform:"translate(19, 25)"},".tokens.two > circle:nth-child(2)":{transform:"translate(31, 25)"},".tokens.three > circle:nth-child(1)":{transform:"translate(18, 29)"},".tokens.three > circle:nth-child(2)":{transform:"translate(25, 19)"},".tokens.three > circle:nth-child(3)":{transform:"translate(32, 29)"},".tokens.alot > text":{transform:"translate(25, 18)","text-anchor":"middle",fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="root"/><g class="tokens" /></g><text class="label"/></g>'}),wS=ww.extend({presentationAttributes:ww.addPresentationAttributes({tokens:["TOKENS"]}),initFlag:ww.prototype.initFlag.concat(["TOKENS"]),confirmUpdate:function(...t){let e=ww.prototype.confirmUpdate.call(this,...t);return this.hasFlag(e,"TOKENS")&&(this.renderTokens(),this.update(),e=this.removeFlag(e,"TOKENS")),e},renderTokens:function(){const t=this.vel.findOne(".tokens").empty();["one","two","three","alot"].forEach((function(e){t.removeClass(e)}));var e=this.model.get("tokens");if(e)switch(e){case 1:t.addClass("one"),t.append(Gm("circle"));break;case 2:t.addClass("two"),t.append([Gm("circle"),Gm("circle")]);break;case 3:t.addClass("three"),t.append([Gm("circle"),Gm("circle"),Gm("circle")]);break;default:t.addClass("alot"),t.append(Gm("text").text(e+""))}}}),IS=UC.define("pn.Transition",{size:{width:12,height:50},attrs:{rect:{width:12,height:50,fill:"#000000",stroke:"#000000"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:"rect",fill:"#000000","font-size":12}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="root"/></g></g><text class="label"/>'}),CS=ew.define("pn.Link",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}});var AS=Object.freeze({__proto__:null,Place:xS,PlaceView:wS,Transition:IS,Link:CS});const SS=UC.define("uml.Class",{attrs:{rect:{width:200},".uml-class-name-rect":{stroke:"black","stroke-width":2,fill:"#3498db"},".uml-class-attrs-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-methods-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-name-text":{ref:".uml-class-name-rect","ref-y":.5,"ref-x":.5,"text-anchor":"middle","y-alignment":"middle","font-weight":"bold",fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-attrs-text":{ref:".uml-class-attrs-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-methods-text":{ref:".uml-class-methods-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"}},name:[],attributes:[],methods:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-class-name-rect"/><rect class="uml-class-attrs-rect"/><rect class="uml-class-methods-rect"/>',"</g>",'<text class="uml-class-name-text"/><text class="uml-class-attrs-text"/><text class="uml-class-methods-text"/>',"</g>"].join(""),initialize:function(){this.on("change:name change:attributes change:methods",(function(){this.updateRectangles(),this.trigger("uml-update")}),this),this.updateRectangles(),UC.prototype.initialize.apply(this,arguments)},getClassName:function(){return this.get("name")},updateRectangles:function(){var t=this.get("attrs"),e=[{type:"name",text:this.getClassName()},{type:"attrs",text:this.get("attributes")},{type:"methods",text:this.get("methods")}],i=0;e.forEach((function(e){var n=Array.isArray(e.text)?e.text:[e.text],r=20*n.length+20;t[".uml-class-"+e.type+"-text"].text=n.join("\n"),t[".uml-class-"+e.type+"-rect"].height=r,t[".uml-class-"+e.type+"-rect"].transform="translate(0,"+i+")",i+=r}))}}),kS=ww.extend({initialize:function(){ww.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"uml-update",(function(){this.update(),this.resize()}))}}),_S=SS.define("uml.Abstract",{attrs:{".uml-class-name-rect":{fill:"#e74c3c"},".uml-class-attrs-rect":{fill:"#c0392b"},".uml-class-methods-rect":{fill:"#c0392b"}}},{getClassName:function(){return["<<Abstract>>",this.get("name")]}}),TS=kS,PS=SS.define("uml.Interface",{attrs:{".uml-class-name-rect":{fill:"#f1c40f"},".uml-class-attrs-rect":{fill:"#f39c12"},".uml-class-methods-rect":{fill:"#f39c12"}}},{getClassName:function(){return["<<Interface>>",this.get("name")]}}),MS=kS,NS=ew.define("uml.Generalization",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"}}}),LS=ew.define("uml.Implementation",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"},".connection":{"stroke-dasharray":"3,3"}}}),OS=ew.define("uml.Aggregation",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"white"}}}),ES=ew.define("uml.Composition",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"black"}}}),DS=ew.define("uml.Association"),zS=UC.define("uml.State",{attrs:{".uml-state-body":{width:200,height:200,rx:10,ry:10,fill:"#ecf0f1",stroke:"#bdc3c7","stroke-width":3},".uml-state-separator":{stroke:"#bdc3c7","stroke-width":2},".uml-state-name":{ref:".uml-state-body","ref-x":.5,"ref-y":5,"text-anchor":"middle",fill:"#000000","font-family":"Courier New","font-size":14},".uml-state-events":{ref:".uml-state-separator","ref-x":5,"ref-y":5,fill:"#000000","font-family":"Courier New","font-size":14}},name:"State",events:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-state-body"/>',"</g>",'<path class="uml-state-separator"/>','<text class="uml-state-name"/>','<text class="uml-state-events"/>',"</g>"].join(""),initialize:function(){this.on({"change:name":this.updateName,"change:events":this.updateEvents,"change:size":this.updatePath},this),this.updateName(),this.updateEvents(),this.updatePath(),UC.prototype.initialize.apply(this,arguments)},updateName:function(){this.attr(".uml-state-name/text",this.get("name"))},updateEvents:function(){this.attr(".uml-state-events/text",this.get("events").join("\n"))},updatePath:function(){var t="M 0 20 L "+this.get("size").width+" 20";this.attr(".uml-state-separator/d",t,{silent:!0})}}),jS=WC.define("uml.StartState",{type:"uml.StartState",attrs:{circle:{fill:"#34495e",stroke:"#2c3e50","stroke-width":2,rx:1}}}),RS=UC.define("uml.EndState",{size:{width:20,height:20},attrs:{"circle.outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#2c3e50"},"circle.inner":{transform:"translate(10, 10)",r:6,fill:"#34495e"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),GS=ew.define("uml.Transition",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z",fill:"#34495e",stroke:"#2c3e50"},".connection":{stroke:"#2c3e50"}}});var BS=Object.freeze({__proto__:null,Class:SS,ClassView:kS,Abstract:_S,AbstractView:TS,Interface:PS,InterfaceView:MS,Generalization:NS,Implementation:LS,Aggregation:OS,Composition:ES,Association:DS,State:zS,StartState:jS,EndState:RS,Transition:GS}),US=Object.freeze({__proto__:null,basic:eA,standard:yA,devs:AA,logic:BA,chess:qA,erd:uS,fsa:mS,org:yS,pn:AS,uml:BS});var ZS=({vector:t,index:e})=>t.map((t=>e[t])),$S=Op((function(t,e){var i="__lodash_hash_undefined__",n=1,r=2,o=1/0,a=9007199254740991,s="[object Arguments]",l="[object Array]",c="[object Boolean]",d="[object Date]",u="[object Error]",h="[object Function]",p="[object GeneratorFunction]",g="[object Map]",f="[object Number]",m="[object Object]",v="[object Promise]",b="[object RegExp]",y="[object Set]",x="[object String]",w="[object Symbol]",I="[object WeakMap]",C="[object ArrayBuffer]",A="[object DataView]",S=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,k=/^\w*$/,_=/^\./,T=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,P=/\\(\\)?/g,M=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,L={};L["[object Float32Array]"]=L["[object Float64Array]"]=L["[object Int8Array]"]=L["[object Int16Array]"]=L["[object Int32Array]"]=L["[object Uint8Array]"]=L["[object Uint8ClampedArray]"]=L["[object Uint16Array]"]=L["[object Uint32Array]"]=!0,L[s]=L[l]=L[C]=L[c]=L[A]=L[d]=L[u]=L[h]=L[g]=L[f]=L[m]=L[b]=L[y]=L[x]=L[I]=!1;var O="object"==typeof Lp&&Lp&&Lp.Object===Object&&Lp,E="object"==typeof self&&self&&self.Object===Object&&self,D=O||E||Function("return this")(),z=e&&!e.nodeType&&e,j=z&&t&&!t.nodeType&&t,R=j&&j.exports===z&&O.process,G=function(){try{return R&&R.binding("util")}catch(t){}}(),B=G&&G.isTypedArray;function U(t,e,i,n){for(var r=-1,o=t?t.length:0;++r<o;){var a=t[r];e(n,a,i(a),t)}return n}function Z(t,e){for(var i=-1,n=t?t.length:0;++i<n;)if(e(t[i],i,t))return!0;return!1}function $(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function F(t){var e=-1,i=Array(t.size);return t.forEach((function(t,n){i[++e]=[n,t]})),i}function W(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}var V,Y,H,X=Array.prototype,J=Function.prototype,Q=Object.prototype,K=D["__core-js_shared__"],q=(V=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+V:"",tt=J.toString,et=Q.hasOwnProperty,it=Q.toString,nt=RegExp("^"+tt.call(et).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=D.Symbol,ot=D.Uint8Array,at=Q.propertyIsEnumerable,st=X.splice,lt=(Y=Object.keys,H=Object,function(t){return Y(H(t))}),ct=Ft(D,"DataView"),dt=Ft(D,"Map"),ut=Ft(D,"Promise"),ht=Ft(D,"Set"),pt=Ft(D,"WeakMap"),gt=Ft(Object,"create"),ft=Kt(ct),mt=Kt(dt),vt=Kt(ut),bt=Kt(ht),yt=Kt(pt),xt=rt?rt.prototype:void 0,wt=xt?xt.valueOf:void 0,It=xt?xt.toString:void 0;function Ct(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function At(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function St(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function kt(t){var e=-1,i=t?t.length:0;for(this.__data__=new St;++e<i;)this.add(t[e])}function _t(t){this.__data__=new At(t)}function Tt(t,e){var i=oe(t)||re(t)?function(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}(t.length,String):[],n=i.length,r=!!n;for(var o in t)!e&&!et.call(t,o)||r&&("length"==o||Vt(o,n))||i.push(o);return i}function Pt(t,e){for(var i=t.length;i--;)if(ne(t[i][0],e))return i;return-1}function Mt(t,e,i,n){return Ot(t,(function(t,r,o){e(n,t,i(t),o)})),n}Ct.prototype.clear=function(){this.__data__=gt?gt(null):{}},Ct.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Ct.prototype.get=function(t){var e=this.__data__;if(gt){var n=e[t];return n===i?void 0:n}return et.call(e,t)?e[t]:void 0},Ct.prototype.has=function(t){var e=this.__data__;return gt?void 0!==e[t]:et.call(e,t)},Ct.prototype.set=function(t,e){return this.__data__[t]=gt&&void 0===e?i:e,this},At.prototype.clear=function(){this.__data__=[]},At.prototype.delete=function(t){var e=this.__data__,i=Pt(e,t);return!(i<0)&&(i==e.length-1?e.pop():st.call(e,i,1),!0)},At.prototype.get=function(t){var e=this.__data__,i=Pt(e,t);return i<0?void 0:e[i][1]},At.prototype.has=function(t){return Pt(this.__data__,t)>-1},At.prototype.set=function(t,e){var i=this.__data__,n=Pt(i,t);return n<0?i.push([t,e]):i[n][1]=e,this},St.prototype.clear=function(){this.__data__={hash:new Ct,map:new(dt||At),string:new Ct}},St.prototype.delete=function(t){return $t(this,t).delete(t)},St.prototype.get=function(t){return $t(this,t).get(t)},St.prototype.has=function(t){return $t(this,t).has(t)},St.prototype.set=function(t,e){return $t(this,t).set(t,e),this},kt.prototype.add=kt.prototype.push=function(t){return this.__data__.set(t,i),this},kt.prototype.has=function(t){return this.__data__.has(t)},_t.prototype.clear=function(){this.__data__=new At},_t.prototype.delete=function(t){return this.__data__.delete(t)},_t.prototype.get=function(t){return this.__data__.get(t)},_t.prototype.has=function(t){return this.__data__.has(t)},_t.prototype.set=function(t,e){var i=this.__data__;if(i instanceof At){var n=i.__data__;if(!dt||n.length<199)return n.push([t,e]),this;i=this.__data__=new St(n)}return i.set(t,e),this};var Nt,Lt,Ot=(Nt=function(t,e){return t&&Et(t,e,pe)},function(t,e){if(null==t)return t;if(!ae(t))return Nt(t,e);for(var i=t.length,n=Lt?i:-1,r=Object(t);(Lt?n--:++n<i)&&!1!==e(r[n],n,r););return t}),Et=function(t){return function(e,i,n){for(var r=-1,o=Object(e),a=n(e),s=a.length;s--;){var l=a[t?s:++r];if(!1===i(o[l],l,o))break}return e}}();function Dt(t,e){for(var i=0,n=(e=Yt(e,t)?[e]:Ut(e)).length;null!=t&&i<n;)t=t[Qt(e[i++])];return i&&i==n?t:void 0}function zt(t,e){return null!=t&&e in Object(t)}function jt(t,e,i,o,a){return t===e||(null==t||null==e||!ce(t)&&!de(e)?t!=t&&e!=e:function(t,e,i,o,a,h){var p=oe(t),v=oe(e),I=l,S=l;p||(I=(I=Wt(t))==s?m:I);v||(S=(S=Wt(e))==s?m:S);var k=I==m&&!$(t),_=S==m&&!$(e),T=I==S;if(T&&!k)return h||(h=new _t),p||he(t)?Zt(t,e,i,o,a,h):function(t,e,i,o,a,s,l){switch(i){case A:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case C:return!(t.byteLength!=e.byteLength||!o(new ot(t),new ot(e)));case c:case d:case f:return ne(+t,+e);case u:return t.name==e.name&&t.message==e.message;case b:case x:return t==e+"";case g:var h=F;case y:var p=s&r;if(h||(h=W),t.size!=e.size&&!p)return!1;var m=l.get(t);if(m)return m==e;s|=n,l.set(t,e);var v=Zt(h(t),h(e),o,a,s,l);return l.delete(t),v;case w:if(wt)return wt.call(t)==wt.call(e)}return!1}(t,e,I,i,o,a,h);if(!(a&r)){var P=k&&et.call(t,"__wrapped__"),M=_&&et.call(e,"__wrapped__");if(P||M){var N=P?t.value():t,L=M?e.value():e;return h||(h=new _t),i(N,L,o,a,h)}}if(!T)return!1;return h||(h=new _t),function(t,e,i,n,o,a){var s=o&r,l=pe(t),c=l.length,d=pe(e),u=d.length;if(c!=u&&!s)return!1;var h=c;for(;h--;){var p=l[h];if(!(s?p in e:et.call(e,p)))return!1}var g=a.get(t);if(g&&a.get(e))return g==e;var f=!0;a.set(t,e),a.set(e,t);var m=s;for(;++h<c;){var v=t[p=l[h]],b=e[p];if(n)var y=s?n(b,v,p,e,t,a):n(v,b,p,t,e,a);if(!(void 0===y?v===b||i(v,b,n,o,a):y)){f=!1;break}m||(m="constructor"==p)}if(f&&!m){var x=t.constructor,w=e.constructor;x==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(f=!1)}return a.delete(t),a.delete(e),f}(t,e,i,o,a,h)}(t,e,jt,i,o,a))}function Rt(t){return!(!ce(t)||function(t){return!!q&&q in t}(t))&&(se(t)||$(t)?nt:M).test(Kt(t))}function Gt(t){return"function"==typeof t?t:null==t?ge:"object"==typeof t?oe(t)?function(t,e){if(Yt(t)&&Ht(e))return Xt(Qt(t),e);return function(i){var o=function(t,e,i){var n=null==t?void 0:Dt(t,e);return void 0===n?i:n}(i,t);return void 0===o&&o===e?function(t,e){return null!=t&&function(t,e,i){e=Yt(e,t)?[e]:Ut(e);var n,r=-1,o=e.length;for(;++r<o;){var a=Qt(e[r]);if(!(n=null!=t&&i(t,a)))break;t=t[a]}if(n)return n;o=t?t.length:0;return!!o&&le(o)&&Vt(a,o)&&(oe(t)||re(t))}(t,e,zt)}(i,t):jt(e,o,void 0,n|r)}}(t[0],t[1]):function(t){var e=function(t){var e=pe(t),i=e.length;for(;i--;){var n=e[i],r=t[n];e[i]=[n,r,Ht(r)]}return e}(t);if(1==e.length&&e[0][2])return Xt(e[0][0],e[0][1]);return function(i){return i===t||function(t,e,i,o){var a=i.length,s=a,l=!o;if(null==t)return!s;for(t=Object(t);a--;){var c=i[a];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<s;){var d=(c=i[a])[0],u=t[d],h=c[1];if(l&&c[2]){if(void 0===u&&!(d in t))return!1}else{var p=new _t;if(o)var g=o(u,h,d,t,e,p);if(!(void 0===g?jt(h,u,o,n|r,p):g))return!1}}return!0}(i,t,e)}}(t):Yt(e=t)?(i=Qt(e),function(t){return null==t?void 0:t[i]}):function(t){return function(e){return Dt(e,t)}}(e);var e,i}function Bt(t){if(i=(e=t)&&e.constructor,n="function"==typeof i&&i.prototype||Q,e!==n)return lt(t);var e,i,n,r=[];for(var o in Object(t))et.call(t,o)&&"constructor"!=o&&r.push(o);return r}function Ut(t){return oe(t)?t:Jt(t)}function Zt(t,e,i,o,a,s){var l=a&r,c=t.length,d=e.length;if(c!=d&&!(l&&d>c))return!1;var u=s.get(t);if(u&&s.get(e))return u==e;var h=-1,p=!0,g=a&n?new kt:void 0;for(s.set(t,e),s.set(e,t);++h<c;){var f=t[h],m=e[h];if(o)var v=l?o(m,f,h,e,t,s):o(f,m,h,t,e,s);if(void 0!==v){if(v)continue;p=!1;break}if(g){if(!Z(e,(function(t,e){if(!g.has(e)&&(f===t||i(f,t,o,a,s)))return g.add(e)}))){p=!1;break}}else if(f!==m&&!i(f,m,o,a,s)){p=!1;break}}return s.delete(t),s.delete(e),p}function $t(t,e){var i,n,r=t.__data__;return("string"==(n=typeof(i=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?r["string"==typeof e?"string":"hash"]:r.map}function Ft(t,e){var i=function(t,e){return null==t?void 0:t[e]}(t,e);return Rt(i)?i:void 0}var Wt=function(t){return it.call(t)};function Vt(t,e){return!!(e=null==e?a:e)&&("number"==typeof t||N.test(t))&&t>-1&&t%1==0&&t<e}function Yt(t,e){if(oe(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!ue(t))||(k.test(t)||!S.test(t)||null!=e&&t in Object(e))}function Ht(t){return t==t&&!ce(t)}function Xt(t,e){return function(i){return null!=i&&(i[t]===e&&(void 0!==e||t in Object(i)))}}(ct&&Wt(new ct(new ArrayBuffer(1)))!=A||dt&&Wt(new dt)!=g||ut&&Wt(ut.resolve())!=v||ht&&Wt(new ht)!=y||pt&&Wt(new pt)!=I)&&(Wt=function(t){var e=it.call(t),i=e==m?t.constructor:void 0,n=i?Kt(i):void 0;if(n)switch(n){case ft:return A;case mt:return g;case vt:return v;case bt:return y;case yt:return I}return e});var Jt=ie((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(ue(t))return It?It.call(t):"";var e=t+"";return"0"==e&&1/t==-o?"-0":e}(e);var i=[];return _.test(t)&&i.push(""),t.replace(T,(function(t,e,n,r){i.push(n?r.replace(P,"$1"):e||t)})),i}));function Qt(t){if("string"==typeof t||ue(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}function Kt(t){if(null!=t){try{return tt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var qt,te,ee=(qt=function(t,e,i){et.call(t,i)?++t[i]:t[i]=1},function(t,e){var i=oe(t)?U:Mt,n=te?te():{};return i(t,qt,Gt(e),n)});function ie(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var i=function(){var n=arguments,r=e?e.apply(this,n):n[0],o=i.cache;if(o.has(r))return o.get(r);var a=t.apply(this,n);return i.cache=o.set(r,a),a};return i.cache=new(ie.Cache||St),i}function ne(t,e){return t===e||t!=t&&e!=e}function re(t){return function(t){return de(t)&&ae(t)}(t)&&et.call(t,"callee")&&(!at.call(t,"callee")||it.call(t)==s)}ie.Cache=St;var oe=Array.isArray;function ae(t){return null!=t&&le(t.length)&&!se(t)}function se(t){var e=ce(t)?it.call(t):"";return e==h||e==p}function le(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=a}function ce(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function de(t){return!!t&&"object"==typeof t}function ue(t){return"symbol"==typeof t||de(t)&&it.call(t)==w}var he=B?function(t){return function(e){return t(e)}}(B):function(t){return de(t)&&le(t.length)&&!!L[it.call(t)]};function pe(t){return ae(t)?Tt(t):Bt(t)}function ge(t){return t}t.exports=ee}));var FS=t=>{const e=$S(t),i=Object.entries(e).sort(((t,e)=>Math.sign(e[1]-t[1]))).map((t=>t[0])),n=t.map((t=>i.indexOf(t)));return{index:i,vector:n}},WS={vectorize:FS,unvectorize:ZS},VS=WS.vectorize,YS=WS.unvectorize,HS=Object.freeze({__proto__:null,default:WS,__moduleExports:WS,vectorize:VS,unvectorize:YS});let XS=class extends hs{constructor(){super(...arguments),this.elements={},this.selection=null}async connectedCallback(){super.connectedCallback(),window.appGlobals.activity("CRT - open"),this.initializeJointJS()}updated(t){super.updated(t),t.has("crtData")&&this.crtData&&this.updateGraphWithCRTData(this.crtData)}disconnectedCallback(){super.disconnectedCallback(),window.appGlobals.activity("CRT - close")}initializeJointJS(){const t=this.shadowRoot?.getElementById("paper-container");t?(this.graph=new sw({},{cellNamespace:US}),this.paper=new GC({el:t,model:this.graph,cellViewNamespace:US,width:"100%",height:"100%",gridSize:10,async:!0,frozen:!0,sorting:GC.sorting.APPROX,background:{color:"#F3F7F6"},clickThreshold:10,defaultConnector:{name:"rounded"},defaultRouter:{name:"manhattan",args:{step:10,endDirections:["bottom"],startDirections:["top"],padding:{bottom:20}}}}),HS(t).prepend(HS("style",{type:"text/css"}).text("\n        .joint-element .selection {\n            stroke: #ff4468;\n        }\n        .joint-link .selection {\n            stroke: #ff4468;\n            stroke-dasharray: 5;\n            stroke-dashoffset: 10;\n            animation: dash 0.5s infinite linear;\n        }\n        @keyframes dash {\n            to {\n                stroke-dashoffset: 0;\n            }\n        }\n      ")),this.paper.unfreeze()):console.error("Paper container not found")}updateGraphWithCRTData(t){this.graph.clear(),this.elements={};const e=t=>{const e=new iA({position:{x:600*Math.random(),y:400*Math.random()},size:{width:100,height:60},attrs:{label:{text:t.cause,fontFamily:"sans-serif"},body:{fill:t.isRootCause?"#ffcccc":"#ccccff",stroke:"#666"}},z:2});return this.graph.addCell(e),e},i=(t,e)=>{const i=new mA({source:{id:t.id},target:{id:e.id},attrs:{line:{stroke:"#333333",strokeWidth:2,targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}}},z:1});return this.graph.addCell(i),i};t.nodes.forEach((t=>{this.elements[t.id]=e(t)})),t.nodes.forEach((t=>{t.andChildren&&t.andChildren.forEach((e=>{i(this.elements[t.id],this.elements[e.id])})),t.orChildren&&t.orChildren.forEach((e=>{i(this.elements[t.id],this.elements[e.id])}))})),this.paper.on("element:pointerclick",(t=>this.selectElement(t.model))),this.paper.on("blank:pointerclick",(()=>this.selectElement(null)))}selectElement(t){this.selection&&(this.unhighlightCell(this.selection),this.graph.getLinks().forEach((t=>this.unhighlightCell(t)))),t?(this.highlightCell(t),this.selection=t):this.selection=null}highlightCell(t){const e=t.findView(this.paper);e&&eC.add(e,t.isElement()?"body":"line","selection",{className:"selection"})}unhighlightCell(t){const e=t.findView(this.paper);e&&eC.remove(e,"selection")}layoutGraph(){const t=10;let e=t,i=t;for(const n in this.elements)if(this.elements.hasOwnProperty(n)){const r=this.elements[n];r.position(e,i),e+=r.size().width+t,e+r.size().width+t>this.paper.options.width&&(e=t,i+=r.size().height+t)}this.paper.unfreeze()}static get styles(){return[super.styles,h``]}render(){return W` <div class="layout vertical"> <div class="title">${this.t("Current Reality Tree")}</div> <div class="contextInput"></div> <div class="rawRootCausesInput"></div> <div class="jointJSCanvas" id="paper-container"></div> </div> `}};i([vt({type:Object}),n("design:type",Object)],XS.prototype,"crtData",void 0),XS=i([ft("ltp-current-reality-tree")],XS);
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class JS extends pt{constructor(){super(...arguments),this.inset=!1,this.insetStart=!1,this.insetEnd=!1}}i([vt({type:Boolean,reflect:!0})],JS.prototype,"inset",void 0),i([vt({type:Boolean,reflect:!0,attribute:"inset-start"})],JS.prototype,"insetStart",void 0),i([vt({type:Boolean,reflect:!0,attribute:"inset-end"})],JS.prototype,"insetEnd",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const QS=h`:host{--_color:var(--md-divider-color, var(--md-sys-color-outline-variant, #cac4d0));--_thickness:var(--md-divider-thickness, 1px);box-sizing:border-box;color:var(--_color);display:flex;height:var(--_thickness);width:100%}:host([inset-start]),:host([inset]){padding-inline-start:16px}:host([inset-end]),:host([inset]){padding-inline-end:16px}:host::before{background:currentColor;content:"";height:100%;width:100%}@media(forced-colors:active){:host::before{background:CanvasText}}`
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let KS=class extends JS{};KS.styles=[QS],KS=i([ft("md-divider")],KS);
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const qS={dialog:[[[{transform:"translateY(-50px)"},{transform:"translateY(0)"}],{duration:500,easing:Fi}]],scrim:[[[{opacity:0},{opacity:.32}],{duration:500,easing:"linear"}]],container:[[[{opacity:0},{opacity:1}],{duration:50,easing:"linear",pseudoElement:"::before"}],[[{height:"35%"},{height:"100%"}],{duration:500,easing:Fi,pseudoElement:"::before"}]],headline:[[[{opacity:0},{opacity:0,offset:.2},{opacity:1}],{duration:250,easing:"linear",fill:"forwards"}]],content:[[[{opacity:0},{opacity:0,offset:.2},{opacity:1}],{duration:250,easing:"linear",fill:"forwards"}]],actions:[[[{opacity:0},{opacity:0,offset:.5},{opacity:1}],{duration:300,easing:"linear",fill:"forwards"}]]},tk={dialog:[[[{transform:"translateY(0)"},{transform:"translateY(-50px)"}],{duration:150,easing:Wi}]],scrim:[[[{opacity:.32},{opacity:0}],{duration:150,easing:"linear"}]],container:[[[{height:"100%"},{height:"35%"}],{duration:150,easing:Wi,pseudoElement:"::before"}],[[{opacity:"1"},{opacity:"0"}],{delay:100,duration:50,easing:"linear",pseudoElement:"::before"}]],headline:[[[{opacity:1},{opacity:0}],{duration:100,easing:"linear",fill:"forwards"}]],content:[[[{opacity:1},{opacity:0}],{duration:100,easing:"linear",fill:"forwards"}]],actions:[[[{opacity:1},{opacity:0}],{duration:100,easing:"linear",fill:"forwards"}]]};
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class ek extends pt{get open(){return this.isOpen}set open(t){t!==this.isOpen&&(this.isOpen=t,t?(this.setAttribute("open",""),this.show()):(this.removeAttribute("open"),this.close()))}constructor(){super(),this.returnValue="",this.getOpenAnimation=()=>qS,this.getCloseAnimation=()=>tk,this.isOpen=!1,this.isOpening=!1,this.isConnectedPromise=this.getIsConnectedPromise(),this.isAtScrollTop=!1,this.isAtScrollBottom=!1,this.nextClickIsFromContent=!1,this.hasHeadline=!1,this.hasActions=!1,this.hasIcon=!1,this.addEventListener("submit",this.handleSubmit)}async show(){this.isOpening=!0,await this.isConnectedPromise,await this.updateComplete;const t=this.dialog;if(t.open||!this.isOpening)return void(this.isOpening=!1);this.dispatchEvent(new Event("open",{cancelable:!0}))?(t.showModal(),this.open=!0,this.scroller&&(this.scroller.scrollTop=0),this.querySelector("[autofocus]")?.focus(),await this.animateDialog(this.getOpenAnimation()),this.dispatchEvent(new Event("opened")),this.isOpening=!1):this.open=!1}async close(t=this.returnValue){if(this.isOpening=!1,!this.isConnected)return void(this.open=!1);await this.updateComplete;const e=this.dialog;if(!e.open||this.isOpening)return void(this.open=!1);const i=this.returnValue;this.returnValue=t;this.dispatchEvent(new Event("close",{cancelable:!0}))?(await this.animateDialog(this.getCloseAnimation()),e.close(t),this.open=!1,this.dispatchEvent(new Event("closed"))):this.returnValue=i}connectedCallback(){super.connectedCallback(),this.isConnectedPromiseResolve()}disconnectedCallback(){super.disconnectedCallback(),this.isConnectedPromise=this.getIsConnectedPromise()}render(){const t=this.open&&!(this.isAtScrollTop&&this.isAtScrollBottom),e={"has-headline":this.hasHeadline,"has-actions":this.hasActions,"has-icon":this.hasIcon,scrollable:t,"show-top-divider":t&&!this.isAtScrollTop,"show-bottom-divider":t&&!this.isAtScrollBottom},{ariaLabel:i}=this;return W` <div class="scrim"></div> <dialog class="${Zi(e)}" aria-label="${i||H}" aria-labelledby="${this.hasHeadline?"headline":H}" role="${"alert"===this.type?"alertdialog":H}" @cancel="${this.handleCancel}" @click="${this.handleDialogClick}" .returnValue="${this.returnValue||H}"> <div class="container" @click="${this.handleContentClick}"> <div class="headline"> <div class="icon" aria-hidden="true"> <slot name="icon" @slotchange="${this.handleIconChange}"></slot> </div> <h2 id="headline" aria-hidden="${!this.hasHeadline||H}"> <slot name="headline" @slotchange="${this.handleHeadlineChange}"></slot> </h2> <md-divider></md-divider> </div> <div class="scroller"> <div class="content"> <div class="top anchor"></div> <slot name="content"></slot> <div class="bottom anchor"></div> </div> </div> <div class="actions"> <md-divider></md-divider> <slot name="actions" @slotchange="${this.handleActionsChange}"></slot> </div> </div> </dialog> `}firstUpdated(){this.intersectionObserver=new IntersectionObserver((t=>{for(const e of t)this.handleAnchorIntersection(e)}),{root:this.scroller}),this.intersectionObserver.observe(this.topAnchor),this.intersectionObserver.observe(this.bottomAnchor)}handleDialogClick(){if(this.nextClickIsFromContent)return void(this.nextClickIsFromContent=!1);!this.dispatchEvent(new Event("cancel",{cancelable:!0}))||this.close()}handleContentClick(){this.nextClickIsFromContent=!0}handleSubmit(t){const e=t.target,{submitter:i}=t;"dialog"===e.method&&i&&this.close(i.getAttribute("value")??this.returnValue)}handleCancel(t){if(t.target!==this.dialog)return;const e=!Xa(this,t);t.preventDefault(),e||this.close()}async animateDialog(t){const{dialog:e,scrim:i,container:n,headline:r,content:o,actions:a}=this;if(!(e&&i&&n&&r&&o&&a))return;const{container:s,dialog:l,scrim:c,headline:d,content:u,actions:h}=t,p=[[e,l??[]],[i,c??[]],[n,s??[]],[r,d??[]],[o,u??[]],[a,h??[]]],g=[];for(const[t,e]of p)for(const i of e)g.push(t.animate(...i));await Promise.all(g.map((t=>t.finished)))}handleHeadlineChange(t){const e=t.target;this.hasHeadline=e.assignedElements().length>0}handleActionsChange(t){const e=t.target;this.hasActions=e.assignedElements().length>0}handleIconChange(t){const e=t.target;this.hasIcon=e.assignedElements().length>0}handleAnchorIntersection(t){const{target:e,isIntersecting:i}=t;e===this.topAnchor&&(this.isAtScrollTop=i),e===this.bottomAnchor&&(this.isAtScrollBottom=i)}getIsConnectedPromise(){return new Promise((t=>{this.isConnectedPromiseResolve=t}))}}Ci(ek),ek.shadowRootOptions={...pt.shadowRootOptions,delegatesFocus:!0},i([vt({type:Boolean})],ek.prototype,"open",null),i([vt({attribute:!1})],ek.prototype,"returnValue",void 0),i([vt()],ek.prototype,"type",void 0),i([wt("dialog")],ek.prototype,"dialog",void 0),i([wt(".scrim")],ek.prototype,"scrim",void 0),i([wt(".container")],ek.prototype,"container",void 0),i([wt(".headline")],ek.prototype,"headline",void 0),i([wt(".content")],ek.prototype,"content",void 0),i([wt(".actions")],ek.prototype,"actions",void 0),i([bt()],ek.prototype,"isAtScrollTop",void 0),i([bt()],ek.prototype,"isAtScrollBottom",void 0),i([wt(".scroller")],ek.prototype,"scroller",void 0),i([wt(".top.anchor")],ek.prototype,"topAnchor",void 0),i([wt(".bottom.anchor")],ek.prototype,"bottomAnchor",void 0),i([bt()],ek.prototype,"hasHeadline",void 0),i([bt()],ek.prototype,"hasActions",void 0),i([bt()],ek.prototype,"hasIcon",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const ik=h`:host{--_container-color:var(--md-dialog-container-color, var(--md-sys-color-surface-container-high, #ece6f0));--_container-shape:var(--md-dialog-container-shape, 28px);--_headline-color:var(--md-dialog-headline-color, var(--md-sys-color-on-surface, #1d1b20));--_headline-font:var(--md-dialog-headline-font, var(--md-sys-typescale-headline-small-font, var(--md-ref-typeface-brand, Roboto)));--_headline-line-height:var(--md-dialog-headline-line-height, var(--md-sys-typescale-headline-small-line-height, 2rem));--_headline-size:var(--md-dialog-headline-size, var(--md-sys-typescale-headline-small-size, 1.5rem));--_headline-weight:var(--md-dialog-headline-weight, var(--md-sys-typescale-headline-small-weight, var(--md-ref-typeface-weight-regular, 400)));--_supporting-text-color:var(--md-dialog-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_supporting-text-font:var(--md-dialog-supporting-text-font, var(--md-sys-typescale-body-medium-font, var(--md-ref-typeface-plain, Roboto)));--_supporting-text-line-height:var(--md-dialog-supporting-text-line-height, var(--md-sys-typescale-body-medium-line-height, 1.25rem));--_supporting-text-size:var(--md-dialog-supporting-text-size, var(--md-sys-typescale-body-medium-size, 0.875rem));--_supporting-text-weight:var(--md-dialog-supporting-text-weight, var(--md-ref-typeface-weight-regular, 400));--_icon-color:var(--md-dialog-icon-color, var(--md-sys-color-secondary, #625b71));--_icon-size:var(--md-dialog-icon-size, 24px);--_container-shape-start-start:var( --md-dialog-container-shape-start-start, var(--_container-shape) );--_container-shape-start-end:var( --md-dialog-container-shape-start-end, var(--_container-shape) );--_container-shape-end-end:var( --md-dialog-container-shape-end-end, var(--_container-shape) );--_container-shape-end-start:var( --md-dialog-container-shape-end-start, var(--_container-shape) );border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-end-radius:var(--_container-shape-end-end);border-end-start-radius:var(--_container-shape-end-start);display:contents;margin:auto;max-height:min(560px,100% - 48px);max-width:min(560px,100% - 48px);min-height:140px;min-width:280px;position:fixed;height:fit-content;width:fit-content}dialog{background:rgba(0,0,0,0);border:none;border-radius:inherit;flex-direction:column;height:inherit;margin:inherit;max-height:inherit;max-width:inherit;min-height:inherit;min-width:inherit;outline:0;overflow:visible;padding:0;width:inherit}dialog[open]{display:flex}::backdrop{background:0 0}.scrim{background:var(--md-sys-color-scrim,#000);display:none;inset:0;opacity:32%;pointer-events:none;position:fixed;z-index:1}:host([open]) .scrim{display:flex}h2{all:unset;align-self:stretch}.headline{align-items:center;color:var(--_headline-color);display:flex;flex-direction:column;font-family:var(--_headline-font);font-size:var(--_headline-size);line-height:var(--_headline-line-height);font-weight:var(--_headline-weight);position:relative}slot[name=headline]::slotted(*){align-items:center;align-self:stretch;display:flex;gap:8px;margin:24px 24px 0}.icon{display:flex}slot[name=icon]::slotted(*){color:var(--_icon-color);fill:currentColor;font-size:var(--_icon-size);margin-top:24px;height:var(--_icon-size);width:var(--_icon-size)}.has-icon slot[name=headline]::slotted(*){justify-content:center;margin-top:16px}.scrollable slot[name=headline]::slotted(*){margin-bottom:16px}.scrollable.has-headline slot[name=content]::slotted(*){margin-top:8px}.container{border-radius:inherit;display:flex;flex-direction:column;flex-grow:1;overflow:hidden;position:relative;transform-origin:top}.container::before{background:var(--_container-color);border-radius:inherit;content:"";inset:0;position:absolute}.scroller{display:flex;flex:1;flex-direction:column;overflow:hidden;z-index:1}.scrollable .scroller{overflow-y:scroll}.content{color:var(--_supporting-text-color);font-family:var(--_supporting-text-font);font-size:var(--_supporting-text-size);line-height:var(--_supporting-text-line-height);font-weight:var(--_supporting-text-weight);height:min-content;position:relative}slot[name=content]::slotted(*){margin:24px}.anchor{position:absolute}.top.anchor{top:0}.bottom.anchor{bottom:0}.actions{position:relative}slot[name=actions]::slotted(*){display:flex;gap:8px;justify-content:flex-end;margin:16px 24px 24px}.has-actions slot[name=content]::slotted(*){margin-bottom:8px}md-divider{display:none;position:absolute}.has-actions.show-bottom-divider .actions md-divider,.has-headline.show-top-divider .headline md-divider{display:flex}.headline md-divider{bottom:0}.actions md-divider{top:0}@media(forced-colors:active){dialog{outline:2px solid WindowText}}`
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let nk=class extends ek{};nk.styles=[ik],nk=i([ft("md-dialog")],nk);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class rk extends ns{renderElevation(){return W`<md-elevation></md-elevation>`}}
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */const ok=h`:host{--_container-color:var(--md-elevated-button-container-color, var(--md-sys-color-surface-container-low, #f7f2fa));--_container-elevation:var(--md-elevated-button-container-elevation, 1);--_container-height:var(--md-elevated-button-container-height, 40px);--_container-shadow-color:var(--md-elevated-button-container-shadow-color, var(--md-sys-color-shadow, #000));--_container-shape:var(--md-elevated-button-container-shape, 9999px);--_disabled-container-color:var(--md-elevated-button-disabled-container-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-container-elevation:var(--md-elevated-button-disabled-container-elevation, 0);--_disabled-container-opacity:var(--md-elevated-button-disabled-container-opacity, 0.12);--_disabled-label-text-color:var(--md-elevated-button-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity:var(--md-elevated-button-disabled-label-text-opacity, 0.38);--_focus-container-elevation:var(--md-elevated-button-focus-container-elevation, 1);--_focus-label-text-color:var(--md-elevated-button-focus-label-text-color, var(--md-sys-color-primary, #6750a4));--_hover-container-elevation:var(--md-elevated-button-hover-container-elevation, 2);--_hover-label-text-color:var(--md-elevated-button-hover-label-text-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-color:var(--md-elevated-button-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-opacity:var(--md-elevated-button-hover-state-layer-opacity, 0.08);--_label-text-color:var(--md-elevated-button-label-text-color, var(--md-sys-color-primary, #6750a4));--_label-text-font:var(--md-elevated-button-label-text-font, var(--md-sys-typescale-label-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height:var(--md-elevated-button-label-text-line-height, var(--md-sys-typescale-label-large-line-height, 1.25rem));--_label-text-size:var(--md-elevated-button-label-text-size, var(--md-sys-typescale-label-large-size, 0.875rem));--_label-text-weight:var(--md-elevated-button-label-text-weight, var(--md-sys-typescale-label-large-weight, var(--md-ref-typeface-weight-medium, 500)));--_pressed-container-elevation:var(--md-elevated-button-pressed-container-elevation, 1);--_pressed-label-text-color:var(--md-elevated-button-pressed-label-text-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-color:var(--md-elevated-button-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-opacity:var(--md-elevated-button-pressed-state-layer-opacity, 0.12);--_disabled-icon-color:var(--md-elevated-button-disabled-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-icon-opacity:var(--md-elevated-button-disabled-icon-opacity, 0.38);--_focus-icon-color:var(--md-elevated-button-focus-icon-color, var(--md-sys-color-primary, #6750a4));--_hover-icon-color:var(--md-elevated-button-hover-icon-color, var(--md-sys-color-primary, #6750a4));--_icon-color:var(--md-elevated-button-icon-color, var(--md-sys-color-primary, #6750a4));--_icon-size:var(--md-elevated-button-icon-size, 18px);--_pressed-icon-color:var(--md-elevated-button-pressed-icon-color, var(--md-sys-color-primary, #6750a4));--_leading-space:var(--md-elevated-button-leading-space, 24px);--_trailing-space:var(--md-elevated-button-trailing-space, 24px);--_with-leading-icon-leading-space:var(--md-elevated-button-with-leading-icon-leading-space, 16px);--_with-leading-icon-trailing-space:var(--md-elevated-button-with-leading-icon-trailing-space, 24px);--_with-trailing-icon-leading-space:var(--md-elevated-button-with-trailing-icon-leading-space, 24px);--_with-trailing-icon-trailing-space:var(--md-elevated-button-with-trailing-icon-trailing-space, 16px);--_container-shape-start-start:var( --md-elevated-button-container-shape-start-start, var(--_container-shape) );--_container-shape-start-end:var( --md-elevated-button-container-shape-start-end, var(--_container-shape) );--_container-shape-end-end:var( --md-elevated-button-container-shape-end-end, var(--_container-shape) );--_container-shape-end-start:var( --md-elevated-button-container-shape-end-start, var(--_container-shape) )}`
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */,ak=h`md-elevation{transition-duration:280ms}.button:disabled md-elevation{transition:none}.button{--md-elevation-level:var(--_container-elevation);--md-elevation-shadow-color:var(--_container-shadow-color)}.button:focus{--md-elevation-level:var(--_focus-container-elevation)}.button:hover{--md-elevation-level:var(--_hover-container-elevation)}.button:active{--md-elevation-level:var(--_pressed-container-elevation)}.button:disabled{--md-elevation-level:var(--_disabled-container-elevation)}`
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let sk=class extends rk{};sk.styles=[as,ak,ok],sk=i([ft("md-elevated-button")],sk);const lk=4,ck=5;let dk=class extends Ha{constructor(){super(),this.currentProjectId=void 0,this.pageIndex=lk,this.totalNumberOfVotes=0,this.showAllCosts=!1,this.collectionType="domain",this.themeColor="#3f5fce",this.themePrimaryColor="#000000",this.themeSecondaryColor="#000000",this.themeTertiaryColor="#000000",this.themeNeutralColor="#000000",this.themeScheme="tonal",this.themeHighContrast=!1,this.isAdmin=!1,this.surveyClosed=!1,this.numberOfSolutionsGenerations=0,this.numberOfPoliciesIdeasGeneration=0,this.totalSolutions=0,this.totalPros=0,this.totalCons=0,this.router=new kr(this,[{path:"/",render:()=>W`<cps-home .memory="${this.currentMemory}"></cps-home>`},{path:"/projects/:projectId",render:t=>(this.setupCurrentProjectFromRoute(parseInt(t.projectId,10)||1,!0),this.renderSolutionPage())},{path:"/projects/:projectId/",render:t=>(this.setupCurrentProjectFromRoute(parseInt(t.projectId,10)||1,!0),this.renderSolutionPage())},{path:"/solutions/:projectId",render:t=>(this.setupCurrentProjectFromRoute(parseInt(t.projectId,10)||1,!0),this.renderSolutionPage())},{path:"/solutions/:projectId/",render:t=>(this.setupCurrentProjectFromRoute(parseInt(t.projectId,10)||1,!0),this.renderSolutionPage())},{path:"/crt/:projectId/",render:t=>this.renderCrtPage()},{path:"/policies/:projectId",render:t=>(this.setupCurrentProjectFromRoute(parseInt(t.projectId,10)||1,!0),this.renderPoliciesPage())},{path:"/policies/:projectId/",render:t=>(this.setupCurrentProjectFromRoute(parseInt(t.projectId,10)||1,!0),this.renderPoliciesPage())},{path:"/projects/:projectId/refresh827cDb",render:t=>(this.setupCurrentProjectFromRoute(parseInt(t.projectId,10)||1,!0),this.renderSolutionPage())},{path:"/projects/:projectId/:subProblemIndex?/:populationIndex?/:solutionIndex?",render:t=>(this.setupCurrentProjectFromRoute(parseInt(t.projectId,10)||1),this.parseAllActiveIndexes(t),this.renderSolutionPage())},{path:"/projects/:projectId/:subProblemIndex?/:populationIndex?/:solutionIndex?/",render:t=>(this.setupCurrentProjectFromRoute(parseInt(t.projectId,10)||1),this.parseAllActiveIndexes(t),this.renderSolutionPage())},{path:"/solutions/:projectId/:subProblemIndex?/:populationIndex?/:solutionIndex?",render:t=>(this.setupCurrentProjectFromRoute(parseInt(t.projectId,10)||1),this.parseAllActiveIndexes(t),this.renderSolutionPage())},{path:"/solutions/:projectId/:subProblemIndex?/:populationIndex?/:solutionIndex?/",render:t=>(this.setupCurrentProjectFromRoute(parseInt(t.projectId,10)||1),this.parseAllActiveIndexes(t),this.renderSolutionPage())},{path:"/policies/:projectId/:subProblemIndex?/:populationIndex?/:policyIndex?",render:t=>(this.setupCurrentProjectFromRoute(parseInt(t.projectId,10)||1),this.parseAllActiveIndexes(t),this.renderPoliciesPage())},{path:"/policies/:projectId/:subProblemIndex?/:populationIndex?/:policyIndex?/",render:t=>(this.setupCurrentProjectFromRoute(parseInt(t.projectId,10)||1),this.parseAllActiveIndexes(t),this.renderPoliciesPage())},{path:"/webResearch/:projectId",render:t=>(this.setupCurrentProjectFromRoute(parseInt(t.projectId,10)||1),this.renderWebResearchPage())},{path:"/webResearch/:projectId/",render:t=>(this.setupCurrentProjectFromRoute(parseInt(t.projectId,10)||1),this.renderWebResearchPage())}],{fallback:{render:()=>W`<h2>Page not found</h2>`}}),this.stageModelMap={createSubProblems:vs.createSubProblemsModel,createEntities:vs.createEntitiesModel,rankWebSolutions:vs.rankWebSolutionsModel,analyseExternalSolutions:vs.analyseExternalSolutionsModel,createSearchQueries:vs.createSearchQueriesModel,createSolutionImages:vs.createSolutionImagesModel,createProblemStatementImage:vs.createSolutionImagesModel,createSubProblemImages:vs.createSolutionImagesModel,rankSearchResults:vs.searchResultsRankingsModel,policiesSeed:vs.policiesSeedModel,policiesCreateImages:vs.createSolutionImagesModel,rankSearchQueries:vs.searchQueryRankingsModel,rankSubProblems:vs.subProblemsRankingsModel,rankEntities:vs.entitiesRankingsModel,rankSolutions:vs.solutionsRankingsModel,rankProsCons:vs.prosConsRankingsModel,evolveReapPopulation:vs.reapSolutionsModel,rateSolutions:vs.rateSolutionsModel,groupSolutions:vs.groupSolutionsModel,evolveCreatePopulation:vs.evolveSolutionsModel,evolveMutatePopulation:vs.evolutionMutateModel,evolveRecombinePopulation:vs.evolutionRecombineModel,evolveRankPopulation:vs.solutionsRankingsModel,webSearch:vs.createSearchQueriesModel,webGetPages:vs.getPageAnalysisModel,webGetEvidencePages:vs.getPageAnalysisModel,webGetRefinedEvidence:vs.getRefinedEvidenceModel,rankWebEvidence:vs.rankWebEvidenceModel,rateWebEvidence:vs.rateWebEvidenceModel,createSeedSolutions:vs.createSolutionsModel,createEvidenceSearchQueries:vs.createSearchQueriesModel,createProsCons:vs.createProsConsModel,parse:vs.createSubProblemsModel,save:vs.createSubProblemsModel,done:vs.createSubProblemsModel},window.serverApi=new Is,window.appGlobals=new uc(window.aoiServerApi),window.appUser=new bd(window.aoiServerApi);const t=localStorage.getItem("md3-aoi-dark-mode");this.themeDarkMode=!!t;const e=localStorage.getItem("md3-aoi-high-contrast-mode");this.themeHighContrast=!!e,window.appGlobals.activity("pageview")}renderSolutionPage(){return this.renderContentOrLoader(W` <div class="layout horizontal"> ${this.currentMemory?W` ${this.renderNavigationBar()} <div class="rightPanel"> <main> <div class="mainPageContainer"> <cps-solutions .memory="${this.currentMemory}" .activeSubProblemIndex="${this.activeSubProblemIndex}" .activePopulationIndex="${this.activePopulationIndex}" .activeSolutionIndex="${this.activeSolutionIndex}" @update-route="${this.updateActiveSolutionIndexes}" .router="${this.router}"></cps-solutions> </div> </main> </div> `:H} </div> `)}renderPoliciesPage(){return this.renderContentOrLoader(W` <div class="layout horizontal"> ${this.currentMemory?W` ${this.renderNavigationBar()} <div class="rightPanel"> <main> <div class="mainPageContainer"> <ps-policies .memory="${this.currentMemory}" .activeSubProblemIndex="${this.activeSubProblemIndex}" .activePopulationIndex="${this.activePopulationIndex}" .activePolicyIndex="${this.activePolicyIndex}" @update-route="${this.updateActivePolicyIndexes}" .router="${this.router}"></ps-policies> </div> </main> </div> `:H} </div> `)}setupCurrentProjectFromRoute(t,e=!1){t!==this.currentProjectId&&(this.currentProjectId=t,this.boot()),e&&(this.activeSubProblemIndex=null,this.activePopulationIndex=null,this.activeSolutionIndex=null,this.activePolicyIndex=null),this.wide||setTimeout((()=>{window.location.pathname.indexOf("webResearch")>-1?this.$$("#navBar")&&(this.$$("#navBar").activeIndex=0):window.location.pathname.indexOf("solutions")>-1?this.$$("#navBar")&&(this.$$("#navBar").activeIndex=1):window.location.pathname.indexOf("policies")>-1&&this.$$("#navBar")&&(this.$$("#navBar").activeIndex=2)}),100)}parseAllActiveIndexes(t){this.activeSubProblemIndex=t.subProblemIndex?parseInt(t.subProblemIndex,10):null,this.activePopulationIndex=t.populationIndex?parseInt(t.populationIndex,10):null,this.activeSolutionIndex=t.solutionIndex?parseInt(t.solutionIndex,10):null,this.activePolicyIndex=t.policyIndex?parseInt(t.policyIndex,10):null}renderCrtPage(){return W` <ltp-current-reality-tree></ltp-current-reality-tree> `}renderWebResearchPage(){return this.renderContentOrLoader(W` <div class="layout horizontal"> ${this.currentMemory?W` ${this.renderNavigationBar()} <div class="rightPanel"> <main> <div class="mainPageContainer"> <cps-web-research .memory="${this.currentMemory}" .router="${this.router}"></cps-web-research> </div> </main> </div> `:H} </div> `)}getServerUrlFromClusterId(t){return 1==t?"https://betrireykjavik.is/api":3==t?"https://ypus.org/api":"https://yrpri.org/api"}connectedCallback(){super.connectedCallback(),this._setupEventListeners();const t=localStorage.getItem("md3-yrpri-promotion-color");t&&this.fireGlobal("yp-theme-color",t)}openTempPassword(){this.tempPassword=void 0,this.$$("#tempPassword").value="",this.$$("#tempPasswordDialog").open=!0}async boot(){window.appGlobals.activity("Boot - fetch start");const t=await window.serverApi.getProject(this.currentProjectId,this.tempPassword,location.pathname.indexOf("refresh827cDb")>-1?"999":void 0);if(t&&"needsTrm"in t)this.tempPassword&&await new Promise((t=>setTimeout(t,2e3))),window.appGlobals.activity("Boot - needs trm"),this.openTempPassword();else{const e=t;this.currentMemory=e.currentMemory,this.currentMemory.subProblems[0].solutions&&(this.numberOfSolutionsGenerations=this.currentMemory.subProblems[0].solutions.populations.length),this.currentMemory.subProblems[0].policies&&(this.numberOfPoliciesIdeasGeneration=this.currentMemory.subProblems[0].policies.populations.length),document.title=e.name,!0===e.isAdmin?this.isAdmin=!0:this.isAdmin=!1,this.themeColor=e.configuration.theme_color?e.configuration.theme_color:"#3f5fce",this.themePrimaryColor=e.configuration.theme_primary_color,this.themeSecondaryColor=e.configuration.theme_secondary_color,this.themeTertiaryColor=e.configuration.theme_tertiary_color,this.themeNeutralColor=e.configuration.theme_neutral_color,this.themeScheme=e.configuration.theme_scheme?e.configuration.theme_scheme.toLowerCase():"tonal",this.themeChanged();for(let t of this.currentMemory.subProblems)if(t.solutions&&t.solutions.populations)for(let e of t.solutions.populations){this.totalSolutions+=e.length;for(let t of e)Array.isArray(t.pros)&&(this.totalPros+=t.pros.length),Array.isArray(t.cons)&&(this.totalCons+=t.cons.length)}window.appGlobals.activity("Boot - fetch end")}}disconnectedCallback(){super.disconnectedCallback(),this._removeEventListeners()}getHexColor(t){return t&&6===(t=t.replace(/#/g,"")).length?`#${t}`:void 0}themeChanged(t=void 0){let e={};const i=void 0===this.themeDarkMode?window.matchMedia("(prefers-color-scheme: dark)").matches:this.themeDarkMode;if(this.isAppleDevice){!function(t,e){const i=e?.target||document.body;if(Ao(i,e?.dark?t.schemes.dark:t.schemes.light),e?.brightnessSuffix&&(Ao(i,t.schemes.dark,"-dark"),Ao(i,t.schemes.light,"-light")),e?.paletteTones){const n=e?.paletteTones??[];for(const[e,r]of Object.entries(t.palettes)){const t=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();for(const e of n){const n=`--md-ref-palette-${t}-${t}${e}`,o=xo(r.tone(e));i.style.setProperty(n,o)}}}}(Co(wo(this.themeColor||this.themePrimaryColor||"#000000"),[{name:"up-vote",value:wo("#0F0"),blend:!0},{name:"down-vote",value:wo("#F00"),blend:!0}]),{target:document.body,dark:i})}else e=this.getHexColor(this.themeColor)?hc(this.getHexColor(this.themeColor),i,this.themeScheme,this.themeHighContrast?2:0):hc({primary:this.getHexColor(this.themePrimaryColor||"#000000"),secondary:this.getHexColor(this.themeSecondaryColor||"#000000"),tertiary:this.getHexColor(this.themeTertiaryColor||"#000000"),neutral:this.getHexColor(this.themeNeutralColor||"#000000")},i,"dynamic",this.themeHighContrast?2:0),pc(document,e)}snackbarclosed(){this.lastSnackbarText=void 0}tabChanged(t){0==t.detail.activeIndex?this.pageIndex=1:1==t.detail.activeIndex?this.pageIndex=2:2==t.detail.activeIndex?this.pageIndex=3:3==t.detail.activeIndex&&(this.pageIndex=4)}mobileTabChanged(t){3==t.detail.activeIndex&&(t.target.activeIndex=1)}exitToMainApp(){window.location.href="/"}async _displaySnackbar(t){this.lastSnackbarText=t.detail,await this.updateComplete,this.$$("#snackbar").show()}_setupEventListeners(){this.addListener("app-error",this._appError),this.addListener("display-snackbar",this._displaySnackbar),this.addListener("toggle-dark-mode",this.toggleDarkMode.bind(this)),this.addListener("toggle-high-contrast-mode",this.toggleHighContrastMode.bind(this)),this.addGlobalListener("yp-external-goal-trigger",this.externalGoalTrigger.bind(this)),window.addEventListener("popstate",(()=>{this.router.goto(window.location.pathname),this.requestUpdate()}))}_removeEventListeners(){this.removeListener("display-snackbar",this._displaySnackbar),this.removeListener("app-error",this._appError),this.removeListener("toggle-dark-mode",this.toggleDarkMode.bind(this)),this.removeListener("toggle-high-contrast-mode",this.toggleHighContrastMode.bind(this))}externalGoalTrigger(){try{let t=new URL(window.appGlobals.externalGoalTriggerUrl),e=window.appGlobals.exernalGoalParamsWhiteList;e&&(e=e.toLowerCase().split(",").map((t=>t.trim())));for(const i in window.appGlobals.originalQueryParameters)e&&!e.includes(i.toLowerCase())||t.searchParams.append(i,window.appGlobals.originalQueryParameters[i]);window.location.href=t.toString()}catch(t){console.error("Invalid URL:",window.appGlobals.externalGoalTriggerUrl,t)}}async updateActiveSolutionIndexes(t){this.activeSubProblemIndex=t.detail.activeSubProblemIndex,this.activePopulationIndex=t.detail.activePopulationIndex,this.activeSolutionIndex=t.detail.activeSolutionIndex,await this.updateSolutionsRouter()}async updateActivePolicyIndexes(t){this.activeSubProblemIndex=t.detail.activeSubProblemIndex,this.activePopulationIndex=t.detail.activePopulationIndex,this.activePolicyIndex=t.detail.activePolicyIndex,await this.updatePoliciesRouter()}async updatePoliciesRouter(){let t;t=null!==this.activePolicyIndex&&null!==this.activeSubProblemIndex&&null!==this.activePopulationIndex?`/policies/${this.currentProjectId}/${this.activeSubProblemIndex}/${this.activePopulationIndex}/${this.activePolicyIndex}`:null!==this.activeSubProblemIndex&&null!==this.activePopulationIndex?`/policies/${this.currentProjectId}/${this.activeSubProblemIndex}/${this.activePopulationIndex}`:null!==this.activeSubProblemIndex&&void 0!==this.activeSubProblemIndex?`/policies/${this.currentProjectId}/${this.activeSubProblemIndex}`:`/policies/${this.currentProjectId}`,await this.router.goto(t),setTimeout((()=>{window.location.pathname!=t&&history.pushState({},"",t),this.requestUpdate()}))}async updateSolutionsRouter(){let t;t=null!==this.activePolicyIndex&&null!==this.activeSubProblemIndex&&null!==this.activePopulationIndex?`/policies/${this.currentProjectId}/${this.activeSubProblemIndex}/${this.activePopulationIndex}/${this.activePolicyIndex}`:null!==this.activeSolutionIndex&&null!==this.activeSubProblemIndex&&null!==this.activePopulationIndex?`/solutions/${this.currentProjectId}/${this.activeSubProblemIndex}/${this.activePopulationIndex}/${this.activeSolutionIndex}`:null!==this.activeSubProblemIndex&&null!==this.activePopulationIndex?`/solutions/${this.currentProjectId}/${this.activeSubProblemIndex}/${this.activePopulationIndex}`:null!==this.activeSubProblemIndex&&void 0!==this.activeSubProblemIndex?`/solutions/${this.currentProjectId}/${this.activeSubProblemIndex}`:`/solutions/${this.currentProjectId}`,await this.router.goto(t),setTimeout((()=>{window.location.pathname!=t&&history.pushState({},"",t),this.requestUpdate()}))}updated(t){super.updated(t),(t.has("themeColor")||t.has("themeDarkMode"))&&this.themeChanged()}_appError(t){console.error(t.detail.message),this.currentError=t.detail.message}get adminConfirmed(){return!0}_settingsColorChanged(t){this.fireGlobal("yp-theme-color",t.detail.value)}static get styles(){return[Ya,h`:host{background-color:var(--md-sys-color-background,#fefefe)}.costsContainer{margin-top:32px;opacity:.7;font-size:13px}a{color:var(--md-sys-color-on-surface);margin-top:8px}body{background-color:var(--md-sys-color-background,#fefefe)}.analyticsHeaderText{font-size:var(--md-sys-typescale-headline-large-size,18px);margin-top:16px;margin-bottom:16px}.appTitleContainer{margin-bottom:0;margin-top:16px;font-family:Cabin,sans-serif;font-size:22px;width:185px;background-color:var(--md-sys-color-primary);color:var(--md-sys-color-on-primary);border-top-left-radius:24px;border-top-right-radius:24px}.appTitle{padding:16px;margin-left:4px;padding-top:20px}md-outlined-text-field{margin:32px}md-elevated-button{margin-bottom:16px}.ypLogo{margin-top:16px}.rightPanel{width:100%}.drawer{margin-left:16px;padding-left:8px;margin-right:16px;padding-bottom:560px}.costItem{margin-bottom:8px;margin-left:8px;color:var(--md-sys-color-on-surface)}.statsItem{margin-bottom:6px;margin-left:8px;color:var(--md-sys-color-on-surface)}.statsContainer{margin-bottom:16px}md-list-item{--md-list-list-item-container-color:var(--md-sys-color-surface);color:var(--md-sys-color-on-surface);--md-list-list-item-label-text-color:var(--md-sys-color-on-surface)}.selectedContainer{color:var(--md-sys-color-primary);--md-list-item-list-item-label-text-color:var(
            --md-sys-color-primary
          );--md-list-item-list-item-focus-label-text-color:var(
            --md-sys-color-primary
          );--md-list-item-label-text-color:var(--md-sys-color-primary)}md-navigation-drawer{--md-navigation-drawer-container-color:var(--md-sys-color-surface)}md-list{--md-list-container-color:var(--md-sys-color-surface)}md-navigation-bar{--md-navigation-bar-container-color:var(--md-sys-color-surface)}.loading{display:flex;justify-content:center;align-items:center;width:100%;height:100vh}.lightDarkContainer{padding-left:8px;padding-right:8px;color:var(--md-sys-color-on-background);font-size:14px}.darkModeButton{margin:16px}.topAppBar{border-radius:48px;background-color:var(--md-sys-color-primary-container);color:var(--md-sys-color-on-primary-container);margin-top:32px;padding:0;padding-left:32px;padding-right:32px;text-align:center}.collectionLogoImage{width:185px;height:104px;margin-top:-1px}.mainPageContainer{margin-top:16px}.version{margin:8px;margin-top:32px;font-size:12px;margin-bottom:32px;color:var(--md-sys-color-on-surface)}.navContainer{position:fixed;bottom:0;left:0;width:100%;z-index:7}[hidden]{display:none!important}md-text-button{--md-text-button-label-text-color:#fefefe}md-icon-button{--md-icon-button-unselected-icon-color:#f0f0f0}#goalTriggerSnackbar{padding:24px}@media (max-width:960px){.appTitleContainer{margin-top:32px}.mainPageContainer{max-width:100%;width:100%;margin-bottom:96px;margin-top:0}prompt-promotion-dashboard{max-width:100%}}`]}changeTabTo(t){this.tabChanged({detail:{activeIndex:t}})}updateThemeColor(t){this.themeColor=t.detail}sendVoteAnalytics(){this.totalNumberOfVotes%10==0&&window.appGlobals.activity(`User voted ${this.totalNumberOfVotes} times`)}renderIntroduction(){return W` <div class="layout vertical center-center"></div> `}renderShare(){return W` <div class="layout vertical center-center"></div> `}toggleDarkMode(){this.themeDarkMode=!this.themeDarkMode,this.themeDarkMode?(window.appGlobals.activity("Settings - dark mode"),localStorage.setItem("md3-aoi-dark-mode","true")):(window.appGlobals.activity("Settings - light mode"),localStorage.removeItem("md3-aoi-dark-mode")),this.themeChanged()}toggleHighContrastMode(){this.themeHighContrast=!this.themeHighContrast,this.themeHighContrast?(window.appGlobals.activity("Settings - high contrast mode"),localStorage.setItem("md3-aoi-high-contrast-mode","true")):(window.appGlobals.activity("Settings - non high contrast mode"),localStorage.removeItem("md3-aoi-high-contrast-mode")),this.themeChanged()}startVoting(){this.pageIndex=2,this.$$("#navBar")&&(this.$$("#navBar").activeIndex=1)}openResults(){this.pageIndex=3,this.$$("#navBar")&&(this.$$("#navBar").activeIndex=2)}openAnalytics(){}goToAdmin(){}openGitHub(){window.open("https://github.com/CitizensFoundation/policy-synth","_blank")}toCamelCase(t){return t.replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()}))}renderStats(){return W` <div class="layout vertical statsContainer"> <div class="statsItem"> ${this.t("Total solutions")}: ${vu.number(this.totalSolutions)} </div> <div class="statsItem"> ${this.t("Total pros")}: ${vu.number(this.totalPros)} </div> <div class="statsItem"> ${this.t("Total cons")}: ${vu.number(this.totalCons)} </div> <div class="statsItem"> ${this.t("Solutions generations")}: ${vu.number(this.numberOfSolutionsGenerations)} </div> <div class="statsItem"> ${this.t("Policies generations")}: ${vu.number(this.numberOfPoliciesIdeasGeneration)} </div> </div> `}renderCosts(){let t=0,e=0,i=0,n=0;try{Object.keys(this.currentMemory.stages).forEach((r=>{const o=this.currentMemory.stages[r];if(o){if(o.tokensInCost&&o.tokensOutCost){const a=o.tokensInCost+o.tokensOutCost;t+=a;const s=this.toCamelCase(r),l=this.stageModelMap[s];"gpt-4"===l.name?e+=a:"gpt-3.5-turbo"===l.name?i+=a:"gpt-3.5-turbo-16k"===l.name?n+=a:console.error(`Unknown model name: ${l.name}`)}}else console.warn(`No stage data for ${r}`)}))}catch(t){console.error(t.stack||t)}let r=[];if(this.showAllCosts){r.push(W`<div class="costItem"> Total cost: $${vu.number(t)} </div>`,W`<div class="costItem" style="margin-top:16px"> GPT-4 cost: $${vu.number(e)} </div>`),r.push(W`<div class="costItem"> GPT-3.5 cost: $${vu.number(i)} </div>`),r.push(W`<div class="costItem" style="margin-bottom:16px"> GPT-3.5 16k cost: $${vu.number(n)} </div>`);const o=[];Object.keys(this.currentMemory.stages).forEach((t=>{const e=this.currentMemory.stages[t],i=e.tokensInCost+e.tokensOutCost;isNaN(i)||o.push({stage:t,cost:i})})),o.sort(((t,e)=>e.cost-t.cost)),o.forEach((t=>{r.push(W`<div class="costItem"> $${vu.number(t.cost)}- ${this.toCamelCase(t.stage)} </div>`)}))}return this.showAllCosts||r.push(W`<div class="layout horizontal"> <a href="#" @click="${this.handleShowMore}">Show API cost...</a> </div>`),W`<div class="layout vertical">${r}</div>`}renderContentOrLoader(t){return this.currentMemory?t:W` <div class="loading"> <md-circular-progress indeterminate></md-circular-progress> </div> `}handleShowMore(t){t.preventDefault(),this.showAllCosts=!0}getCustomVersion(t){return`Built on ${(new Date).toLocaleString("en-US",{day:"numeric",month:"long",year:"numeric"})} CET`}renderThemeToggle(){return W`<div class="layout vertical center-center lightDarkContainer"> ${this.themeDarkMode?W` <md-outlined-icon-button class="darkModeButton" @click="${this.toggleDarkMode}"><md-icon>light_mode</md-icon></md-outlined-icon-button> `:W` <md-outlined-icon-button class="darkModeButton" @click="${this.toggleDarkMode}"><md-icon>dark_mode</md-icon></md-outlined-icon-button> `} <div>${this.t("Light/Dark")}</div> </div> <div class="layout vertical center-center lightDarkContainer" ?hidden="${this.isAppleDevice}"> ${this.themeHighContrast?W` <md-outlined-icon-button class="darkModeButton" @click="${this.toggleHighContrastMode}"><md-icon>contrast_rtl_off</md-icon></md-outlined-icon-button> `:W` <md-outlined-icon-button class="darkModeButton" @click="${this.toggleHighContrastMode}"><md-icon>contrast</md-icon></md-outlined-icon-button> `} <div>${this.t("Contrast")}</div> </div>`}renderLogo(){return W` <div class="appTitleContainer"> <div class="appTitle">${this.t("POLICY SYNTH")}</div> </div> <yp-image class="collectionLogoImage" sizing="contain" src="https://yrpri-usa-production-direct-assets.s3.amazonaws.com/Robert_Bjarnason_High_quality_abstract_new_high_tech_new_wave.__61a9b3d8-7533-4841-a99e-ef036fed1fbf.png"></yp-image> `}async openSolutions(){this.activeSolutionIndex=null,this.activeSubProblemIndex=null,this.activePopulationIndex=null,this.updateSolutionsRouter(),await this.updateComplete,this.$$("cps-solutions")?.reset()}async openPolicies(){this.activePolicyIndex=null,this.activeSolutionIndex=null,this.activeSubProblemIndex=null,this.activePopulationIndex=null,this.updatePoliciesRouter(),await this.updateComplete,this.$$("ps-policies")?.reset()}async openWebResearch(){const t=`/webResearch/${this.currentProjectId}`;this.router.goto(t),setTimeout((()=>{window.location.pathname!=t&&history.pushState({},"",t),this.requestUpdate()}))}renderNavigationBar(){return this.wide?W` <div class="drawer"> <div class="layout horizontal headerContainer center-center"> <div class="analyticsHeaderText layout vertical center-center"> ${this.renderLogo()} </div> </div> <md-list> <md-list-item class="${location.href.indexOf("/webResearch")>-1&&"selectedContainer"}" headline="${this.t("Web Research")}" @click="${()=>this.openWebResearch()}" @keydown="${t=>{"Enter"===t.key&&this.openWebResearch()}}" .supportingText="${this.t("Automated research")}"> <md-list-item-icon slot="start"> <md-icon>manage_search</md-icon> </md-list-item-icon></md-list-item> <md-list-item class="${location.href.indexOf("/solutions")>-1&&"selectedContainer"}" headline="${this.t("Solutions")} (${this.numberOfSolutionsGenerations} gen)" @click="${async()=>{this.openSolutions(),setTimeout((()=>{this.requestUpdate()}))}}" @keydown="${t=>{"Enter"===t.key&&this.openSolutions()}}" .supportingText="${this.t("Evolving solutions")}"> <md-list-item-icon slot="start"> <md-icon>online_prediction</md-icon> </md-list-item-icon></md-list-item> <md-list-item hidden class="${this.pageIndex==ck&&"selectedContainer"}" headline="${this.t("Policy categories")}" .supportingText="${this.t("Policy categories")}"> <md-list-item-icon slot="start"> <md-icon>category</md-icon> </md-list-item-icon></md-list-item> <md-list-item class="${this.pageIndex==ck&&"selectedContainer"}" headline="${this.t("Policy ideas")} (${this.numberOfPoliciesIdeasGeneration} gen)" @click="${async()=>{this.openPolicies(),setTimeout((()=>{this.requestUpdate()}))}}" @keydown="${t=>{"Enter"===t.key&&this.openPolicies()}}" .supportingText="${this.t("Evolving policy ideas")}"> <md-list-item-icon slot="start"> <md-icon>policy</md-icon> </md-list-item-icon></md-list-item> <md-list-divider></md-list-divider> <md-list-item ?hidden="${!0/*!this.isAdmin*/}" @keydown="${t=>{"Enter"===t.key&&this.openAnalytics()}}" @click="${this.openAnalytics}" headline="${this.t("Analytics")}" supportingText="${this.t("Admin analytics")}"> <md-list-item-icon slot="start"><md-icon>monitoring</md-icon></md-list-item-icon></md-list-item> <md-list-item ?hidden="${!0/*!this.isAdmin*/}" @keydown="${t=>{"Enter"===t.key&&this.goToAdmin()}}" @click="${this.goToAdmin}" headline="${this.t("Administration")}" supportingText="${this.t("Administer the process")}"> <md-list-item-icon slot="start"><md-icon>settings</md-icon></md-list-item-icon></md-list-item> <md-list-divider></md-list-divider> <md-list-item @keydown="${t=>{"Enter"===t.key&&this.openGitHub()}}" @click="${this.openGitHub}" headline="${this.t("Open Source Collab")}" .supportingText="${this.t("Join us!")}"> <md-list-item-icon slot="start"><md-icon>crowdsource</md-icon></md-list-item-icon></md-list-item> <div class="layout horizontal center-center"> ${this.renderThemeToggle()} </div> </md-list> <div class="layout vertical costsContainer"> ${this.renderStats()} ${this.renderCosts()} </div> <div class="version">Built on December 9, 2023 at 02:26</div> </div> `:W` <div class="navContainer"> <md-navigation-bar id="navBar" activeIndex="1" @navigation-bar-activated="${this.mobileTabChanged}"> <md-navigation-tab @click="${this.openWebResearch}" .label="${this.t("Web Searches")}"><md-icon slot="activeIcon">manage_search</md-icon> <md-icon slot="inactiveIcon">manage_search</md-icon></md-navigation-tab> <md-navigation-tab @click="${this.openSolutions}" .label="${this.t("Solutions")}"><md-icon slot="activeIcon">online_prediction</md-icon> <md-icon slot="inactiveIcon">online_prediction</md-icon></md-navigation-tab> <md-navigation-tab .label="${this.t("Policies")}"><md-icon slot="activeIcon">policy</md-icon> <md-icon slot="inactiveIcon">policy</md-icon></md-navigation-tab> <md-navigation-tab @click="${this.openGitHub}" .label="${this.t("Open Source")}"><md-icon slot="activeIcon">crowdsource</md-icon> <md-icon slot="inactiveIcon">crowdsource</md-icon></md-navigation-tab> </md-navigation-bar> </div> `}submitTempPassword(){this.tempPassword=this.$$("#tempPassword").value,this.$$("#tempPasswordDialog").open=!1,this.boot()}renderTempLoginDialog(){return W`<md-dialog id="tempPasswordDialog" @cancel="${t=>{t.preventDefault()}}"> <div slot="headline" class="postHeader layout vertical center-center"> ${this.t("Please Enter Password")} </div> <div id="content" slot="content" class="layout vertical center-center"> <md-outlined-text-field id="tempPassword" type="password" @keyup="${t=>{"Enter"===t.key&&this.submitTempPassword()}}"></md-outlined-text-field> <md-elevated-button @click="${this.submitTempPassword}">${this.t("Submit")}</md-elevated-button> </div> <div slot="footer"></div> </md-dialog> `}render(){return W` ${this.renderTempLoginDialog()} ${this.router.outlet()}  ${this.lastSnackbarText?W` <mwc-snackbar id="snackbar" @MDCSnackbar:closed="${this.snackbarclosed}" style="text-align:center" .labelText="${this.lastSnackbarText}"></mwc-snackbar> `:H} `}};i([vt({type:Number}),n("design:type",Number)],dk.prototype,"currentProjectId",void 0),i([vt({type:Number}),n("design:type",Number)],dk.prototype,"activeSubProblemIndex",void 0),i([vt({type:Number}),n("design:type",Number)],dk.prototype,"activePopulationIndex",void 0),i([vt({type:Number}),n("design:type",Number)],dk.prototype,"activeSolutionIndex",void 0),i([vt({type:Number}),n("design:type",Number)],dk.prototype,"activePolicyIndex",void 0),i([vt({type:Number}),n("design:type",Object)],dk.prototype,"pageIndex",void 0),i([vt({type:Object}),n("design:type",Object)],dk.prototype,"currentMemory",void 0),i([vt({type:Number}),n("design:type",Object)],dk.prototype,"totalNumberOfVotes",void 0),i([vt({type:Boolean}),n("design:type",Object)],dk.prototype,"showAllCosts",void 0),i([vt({type:String}),n("design:type",String)],dk.prototype,"lastSnackbarText",void 0),i([vt({type:String}),n("design:type",Object)],dk.prototype,"collectionType",void 0),i([vt({type:String}),n("design:type",String)],dk.prototype,"earlName",void 0),i([vt({type:String}),n("design:type",String)],dk.prototype,"currentError",void 0),i([vt({type:String}),n("design:type",String)],dk.prototype,"forceGetBackupForProject",void 0),i([vt({type:String}),n("design:type",String)],dk.prototype,"tempPassword",void 0),i([vt({type:String}),n("design:type",Object)],dk.prototype,"themeColor",void 0),i([vt({type:String}),n("design:type",Object)],dk.prototype,"themePrimaryColor",void 0),i([vt({type:String}),n("design:type",Object)],dk.prototype,"themeSecondaryColor",void 0),i([vt({type:String}),n("design:type",Object)],dk.prototype,"themeTertiaryColor",void 0),i([vt({type:String}),n("design:type",Object)],dk.prototype,"themeNeutralColor",void 0),i([vt({type:String}),n("design:type",String)],dk.prototype,"themeScheme",void 0),i([vt({type:Boolean}),n("design:type",Object)],dk.prototype,"themeHighContrast",void 0),i([vt({type:Boolean}),n("design:type",Object)],dk.prototype,"isAdmin",void 0),i([vt({type:Boolean}),n("design:type",Object)],dk.prototype,"surveyClosed",void 0),i([vt({type:String}),n("design:type",String)],dk.prototype,"appearanceLookup",void 0),i([vt({type:String}),n("design:type",String)],dk.prototype,"currentLeftAnswer",void 0),i([vt({type:String}),n("design:type",String)],dk.prototype,"currentRightAnswer",void 0),i([vt({type:Number}),n("design:type",Object)],dk.prototype,"numberOfSolutionsGenerations",void 0),i([vt({type:Number}),n("design:type",Object)],dk.prototype,"numberOfPoliciesIdeasGeneration",void 0),i([vt({type:Number}),n("design:type",Object)],dk.prototype,"totalSolutions",void 0),i([vt({type:Number}),n("design:type",Object)],dk.prototype,"totalPros",void 0),i([vt({type:Number}),n("design:type",Object)],dk.prototype,"totalCons",void 0),dk=i([ft("cps-app"),n("design:paramtypes",[])],dk);

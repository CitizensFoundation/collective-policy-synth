{"version":3,"file":"YpMediaHelpers.js","sourceRoot":"","sources":["../../../src/@yrpri/common/YpMediaHelpers.ts"],"names":[],"mappings":"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","sourcesContent":["import { YpBaseElement } from './yp-base-element.js';\n\nexport class YpMediaHelpers {\n  static _checkVideoLongPlayTimeAndReset(\n    playbackElement: YpElementWithPlayback,\n    videoPlayer: HTMLElement\n  ) {\n    const videoId = videoPlayer.getAttribute('data-id');\n    if (playbackElement.playStartedAt && videoId) {\n      const seconds =\n        (new Date().getTime() - playbackElement.playStartedAt.getTime()) / 1000;\n      if (seconds > 5) {\n        window.appGlobals.sendLongVideoView(videoId);\n      }\n      window.appGlobals.activity('completed', 'video', seconds);\n      playbackElement.playStartedAt = undefined;\n    } else if (playbackElement.playStartedAt) {\n      console.error('Got long view check without id');\n      playbackElement.playStartedAt = undefined;\n    }\n  }\n\n  static _checkAudioLongPlayTimeAndReset(\n    playbackElement: YpElementWithPlayback,\n    audioPlayer: HTMLElement\n  ) {\n    const audioId = audioPlayer.getAttribute('data-id');\n    if (playbackElement.playStartedAt && audioId) {\n      const seconds =\n        (new Date().getTime() - playbackElement.playStartedAt.getTime()) / 1000;\n      if (seconds > 5) {\n        window.appGlobals.sendLongAudioListen(audioId);\n      }\n      window.appGlobals.activity('completed', 'audio', seconds);\n      playbackElement.playStartedAt = undefined;\n    } else if (playbackElement.playStartedAt) {\n      console.error('Got long view check without audio id');\n      playbackElement.playStartedAt = undefined;\n    }\n  }\n\n  static getImageFormatUrl(\n    images: Array<YpImageData> | undefined,\n    formatId = 0\n  ) {\n    if (images && images.length > 0) {\n      const formats = JSON.parse(images[images.length - 1].formats);\n      if (formats && formats.length > 0) return formats[formatId];\n    } else {\n      return '';\n    }\n  }\n\n  static setupTopHeaderImage(\n    element: YpBaseElement,\n    images: Array<YpImageData> | null\n  ) {\n    if (element.wide) {\n      let path;\n      if (images) {\n        path = 'url(' + this.getImageFormatUrl(images, 0) + ')';\n      } else {\n        path = 'none';\n      }\n      window.appGlobals.theme.updateStyles({\n        '--top-area-background-image': path,\n      });\n    }\n  }\n\n  // TODO: Test this well\n  static attachMediaListeners(targetElement: YpElementWithPlayback) {\n    setTimeout(() => {\n      const videoPlayer = targetElement.$$('#videoPlayer');\n      const audioPlayer = targetElement.$$('#audioPlayer');\n      if (videoPlayer) {\n        const videoId = videoPlayer.getAttribute('data-id');\n        if (videoId) {\n          targetElement.videoPlayListener = () => {\n            targetElement.playStartedAt = new Date();\n            window.appGlobals.sendVideoView(parseInt(videoId));\n          };\n          targetElement.videoPauseListener = () => {\n            this._checkVideoLongPlayTimeAndReset(targetElement, videoPlayer);\n          };\n          targetElement.videoEndedListener = () => {\n            this._checkVideoLongPlayTimeAndReset(targetElement, videoPlayer);\n          };\n          videoPlayer.addEventListener(\n            'play',\n            targetElement.videoPlayListener.bind(targetElement)\n          );\n          videoPlayer.addEventListener(\n            'pause',\n            targetElement.videoPauseListener.bind(targetElement)\n          );\n          videoPlayer.addEventListener(\n            'ended',\n            targetElement.videoEndedListener.bind(targetElement)\n          );\n        }\n      }\n\n      if (audioPlayer) {\n        const audioId = audioPlayer.getAttribute('data-id');\n        if (audioId) {\n          targetElement.audioPlayListener = () => {\n            targetElement.playStartedAt = new Date();\n            window.appGlobals.sendAudioListen(audioId);\n          };\n          targetElement.audioPauseListener = () => {\n            this._checkAudioLongPlayTimeAndReset(targetElement, audioPlayer);\n          };\n          targetElement.audioEndedListener = () => {\n            this._checkAudioLongPlayTimeAndReset(targetElement, audioPlayer);\n          };\n          audioPlayer.addEventListener(\n            'play',\n            targetElement.audioPlayListener.bind(targetElement)\n          );\n          audioPlayer.addEventListener(\n            'pause',\n            targetElement.audioPauseListener.bind(targetElement)\n          );\n          audioPlayer.addEventListener(\n            'ended',\n            targetElement.audioEndedListener.bind(targetElement)\n          );\n        }\n      }\n    }, 200);\n  }\n\n  static detachMediaListeners(targetElement: YpElementWithPlayback) {\n    const videoPlayer = targetElement.$$('#videoPlayer');\n    const audioPlayer = targetElement.$$('#audioPlayer');\n    if (videoPlayer) {\n      if (targetElement.videoPlayListener) {\n        videoPlayer.removeEventListener(\n          'play',\n          targetElement.videoPlayListener\n        );\n        targetElement.videoPlayListener = undefined;\n      }\n      if (targetElement.videoPauseListener) {\n        videoPlayer.removeEventListener(\n          'pause',\n          targetElement.videoPauseListener\n        );\n        targetElement.videoPauseListener = undefined;\n      }\n      if (targetElement.videoEndedListener) {\n        videoPlayer.removeEventListener(\n          'ended',\n          targetElement.videoEndedListener\n        );\n        targetElement.videoEndedListener = undefined;\n      }\n      this._checkVideoLongPlayTimeAndReset(targetElement, videoPlayer);\n    }\n\n    if (audioPlayer) {\n      if (targetElement.audioPlayListener) {\n        audioPlayer.removeEventListener(\n          'play',\n          targetElement.audioPlayListener\n        );\n        targetElement.audioPlayListener = undefined;\n      }\n      if (targetElement.audioPauseListener) {\n        audioPlayer.removeEventListener(\n          'pause',\n          targetElement.audioPauseListener\n        );\n        targetElement.audioPauseListener = undefined;\n      }\n      if (targetElement.audioEndedListener) {\n        audioPlayer.removeEventListener(\n          'ended',\n          targetElement.audioEndedListener\n        );\n        targetElement.audioEndedListener = undefined;\n      }\n      this._checkVideoLongPlayTimeAndReset(targetElement, audioPlayer);\n    }\n  }\n\n  static pauseMediaPlayback(targetElement: YpElementWithPlayback) {\n    const videoPlayer = targetElement.$$('#videoPlayer') as HTMLAudioElement;\n    const audioPlayer = targetElement.$$('#audioPlayer') as HTMLVideoElement;\n    if (videoPlayer) {\n      videoPlayer.pause();\n    }\n    if (audioPlayer) {\n      audioPlayer.pause();\n    }\n  }\n\n  static getVideoURL(videos: Array<YpVideoData> | undefined) {\n    if (\n      videos &&\n      videos.length > 0 &&\n      videos[0].formats &&\n      videos[0].formats.length > 0\n    ) {\n      return videos[0].formats[0];\n    } else {\n      return null;\n    }\n  }\n\n  static isPortraitVideo(videos: Array<YpVideoData> | undefined) {\n    if (\n      videos &&\n      videos.length > 0 &&\n      videos[0].formats &&\n      videos[0].formats.length > 0\n    ) {\n      if (\n        videos[0].public_meta &&\n        videos[0].public_meta.aspect &&\n        videos[0].public_meta.aspect === 'portrait'\n      ) {\n        return true;\n      } else {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  static getAudioURL(audios: Array<YpAudioData> | undefined) {\n    if (\n      audios &&\n      audios.length > 0 &&\n      audios[0].formats &&\n      audios[0].formats.length > 0\n    ) {\n      return audios[0].formats[0];\n    } else {\n      return null;\n    }\n  }\n\n  static getVideoPosterURL(\n    videos: Array<YpVideoData> | undefined,\n    images: Array<YpImageData> | undefined,\n    selectedImageIndex = 0\n  ) {\n    if (\n      videos &&\n      videos.length > 0 &&\n      videos[0].VideoImages &&\n      videos[0].VideoImages.length > 0\n    ) {\n      if (\n        videos[0].public_meta &&\n        videos[0].public_meta.selectedVideoFrameIndex\n      ) {\n        selectedImageIndex = videos[0].public_meta.selectedVideoFrameIndex;\n      }\n      if (selectedImageIndex > videos[0].VideoImages.length - 1) {\n        selectedImageIndex = 0;\n      }\n      if (selectedImageIndex === -2 && images) {\n        return this.getImageFormatUrl(images, 0);\n      } else {\n        if (selectedImageIndex < 0) selectedImageIndex = 0;\n        return JSON.parse(videos[0].VideoImages[selectedImageIndex].formats)[0];\n      }\n    } else {\n      return null;\n    }\n  }\n}\n"]}